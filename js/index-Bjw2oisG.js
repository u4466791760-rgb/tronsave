(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Ki=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function es(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ws(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var g6={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function s(u,c,f,l,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,l||u,h),w=t?t+c:c;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],y]:u._events[w].push(y):(u._events[w]=y,u._eventsCount++),u}function a(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,l;if(this._eventsCount===0)return c;for(l in f=this._events)e.call(f,l)&&c.push(t?l.slice(1):l);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=t?t+c:c,l=this._events[f];if(!l)return[];if(l.fn)return[l.fn];for(var h=0,y=l.length,w=new Array(y);h<y;h++)w[h]=l[h].fn;return w},o.prototype.listenerCount=function(c){var f=t?t+c:c,l=this._events[f];return l?l.fn?1:l.length:0},o.prototype.emit=function(c,f,l,h,y,w){var _=t?t+c:c;if(!this._events[_])return!1;var v=this._events[_],S=arguments.length,k,C;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),S){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,l),!0;case 4:return v.fn.call(v.context,f,l,h),!0;case 5:return v.fn.call(v.context,f,l,h,y),!0;case 6:return v.fn.call(v.context,f,l,h,y,w),!0}for(C=1,k=new Array(S-1);C<S;C++)k[C-1]=arguments[C];v.fn.apply(v.context,k)}else{var $=v.length,W;for(C=0;C<$;C++)switch(v[C].once&&this.removeListener(c,v[C].fn,void 0,!0),S){case 1:v[C].fn.call(v[C].context);break;case 2:v[C].fn.call(v[C].context,f);break;case 3:v[C].fn.call(v[C].context,f,l);break;case 4:v[C].fn.call(v[C].context,f,l,h);break;default:if(!k)for(W=1,k=new Array(S-1);W<S;W++)k[W-1]=arguments[W];v[C].fn.apply(v[C].context,k)}}return!0},o.prototype.on=function(c,f,l){return s(this,c,f,l,!1)},o.prototype.once=function(c,f,l){return s(this,c,f,l,!0)},o.prototype.removeListener=function(c,f,l,h){var y=t?t+c:c;if(!this._events[y])return this;if(!f)return a(this,y),this;var w=this._events[y];if(w.fn)w.fn===f&&(!h||w.once)&&(!l||w.context===l)&&a(this,y);else{for(var _=0,v=[],S=w.length;_<S;_++)(w[_].fn!==f||h&&!w[_].once||l&&w[_].context!==l)&&v.push(w[_]);v.length?this._events[y]=v.length===1?v[0]:v:a(this,y)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=t?t+c:c,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,r.exports=o})(g6);var O7=g6.exports;const C7=es(O7);var tg;(function(r){r.Loading="Loading",r.NotFound="NotFound",r.Found="Found"})(tg||(tg={}));var zi;(function(r){r.Loading="Loading",r.NotFound="NotFound",r.Disconnect="Disconnected",r.Connected="Connected"})(zi||(zi={}));class T7 extends C7{get connected(){return this.state===zi.Connected}disconnect(){return console.info("The current adapter doesn't support disconnect by DApp."),Promise.resolve()}multiSign(...e){return Promise.reject("The current wallet doesn't support multiSign.")}switchChain(e){return Promise.reject("The current wallet doesn't support switch chain.")}}class Pa extends Error{constructor(e,t){super(e),this.error=t}}class D7 extends Pa{constructor(){super(...arguments),this.name="WalletNotFoundError",this.message="The wallet is not found."}}class A0 extends Pa{constructor(){super(...arguments),this.name="WalletDisconnectedError",this.message="The wallet is disconnected. Please connect first."}}class B7 extends Pa{constructor(){super(...arguments),this.name="WalletConnectionError"}}class L7 extends Pa{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class $7 extends Pa{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class F7 extends Pa{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class U7 extends Pa{constructor(){super(...arguments),this.name="WalletWindowClosedError",this.message="The QR window is closed."}}var $b;(function(r){r.Mainnet="Mainnet",r.Shasta="Shasta",r.Nile="Nile",r.Unknown="Unknown"})($b||($b={}));var rg;(function(r){r.Mainnet="Mainnet",r.Shasta="Shasta",r.Nile="Nile"})(rg||(rg={}));const q7="modulepreload",j7=function(r){return"/"+r},Fb={},b6=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(u=>{if(u=j7(u),u in Fb)return;Fb[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":q7,c||(l.as="script"),l.crossOrigin="",l.href=u,o&&l.setAttribute("nonce",o),document.head.appendChild(l),c)return new Promise((h,y)=>{l.addEventListener("load",h),l.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},z7=Symbol(),Ub=Object.getPrototypeOf,ng=new WeakMap,W7=r=>r&&(ng.has(r)?ng.get(r):Ub(r)===Object.prototype||Ub(r)===Array.prototype),K7=r=>W7(r)&&r[z7]||null,qb=(r,e=!0)=>{ng.set(r,e)},cd={},_0=r=>typeof r=="object"&&r!==null,Ns=new WeakMap,Sc=new WeakSet,H7=(r=Object.is,e=(c,f)=>new Proxy(c,f),t=c=>_0(c)&&!Sc.has(c)&&(Array.isArray(c)||!(Symbol.iterator in c))&&!(c instanceof WeakMap)&&!(c instanceof WeakSet)&&!(c instanceof Error)&&!(c instanceof Number)&&!(c instanceof Date)&&!(c instanceof String)&&!(c instanceof RegExp)&&!(c instanceof ArrayBuffer),n=c=>{switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:throw c}},i=new WeakMap,s=(c,f,l=n)=>{const h=i.get(c);if((h==null?void 0:h[0])===f)return h[1];const y=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c));return qb(y,!0),i.set(c,[f,y]),Reflect.ownKeys(c).forEach(w=>{if(Object.getOwnPropertyDescriptor(y,w))return;const _=Reflect.get(c,w),v={value:_,enumerable:!0,configurable:!0};if(Sc.has(_))qb(_,!1);else if(_ instanceof Promise)delete v.value,v.get=()=>l(_);else if(Ns.has(_)){const[S,k]=Ns.get(_);v.value=s(S,k(),l)}Object.defineProperty(y,w,v)}),Object.preventExtensions(y)},a=new WeakMap,o=[1,1],u=c=>{if(!_0(c))throw new Error("object required");const f=a.get(c);if(f)return f;let l=o[0];const h=new Set,y=(Q,fe=++o[0])=>{l!==fe&&(l=fe,h.forEach(j=>j(Q,fe)))};let w=o[1];const _=(Q=++o[1])=>(w!==Q&&!h.size&&(w=Q,S.forEach(([fe])=>{const j=fe[1](Q);j>l&&(l=j)})),l),v=Q=>(fe,j)=>{const g=[...fe];g[1]=[Q,...g[1]],y(g,j)},S=new Map,k=(Q,fe)=>{if((cd?"production":void 0)!=="production"&&S.has(Q))throw new Error("prop listener already exists");if(h.size){const j=fe[3](v(Q));S.set(Q,[fe,j])}else S.set(Q,[fe])},C=Q=>{var fe;const j=S.get(Q);j&&(S.delete(Q),(fe=j[1])==null||fe.call(j))},$=Q=>(h.add(Q),h.size===1&&S.forEach(([j,g],b)=>{if((cd?"production":void 0)!=="production"&&g)throw new Error("remove already exists");const d=j[3](v(b));S.set(b,[j,d])}),()=>{h.delete(Q),h.size===0&&S.forEach(([j,g],b)=>{g&&(g(),S.set(b,[j]))})}),W=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),ae=e(W,{deleteProperty(Q,fe){const j=Reflect.get(Q,fe);C(fe);const g=Reflect.deleteProperty(Q,fe);return g&&y(["delete",[fe],j]),g},set(Q,fe,j,g){const b=Reflect.has(Q,fe),d=Reflect.get(Q,fe,g);if(b&&(r(d,j)||a.has(j)&&r(d,a.get(j))))return!0;C(fe),_0(j)&&(j=K7(j)||j);let p=j;if(j instanceof Promise)j.then(A=>{j.status="fulfilled",j.value=A,y(["resolve",[fe],A])}).catch(A=>{j.status="rejected",j.reason=A,y(["reject",[fe],A])});else{!Ns.has(j)&&t(j)&&(p=u(j));const A=!Sc.has(p)&&Ns.get(p);A&&k(fe,A)}return Reflect.set(Q,fe,p,g),y(["set",[fe],j,d]),!0}});a.set(c,ae);const ee=[W,_,s,$];return Ns.set(ae,ee),Reflect.ownKeys(c).forEach(Q=>{const fe=Object.getOwnPropertyDescriptor(c,Q);"value"in fe&&(ae[Q]=c[Q],delete fe.value,delete fe.writable),Object.defineProperty(W,Q,fe)}),ae})=>[u,Ns,Sc,r,e,t,n,i,s,a,o],[V7]=H7();function zs(r={}){return V7(r)}function Ra(r,e,t){const n=Ns.get(r);(cd?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],a=n[3];let o=!1;const c=a(f=>{s.push(f),i||(i=Promise.resolve().then(()=>{i=void 0,o&&e(s.splice(0))}))});return o=!0,()=>{o=!1,c()}}function G7(r,e){const t=Ns.get(r);(cd?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,i,s]=t;return s(n,i(),e)}const Yr=zs({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),m6={state:Yr,subscribe(r){return Ra(Yr,()=>r(Yr))},push(r,e){r!==Yr.view&&(Yr.view=r,e&&(Yr.data=e),Yr.history.push(r))},reset(r){Yr.view=r,Yr.history=[r]},replace(r){Yr.history.length>1&&(Yr.history[Yr.history.length-1]=r,Yr.view=r)},goBack(){if(Yr.history.length>1){Yr.history.pop();const[r]=Yr.history.slice(-1);Yr.view=r}},setData(r){Yr.data=r}},An={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return An.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const r=navigator.userAgent.toLowerCase();return An.isMobile()&&(r.includes("iphone")||r.includes("ipad"))},isHttpUrl(r){return r.startsWith("http://")||r.startsWith("https://")},isArray(r){return Array.isArray(r)&&r.length>0},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},formatNativeUrl(r,e,t){if(An.isHttpUrl(r))return this.formatUniversalUrl(r,e,t);let n=r;n.includes("://")||(n=r.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,t);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},formatUniversalUrl(r,e,t){if(!An.isHttpUrl(r))return this.formatNativeUrl(r,e,t);let n=r;if(n.startsWith("https://t.me")){const s=Buffer.from(e).toString("base64").replace(/[=]/g,"");n.endsWith("/")&&(n=n.slice(0,-1)),this.setWalletConnectDeepLink(n,t);const a=new URL(n);return a.searchParams.set("startapp",s),a.toString()}n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,t);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},async wait(r){return new Promise(e=>{setTimeout(e,r)})},openHref(r,e){const t=this.isTelegram()?"_blank":e;window.open(r,t,"noreferrer noopener")},setWalletConnectDeepLink(r,e){try{localStorage.setItem(An.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:r,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(r){try{const[e]=r.split("?");localStorage.setItem(An.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(An.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(An.WCM_VERSION,"2.7.0")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var r;const e=(r=m6.state.data)==null?void 0:r.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},Z7=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),xn=zs({enabled:Z7,userSessionId:"",events:[],connectedWalletId:void 0}),J7={state:xn,subscribe(r){return Ra(xn.events,()=>r(G7(xn.events[xn.events.length-1])))},initialize(){xn.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(xn.userSessionId=crypto.randomUUID())},setConnectedWalletId(r){xn.connectedWalletId=r},click(r){if(xn.enabled){const e={type:"CLICK",name:r.name,userSessionId:xn.userSessionId,timestamp:Date.now(),data:r};xn.events.push(e)}},track(r){if(xn.enabled){const e={type:"TRACK",name:r.name,userSessionId:xn.userSessionId,timestamp:Date.now(),data:r};xn.events.push(e)}},view(r){if(xn.enabled){const e={type:"VIEW",name:r.name,userSessionId:xn.userSessionId,timestamp:Date.now(),data:r};xn.events.push(e)}}},Ci=zs({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),Ii={state:Ci,subscribe(r){return Ra(Ci,()=>r(Ci))},setChains(r){Ci.chains=r},setWalletConnectUri(r){Ci.walletConnectUri=r},setIsCustomDesktop(r){Ci.isCustomDesktop=r},setIsCustomMobile(r){Ci.isCustomMobile=r},setIsDataLoaded(r){Ci.isDataLoaded=r},setIsUiLoaded(r){Ci.isUiLoaded=r},setIsAuth(r){Ci.isAuth=r}},Ic=zs({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),Io={state:Ic,subscribe(r){return Ra(Ic,()=>r(Ic))},setConfig(r){var e,t;J7.initialize(),Ii.setChains(r.chains),Ii.setIsAuth(!!r.enableAuthMode),Ii.setIsCustomMobile(!!((e=r.mobileWallets)!=null&&e.length)),Ii.setIsCustomDesktop(!!((t=r.desktopWallets)!=null&&t.length)),An.setModalVersionInStorage(),Object.assign(Ic,r)}};var Y7=Object.defineProperty,jb=Object.getOwnPropertySymbols,Q7=Object.prototype.hasOwnProperty,X7=Object.prototype.propertyIsEnumerable,zb=(r,e,t)=>e in r?Y7(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,eA=(r,e)=>{for(var t in e||(e={}))Q7.call(e,t)&&zb(r,t,e[t]);if(jb)for(var t of jb(e))X7.call(e,t)&&zb(r,t,e[t]);return r};const ig="https://explorer-api.walletconnect.com",sg="wcm",ag="js-2.7.0";async function Mc(r,e){const t=eA({sdkType:sg,sdkVersion:ag},e),n=new URL(r,ig);return n.searchParams.append("projectId",Io.state.projectId),Object.entries(t).forEach(([s,a])=>{a&&n.searchParams.append(s,String(a))}),(await fetch(n)).json()}const Qs={async getDesktopListings(r){return Mc("/w3m/v1/getDesktopListings",r)},async getMobileListings(r){return Mc("/w3m/v1/getMobileListings",r)},async getInjectedListings(r){return Mc("/w3m/v1/getInjectedListings",r)},async getAllListings(r){return Mc("/w3m/v1/getAllListings",r)},getWalletImageUrl(r){return`${ig}/w3m/v1/getWalletImage/${r}?projectId=${Io.state.projectId}&sdkType=${sg}&sdkVersion=${ag}`},getAssetImageUrl(r){return`${ig}/w3m/v1/getAssetImage/${r}?projectId=${Io.state.projectId}&sdkType=${sg}&sdkVersion=${ag}`}};var tA=Object.defineProperty,Wb=Object.getOwnPropertySymbols,rA=Object.prototype.hasOwnProperty,nA=Object.prototype.propertyIsEnumerable,Kb=(r,e,t)=>e in r?tA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,iA=(r,e)=>{for(var t in e||(e={}))rA.call(e,t)&&Kb(r,t,e[t]);if(Wb)for(var t of Wb(e))nA.call(e,t)&&Kb(r,t,e[t]);return r};const Hb=An.isMobile(),Ti=zs({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),ZW={state:Ti,async getRecomendedWallets(){const{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:e}=Io.state;if(r==="NONE"||e==="ALL"&&!r)return Ti.recomendedWallets;if(An.isArray(r)){const n={recommendedIds:r.join(",")},{listings:i}=await Qs.getAllListings(n),s=Object.values(i);s.sort((a,o)=>{const u=r.indexOf(a.id),c=r.indexOf(o.id);return u-c}),Ti.recomendedWallets=s}else{const{chains:t,isAuth:n}=Ii.state,i=t==null?void 0:t.join(","),s=An.isArray(e),a={page:1,sdks:n?"auth_v1":void 0,entries:An.RECOMMENDED_WALLET_AMOUNT,chains:i,version:2,excludedIds:s?e.join(","):void 0},{listings:o}=Hb?await Qs.getMobileListings(a):await Qs.getDesktopListings(a);Ti.recomendedWallets=Object.values(o)}return Ti.recomendedWallets},async getWallets(r){const e=iA({},r),{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:n}=Io.state,{recomendedWallets:i}=Ti;if(n==="ALL")return Ti.wallets;i.length?e.excludedIds=i.map(l=>l.id).join(","):An.isArray(t)&&(e.excludedIds=t.join(",")),An.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(",")),Ii.state.isAuth&&(e.sdks="auth_v1");const{page:s,search:a}=r,{listings:o,total:u}=Hb?await Qs.getMobileListings(e):await Qs.getDesktopListings(e),c=Object.values(o),f=a?"search":"wallets";return Ti[f]={listings:[...Ti[f].listings,...c],total:u,page:s??1},{listings:c,total:u}},getWalletImageUrl(r){return Qs.getWalletImageUrl(r)},getAssetImageUrl(r){return Qs.getAssetImageUrl(r)},resetSearch(){Ti.search={listings:[],total:0,page:1}}},Fa=zs({open:!1}),E0={state:Fa,subscribe(r){return Ra(Fa,()=>r(Fa))},async open(r){return new Promise(e=>{const{isUiLoaded:t,isDataLoaded:n}=Ii.state;if(An.removeWalletConnectDeepLink(),Ii.setWalletConnectUri(r==null?void 0:r.uri),Ii.setChains(r==null?void 0:r.chains),m6.reset("ConnectWallet"),t&&n)Fa.open=!0,e();else{const i=setInterval(()=>{const s=Ii.state;s.isUiLoaded&&s.isDataLoaded&&(clearInterval(i),Fa.open=!0,e())},200)}})},close(){Fa.open=!1}};var sA=Object.defineProperty,Vb=Object.getOwnPropertySymbols,aA=Object.prototype.hasOwnProperty,oA=Object.prototype.propertyIsEnumerable,Gb=(r,e,t)=>e in r?sA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,uA=(r,e)=>{for(var t in e||(e={}))aA.call(e,t)&&Gb(r,t,e[t]);if(Vb)for(var t of Vb(e))oA.call(e,t)&&Gb(r,t,e[t]);return r};function cA(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const Xo=zs({themeMode:cA()?"dark":"light"}),Zb={state:Xo,subscribe(r){return Ra(Xo,()=>r(Xo))},setThemeConfig(r){const{themeMode:e,themeVariables:t}=r;e&&(Xo.themeMode=e),t&&(Xo.themeVariables=uA({},t))}},Xs=zs({open:!1,message:"",variant:"success"}),JW={state:Xs,subscribe(r){return Ra(Xs,()=>r(Xs))},openToast(r,e){Xs.open=!0,Xs.message=r,Xs.variant=e},closeToast(){Xs.open=!1}};class fA{constructor(e){this.openModal=E0.open,this.closeModal=E0.close,this.subscribeModal=E0.subscribe,this.setTheme=Zb.setThemeConfig,Zb.setThemeConfig(e),Io.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await b6(()=>import("./index-CbncEm0E.js"),[]);const e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),Ii.setIsUiLoaded(!0)}}}var i1={exports:{}},Ao=typeof Reflect=="object"?Reflect:null,Jb=Ao&&typeof Ao.apply=="function"?Ao.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},Kl;Ao&&typeof Ao.ownKeys=="function"?Kl=Ao.ownKeys:Object.getOwnPropertySymbols?Kl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Kl=function(e){return Object.getOwnPropertyNames(e)};function lA(r){console&&console.warn&&console.warn(r)}var v6=Number.isNaN||function(e){return e!==e};function mr(){mr.init.call(this)}i1.exports=mr;i1.exports.once=gA;mr.EventEmitter=mr;mr.prototype._events=void 0;mr.prototype._eventsCount=0;mr.prototype._maxListeners=void 0;var Yb=10;function Dd(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(mr,"defaultMaxListeners",{enumerable:!0,get:function(){return Yb},set:function(r){if(typeof r!="number"||r<0||v6(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Yb=r}});mr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};mr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||v6(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function y6(r){return r._maxListeners===void 0?mr.defaultMaxListeners:r._maxListeners}mr.prototype.getMaxListeners=function(){return y6(this)};mr.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")Jb(u,this,t);else for(var c=u.length,f=E6(u,c),n=0;n<c;++n)Jb(f[n],this,t);return!0};function x6(r,e,t,n){var i,s,a;if(Dd(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),a=s[e]),a===void 0)a=s[e]=t,++r._eventsCount;else if(typeof a=="function"?a=s[e]=n?[t,a]:[a,t]:n?a.unshift(t):a.push(t),i=y6(r),i>0&&a.length>i&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=r,o.type=e,o.count=a.length,lA(o)}return r}mr.prototype.addListener=function(e,t){return x6(this,e,t,!1)};mr.prototype.on=mr.prototype.addListener;mr.prototype.prependListener=function(e,t){return x6(this,e,t,!0)};function dA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w6(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=dA.bind(n);return i.listener=t,n.wrapFn=i,i}mr.prototype.once=function(e,t){return Dd(t),this.on(e,w6(this,e,t)),this};mr.prototype.prependOnceListener=function(e,t){return Dd(t),this.prependListener(e,w6(this,e,t)),this};mr.prototype.removeListener=function(e,t){var n,i,s,a,o;if(Dd(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():hA(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this};mr.prototype.off=mr.prototype.removeListener;mr.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function A6(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?pA(i):E6(i,i.length)}mr.prototype.listeners=function(e){return A6(this,e,!0)};mr.prototype.rawListeners=function(e){return A6(this,e,!1)};mr.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):_6.call(r,e)};mr.prototype.listenerCount=_6;function _6(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}mr.prototype.eventNames=function(){return this._eventsCount>0?Kl(this._events):[]};function E6(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function hA(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function pA(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function gA(r,e){return new Promise(function(t,n){function i(a){r.removeListener(e,s),n(a)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}S6(r,e,s,{once:!0}),e!=="error"&&bA(r,i,{once:!0})})}function bA(r,e,t){typeof r.on=="function"&&S6(r,"error",e,t)}function S6(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(s){n.once&&r.removeEventListener(e,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var Oi=i1.exports;const I6=es(Oi);var ft={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var og=function(r,e){return og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},og(r,e)};function mA(r,e){og(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ug=function(){return ug=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ug.apply(this,arguments)};function vA(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function yA(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(i<3?a(s):i>3?a(e,t,s):a(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function xA(r,e){return function(t,n){e(t,n,r)}}function wA(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function AA(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})}function _A(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function EA(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function SA(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function cg(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function M6(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return s}function IA(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(M6(arguments[e]));return r}function MA(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function Tu(r){return this instanceof Tu?(this.v=r,this):new Tu(r)}function PA(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(h){n[h]&&(i[h]=function(y){return new Promise(function(w,_){s.push([h,y,w,_])>1||o(h,y)})})}function o(h,y){try{u(n[h](y))}catch(w){l(s[0][3],w)}}function u(h){h.value instanceof Tu?Promise.resolve(h.value.v).then(c,f):l(s[0][2],h)}function c(h){o("next",h)}function f(h){o("throw",h)}function l(h,y){h(y),s.shift(),s.length&&o(s[0][0],s[0][1])}}function RA(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(a){return(t=!t)?{value:Tu(r[i](a)),done:i==="return"}:s?s(a):a}:s}}function kA(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof cg=="function"?cg(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(a){return new Promise(function(o,u){a=r[s](a),i(o,u,a.done,a.value)})}}function i(s,a,o,u){Promise.resolve(u).then(function(c){s({value:c,done:o})},a)}}function NA(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function OA(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function CA(r){return r&&r.__esModule?r:{default:r}}function TA(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function DA(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const BA=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ug},__asyncDelegator:RA,__asyncGenerator:PA,__asyncValues:kA,__await:Tu,__awaiter:AA,__classPrivateFieldGet:TA,__classPrivateFieldSet:DA,__createBinding:EA,__decorate:yA,__exportStar:SA,__extends:mA,__generator:_A,__importDefault:CA,__importStar:OA,__makeTemplateObject:NA,__metadata:wA,__param:xA,__read:M6,__rest:vA,__spread:IA,__spreadArrays:MA,__values:cg},Symbol.toStringTag,{value:"Module"})),Xu=ws(BA);var S0={},eu={},Qb;function LA(){if(Qb)return eu;Qb=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.delay=void 0;function r(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return eu.delay=r,eu}var ea={},I0={},ta={},Xb;function $A(){return Xb||(Xb=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.ONE_THOUSAND=ta.ONE_HUNDRED=void 0,ta.ONE_HUNDRED=100,ta.ONE_THOUSAND=1e3),ta}var M0={},em;function FA(){return em||(em=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365}(M0)),M0}var tm;function P6(){return tm||(tm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Xu;e.__exportStar($A(),r),e.__exportStar(FA(),r)}(I0)),I0}var rm;function UA(){if(rm)return ea;rm=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.fromMiliseconds=ea.toMiliseconds=void 0;const r=P6();function e(n){return n*r.ONE_THOUSAND}ea.toMiliseconds=e;function t(n){return Math.floor(n/r.ONE_THOUSAND)}return ea.fromMiliseconds=t,ea}var nm;function qA(){return nm||(nm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Xu;e.__exportStar(LA(),r),e.__exportStar(UA(),r)}(S0)),S0}var Ua={},im;function jA(){if(im)return Ua;im=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const n=this.get(t);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const i=Date.now()-n.started;this.timestamps.set(t,{started:n.started,elapsed:i})}get(t){const n=this.timestamps.get(t);if(typeof n>"u")throw new Error(`No timestamp found for label: ${t}`);return n}elapsed(t){const n=this.get(t);return n.elapsed||Date.now()-n.started}}return Ua.Watch=r,Ua.default=r,Ua}var P0={},tu={},sm;function zA(){if(sm)return tu;sm=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.IWatch=void 0;class r{}return tu.IWatch=r,tu}var am;function WA(){return am||(am=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Xu.__exportStar(zA(),r)}(P0)),P0}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Xu;e.__exportStar(qA(),r),e.__exportStar(jA(),r),e.__exportStar(WA(),r),e.__exportStar(P6(),r)})(ft);class ka{}let KA=class extends ka{constructor(e){super()}};const om=ft.FIVE_SECONDS,Fo={pulse:"heartbeat_pulse"};let HA=class R6 extends KA{constructor(e){super(e),this.events=new Oi.EventEmitter,this.interval=om,this.interval=(e==null?void 0:e.interval)||om}static async init(e){const t=new R6(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ft.toMiliseconds(this.interval))}pulse(){this.events.emit(Fo.pulse)}};const VA=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,GA=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ZA=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function JA(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){YA(r);return}return e}function YA(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function Pc(r,e={}){if(typeof r!="string")return r;if(r[0]==='"'&&r[r.length-1]==='"'&&r.indexOf("\\")===-1)return r.slice(1,-1);const t=r.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!ZA.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(VA.test(r)||GA.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,JA)}return JSON.parse(r)}catch(n){if(e.strict)throw n;return r}}function QA(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function en(r,...e){try{return QA(r(...e))}catch(t){return Promise.reject(t)}}function XA(r){const e=typeof r;return r===null||e!=="object"&&e!=="function"}function e_(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function Hl(r){if(XA(r))return String(r);if(e_(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return Hl(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const fg="base64:";function t_(r){return typeof r=="string"?r:fg+i_(r)}function r_(r){return typeof r!="string"||!r.startsWith(fg)?r:n_(r.slice(fg.length))}function n_(r){return globalThis.Buffer?Buffer.from(r,"base64"):Uint8Array.from(globalThis.atob(r),e=>e.codePointAt(0))}function i_(r){return globalThis.Buffer?Buffer.from(r).toString("base64"):globalThis.btoa(String.fromCodePoint(...r))}function Fn(r){var e;return r&&((e=r.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function s_(...r){return Fn(r.join(":"))}function Rc(r){return r=Fn(r),r?r+":":""}function a_(r,e){if(e===void 0)return!0;let t=0,n=r.indexOf(":");for(;n>-1;)t++,n=r.indexOf(":",n+1);return t<=e}function o_(r,e){return e?r.startsWith(e)&&r[r.length-1]!=="$":r[r.length-1]!=="$"}const u_="memory",c_=()=>{const r=new Map;return{name:u_,getInstance:()=>r,hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,t){r.set(e,t)},setItemRaw(e,t){r.set(e,t)},removeItem(e){r.delete(e)},getKeys(){return[...r.keys()]},clear(){r.clear()},dispose(){r.clear()}}};function f_(r={}){const e={mounts:{"":r.driver||c_()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=c=>{for(const f of e.mountpoints)if(c.startsWith(f))return{base:f,relativeKey:c.slice(f.length),driver:e.mounts[f]};return{base:"",relativeKey:c,driver:e.mounts[""]}},n=(c,f)=>e.mountpoints.filter(l=>l.startsWith(c)||f&&c.startsWith(l)).map(l=>({relativeBase:c.length>l.length?c.slice(l.length):void 0,mountpoint:l,driver:e.mounts[l]})),i=(c,f)=>{if(e.watching){f=Fn(f);for(const l of e.watchListeners)l(c,f)}},s=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await um(e.mounts[c],i,c)}},a=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},o=(c,f,l)=>{const h=new Map,y=w=>{let _=h.get(w.base);return _||(_={driver:w.driver,base:w.base,items:[]},h.set(w.base,_)),_};for(const w of c){const _=typeof w=="string",v=Fn(_?w:w.key),S=_?void 0:w.value,k=_||!w.options?f:{...f,...w.options},C=t(v);y(C).items.push({key:v,value:S,relativeKey:C.relativeKey,options:k})}return Promise.all([...h.values()].map(w=>l(w))).then(w=>w.flat())},u={hasItem(c,f={}){c=Fn(c);const{relativeKey:l,driver:h}=t(c);return en(h.hasItem,l,f)},getItem(c,f={}){c=Fn(c);const{relativeKey:l,driver:h}=t(c);return en(h.getItem,l,f).then(y=>Pc(y))},getItems(c,f={}){return o(c,f,l=>l.driver.getItems?en(l.driver.getItems,l.items.map(h=>({key:h.relativeKey,options:h.options})),f).then(h=>h.map(y=>({key:s_(l.base,y.key),value:Pc(y.value)}))):Promise.all(l.items.map(h=>en(l.driver.getItem,h.relativeKey,h.options).then(y=>({key:h.key,value:Pc(y)})))))},getItemRaw(c,f={}){c=Fn(c);const{relativeKey:l,driver:h}=t(c);return h.getItemRaw?en(h.getItemRaw,l,f):en(h.getItem,l,f).then(y=>r_(y))},async setItem(c,f,l={}){if(f===void 0)return u.removeItem(c);c=Fn(c);const{relativeKey:h,driver:y}=t(c);y.setItem&&(await en(y.setItem,h,Hl(f),l),y.watch||i("update",c))},async setItems(c,f){await o(c,f,async l=>{if(l.driver.setItems)return en(l.driver.setItems,l.items.map(h=>({key:h.relativeKey,value:Hl(h.value),options:h.options})),f);l.driver.setItem&&await Promise.all(l.items.map(h=>en(l.driver.setItem,h.relativeKey,Hl(h.value),h.options)))})},async setItemRaw(c,f,l={}){if(f===void 0)return u.removeItem(c,l);c=Fn(c);const{relativeKey:h,driver:y}=t(c);if(y.setItemRaw)await en(y.setItemRaw,h,f,l);else if(y.setItem)await en(y.setItem,h,t_(f),l);else return;y.watch||i("update",c)},async removeItem(c,f={}){typeof f=="boolean"&&(f={removeMeta:f}),c=Fn(c);const{relativeKey:l,driver:h}=t(c);h.removeItem&&(await en(h.removeItem,l,f),(f.removeMeta||f.removeMata)&&await en(h.removeItem,l+"$",f),h.watch||i("remove",c))},async getMeta(c,f={}){typeof f=="boolean"&&(f={nativeOnly:f}),c=Fn(c);const{relativeKey:l,driver:h}=t(c),y=Object.create(null);if(h.getMeta&&Object.assign(y,await en(h.getMeta,l,f)),!f.nativeOnly){const w=await en(h.getItem,l+"$",f).then(_=>Pc(_));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(y,w))}return y},setMeta(c,f,l={}){return this.setItem(c+"$",f,l)},removeMeta(c,f={}){return this.removeItem(c+"$",f)},async getKeys(c,f={}){var v;c=Rc(c);const l=n(c,!0);let h=[];const y=[];let w=!0;for(const S of l){(v=S.driver.flags)!=null&&v.maxDepth||(w=!1);const k=await en(S.driver.getKeys,S.relativeBase,f);for(const C of k){const $=S.mountpoint+Fn(C);h.some(W=>$.startsWith(W))||y.push($)}h=[S.mountpoint,...h.filter(C=>!C.startsWith(S.mountpoint))]}const _=f.maxDepth!==void 0&&!w;return y.filter(S=>(!_||a_(S,f.maxDepth))&&o_(S,c))},async clear(c,f={}){c=Rc(c),await Promise.all(n(c,!1).map(async l=>{if(l.driver.clear)return en(l.driver.clear,l.relativeBase,f);if(l.driver.removeItem){const h=await l.driver.getKeys(l.relativeBase||"",f);return Promise.all(h.map(y=>l.driver.removeItem(y,f)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>cm(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(f=>f!==c),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(c,f){if(c=Rc(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((l,h)=>h.length-l.length)),e.mounts[c]=f,e.watching&&Promise.resolve(um(f,i,c)).then(l=>{e.unwatch[c]=l}).catch(console.error),u},async unmount(c,f=!0){var l,h;c=Rc(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&((h=(l=e.unwatch)[c])==null||h.call(l),delete e.unwatch[c]),f&&await cm(e.mounts[c]),e.mountpoints=e.mountpoints.filter(y=>y!==c),delete e.mounts[c])},getMount(c=""){c=Fn(c)+":";const f=t(c);return{driver:f.driver,base:f.base}},getMounts(c="",f={}){return c=Fn(c),n(c,f.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(c,f={})=>u.getKeys(c,f),get:(c,f={})=>u.getItem(c,f),set:(c,f,l={})=>u.setItem(c,f,l),has:(c,f={})=>u.hasItem(c,f),del:(c,f={})=>u.removeItem(c,f),remove:(c,f={})=>u.removeItem(c,f)};return u}function um(r,e,t){return r.watch?r.watch((n,i)=>e(n,t+i)):()=>{}}async function cm(r){typeof r.dispose=="function"&&await en(r.dispose)}function Na(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function k6(r,e){const t=indexedDB.open(r);t.onupgradeneeded=()=>t.result.createObjectStore(e);const n=Na(t);return(i,s)=>n.then(a=>s(a.transaction(e,i).objectStore(e)))}let R0;function ec(){return R0||(R0=k6("keyval-store","keyval")),R0}function fm(r,e=ec()){return e("readonly",t=>Na(t.get(r)))}function l_(r,e,t=ec()){return t("readwrite",n=>(n.put(e,r),Na(n.transaction)))}function d_(r,e=ec()){return e("readwrite",t=>(t.delete(r),Na(t.transaction)))}function h_(r=ec()){return r("readwrite",e=>(e.clear(),Na(e.transaction)))}function p_(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Na(r.transaction)}function g_(r=ec()){return r("readonly",e=>{if(e.getAllKeys)return Na(e.getAllKeys());const t=[];return p_(e,n=>t.push(n.key)).then(()=>t)})}const b_=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),m_=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Mo(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return m_(r)}catch{return r}}function xa(r){return typeof r=="string"?r:b_(r)||""}const v_="idb-keyval";var y_=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",t=i=>e+i;let n;return r.dbName&&r.storeName&&(n=k6(r.dbName,r.storeName)),{name:v_,options:r,async hasItem(i){return!(typeof await fm(t(i),n)>"u")},async getItem(i){return await fm(t(i),n)??null},setItem(i,s){return l_(t(i),s,n)},removeItem(i){return d_(t(i),n)},getKeys(){return g_(n)},clear(){return h_(n)}}};const x_="WALLET_CONNECT_V2_INDEXED_DB",w_="keyvaluestorage";let A_=class{constructor(){this.indexedDb=f_({driver:y_({dbName:x_,storeName:w_})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,xa(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vl={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,n){this[t]=String(n)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(n){t[n]=void 0,delete t[n]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof k0<"u"&&k0.localStorage?Vl.exports=k0.localStorage:typeof window<"u"&&window.localStorage?Vl.exports=window.localStorage:Vl.exports=new e})();function __(r){var e;return[r[0],Mo((e=r[1])!=null?e:"")]}let E_=class{constructor(){this.localStorage=Vl.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(__)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return Mo(t)}async setItem(e,t){this.localStorage.setItem(e,xa(t))}async removeItem(e){this.localStorage.removeItem(e)}};const S_="wc_storage_version",lm=1,I_=async(r,e,t)=>{const n=S_,i=await e.getItem(n);if(i&&i>=lm){t(e);return}const s=await r.getKeys();if(!s.length){t(e);return}const a=[];for(;s.length;){const o=s.shift();if(!o)continue;const u=o.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){const c=await r.getItem(o);await e.setItem(o,c),a.push(o)}}await e.setItem(n,lm),t(e),M_(r,a)},M_=async(r,e)=>{e.length&&e.forEach(async t=>{await r.removeItem(t)})};let P_=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new E_;this.storage=e;try{const t=new A_;I_(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};function R_(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}var k_=N_;function N_(r,e,t){var n=t&&t.stringify||R_,i=1;if(typeof r=="object"&&r!==null){var s=e.length+i;if(s===1)return r;var a=new Array(s);a[0]=n(r);for(var o=1;o<s;o++)a[o]=n(e[o]);return a.join(" ")}if(typeof r!="string")return r;var u=e.length;if(u===0)return r;for(var c="",f=1-i,l=-1,h=r&&r.length||0,y=0;y<h;){if(r.charCodeAt(y)===37&&y+1<h){switch(l=l>-1?l:0,r.charCodeAt(y+1)){case 100:case 102:if(f>=u||e[f]==null)break;l<y&&(c+=r.slice(l,y)),c+=Number(e[f]),l=y+2,y++;break;case 105:if(f>=u||e[f]==null)break;l<y&&(c+=r.slice(l,y)),c+=Math.floor(Number(e[f])),l=y+2,y++;break;case 79:case 111:case 106:if(f>=u||e[f]===void 0)break;l<y&&(c+=r.slice(l,y));var w=typeof e[f];if(w==="string"){c+="'"+e[f]+"'",l=y+2,y++;break}if(w==="function"){c+=e[f].name||"<anonymous>",l=y+2,y++;break}c+=n(e[f]),l=y+2,y++;break;case 115:if(f>=u)break;l<y&&(c+=r.slice(l,y)),c+=String(e[f]),l=y+2,y++;break;case 37:l<y&&(c+=r.slice(l,y)),c+="%",l=y+2,y++,f--;break}++f}++y}return l===-1?r:(l<h&&(c+=r.slice(l)),c)}const dm=k_;var po=Qi;const Du=q_().console||{},O_={mapHttpRequest:kc,mapHttpResponse:kc,wrapRequestSerializer:N0,wrapResponseSerializer:N0,wrapErrorSerializer:N0,req:kc,res:kc,err:L_};function C_(r,e){return Array.isArray(r)?r.filter(function(n){return n!=="!stdSerializers.err"}):r===!0?Object.keys(e):!1}function Qi(r){r=r||{},r.browser=r.browser||{};const e=r.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const t=r.browser.write||Du;r.browser.write&&(r.browser.asObject=!0);const n=r.serializers||{},i=C_(r.browser.serialize,n);let s=r.browser.serialize;Array.isArray(r.browser.serialize)&&r.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const a=["error","fatal","warn","info","debug","trace"];typeof t=="function"&&(t.error=t.fatal=t.warn=t.info=t.debug=t.trace=t),r.enabled===!1&&(r.level="silent");const o=r.level||"info",u=Object.create(t);u.log||(u.log=Bu),Object.defineProperty(u,"levelVal",{get:f}),Object.defineProperty(u,"level",{get:l,set:h});const c={transmit:e,serialize:i,asObject:r.browser.asObject,levels:a,timestamp:$_(r)};u.levels=Qi.levels,u.level=o,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=Bu,u.serializers=n,u._serialize=i,u._stdErrSerialize=s,u.child=y,e&&(u._logEvent=lg());function f(){return this.level==="silent"?1/0:this.levels.values[this.level]}function l(){return this._level}function h(w){if(w!=="silent"&&!this.levels.values[w])throw Error("unknown level "+w);this._level=w,qa(c,u,"error","log"),qa(c,u,"fatal","error"),qa(c,u,"warn","error"),qa(c,u,"info","log"),qa(c,u,"debug","log"),qa(c,u,"trace","log")}function y(w,_){if(!w)throw new Error("missing bindings for child Pino");_=_||{},i&&w.serializers&&(_.serializers=w.serializers);const v=_.serializers;if(i&&v){var S=Object.assign({},n,v),k=r.browser.serialize===!0?Object.keys(S):i;delete w.serializers,Bd([w],k,S,this._stdErrSerialize)}function C($){this._childLevel=($._childLevel|0)+1,this.error=ja($,w,"error"),this.fatal=ja($,w,"fatal"),this.warn=ja($,w,"warn"),this.info=ja($,w,"info"),this.debug=ja($,w,"debug"),this.trace=ja($,w,"trace"),S&&(this.serializers=S,this._serialize=k),e&&(this._logEvent=lg([].concat($._logEvent.bindings,w)))}return C.prototype=this,new C(this)}return u}Qi.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Qi.stdSerializers=O_;Qi.stdTimeFunctions=Object.assign({},{nullTime:N6,epochTime:O6,unixTime:F_,isoTime:U_});function qa(r,e,t,n){const i=Object.getPrototypeOf(e);e[t]=e.levelVal>e.levels.values[t]?Bu:i[t]?i[t]:Du[t]||Du[n]||Bu,T_(r,e,t)}function T_(r,e,t){!r.transmit&&e[t]===Bu||(e[t]=function(n){return function(){const s=r.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Du?Du:this;for(var u=0;u<a.length;u++)a[u]=arguments[u];if(r.serialize&&!r.asObject&&Bd(a,this._serialize,this.serializers,this._stdErrSerialize),r.asObject?n.call(o,D_(this,t,a,s)):n.apply(o,a),r.transmit){const c=r.transmit.level||e.level,f=Qi.levels.values[c],l=Qi.levels.values[t];if(l<f)return;B_(this,{ts:s,methodLevel:t,methodValue:l,transmitValue:Qi.levels.values[r.transmit.level||e.level],send:r.transmit.send,val:e.levelVal},a)}}}(e[t]))}function D_(r,e,t,n){r._serialize&&Bd(t,r._serialize,r.serializers,r._stdErrSerialize);const i=t.slice();let s=i[0];const a={};n&&(a.time=n),a.level=Qi.levels.values[e];let o=(r._childLevel|0)+1;if(o<1&&(o=1),s!==null&&typeof s=="object"){for(;o--&&typeof i[0]=="object";)Object.assign(a,i.shift());s=i.length?dm(i.shift(),i):void 0}else typeof s=="string"&&(s=dm(i.shift(),i));return s!==void 0&&(a.msg=s),a}function Bd(r,e,t,n){for(const i in r)if(n&&r[i]instanceof Error)r[i]=Qi.stdSerializers.err(r[i]);else if(typeof r[i]=="object"&&!Array.isArray(r[i]))for(const s in r[i])e&&e.indexOf(s)>-1&&s in t&&(r[i][s]=t[s](r[i][s]))}function ja(r,e,t){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return r[t].apply(this,n)}}function B_(r,e,t){const n=e.send,i=e.ts,s=e.methodLevel,a=e.methodValue,o=e.val,u=r._logEvent.bindings;Bd(t,r._serialize||Object.keys(r.serializers),r.serializers,r._stdErrSerialize===void 0?!0:r._stdErrSerialize),r._logEvent.ts=i,r._logEvent.messages=t.filter(function(c){return u.indexOf(c)===-1}),r._logEvent.level.label=s,r._logEvent.level.value=a,n(s,r._logEvent,o),r._logEvent=lg(u)}function lg(r){return{ts:0,messages:[],bindings:r||[],level:{label:"",value:0}}}function L_(r){const e={type:r.constructor.name,msg:r.message,stack:r.stack};for(const t in r)e[t]===void 0&&(e[t]=r[t]);return e}function $_(r){return typeof r.timestamp=="function"?r.timestamp:r.timestamp===!1?N6:O6}function kc(){return{}}function N0(r){return r}function Bu(){}function N6(){return!1}function O6(){return Date.now()}function F_(){return Math.round(Date.now()/1e3)}function U_(){return new Date(Date.now()).toISOString()}function q_(){function r(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return r(self)||r(window)||r(this)||{}}}const Ld=es(po),j_={level:"info"},tc="custom_context",s1=1e3*1024;let z_=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},hm=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new z_(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}},C6=class{constructor(e,t=s1){this.level=e??"error",this.levelValue=po.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new hm(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===po.levels.values.error?console.error(e):t===po.levels.values.warn?console.warn(e):t===po.levels.values.debug?console.debug(e):t===po.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(xa({timestamp:new Date().toISOString(),log:e}));const t=typeof e=="string"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new hm(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(xa({extraMetadata:e})),new Blob(t,{type:"application/json"})}},W_=class{constructor(e,t=s1){this.baseChunkLogger=new C6(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}},K_=class{constructor(e,t=s1){this.baseChunkLogger=new C6(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var H_=Object.defineProperty,V_=Object.defineProperties,G_=Object.getOwnPropertyDescriptors,pm=Object.getOwnPropertySymbols,Z_=Object.prototype.hasOwnProperty,J_=Object.prototype.propertyIsEnumerable,gm=(r,e,t)=>e in r?H_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fd=(r,e)=>{for(var t in e||(e={}))Z_.call(e,t)&&gm(r,t,e[t]);if(pm)for(var t of pm(e))J_.call(e,t)&&gm(r,t,e[t]);return r},ld=(r,e)=>V_(r,G_(e));function a1(r){return ld(fd({},r),{level:(r==null?void 0:r.level)||j_.level})}function Y_(r,e=tc){return r[e]||""}function Q_(r,e,t=tc){return r[t]=e,r}function Kn(r,e=tc){let t="";return typeof r.bindings>"u"?t=Y_(r,e):t=r.bindings().context||"",t}function X_(r,e,t=tc){const n=Kn(r,t);return n.trim()?`${n}/${e}`:e}function Tn(r,e,t=tc){const n=X_(r,e,t),i=r.child({context:n});return Q_(i,n,t)}function eE(r){var e,t;const n=new W_((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:Ld(ld(fd({},r.opts),{level:"trace",browser:ld(fd({},(t=r.opts)==null?void 0:t.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function tE(r){var e;const t=new K_((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:Ld(ld(fd({},r.opts),{level:"trace"}),t),chunkLoggerController:t}}function rE(r){return typeof r.loggerOverride<"u"&&typeof r.loggerOverride!="string"?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<"u"?eE(r):tE(r)}var nE=Object.defineProperty,iE=(r,e,t)=>e in r?nE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bm=(r,e,t)=>iE(r,typeof e!="symbol"?e+"":e,t);let sE=class extends ka{constructor(e){super(),this.opts=e,bm(this,"protocol","wc"),bm(this,"version",2)}};var aE=Object.defineProperty,oE=(r,e,t)=>e in r?aE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,uE=(r,e,t)=>oE(r,e+"",t);class cE extends ka{constructor(e,t){super(),this.core=e,this.logger=t,uE(this,"records",new Map)}}let fE=class{constructor(e,t){this.logger=e,this.core=t}};class lE extends ka{constructor(e,t){super(),this.relayer=e,this.logger=t}}let dE=class extends ka{constructor(e){super()}},hE=class{constructor(e,t,n,i){this.core=e,this.logger=t,this.name=n}},pE=class extends ka{constructor(e,t){super(),this.relayer=e,this.logger=t}},gE=class extends ka{constructor(e,t){super(),this.core=e,this.logger=t}},bE=class{constructor(e,t,n){this.core=e,this.logger=t,this.store=n}};class mE{constructor(e,t){this.projectId=e,this.logger=t}}let vE=class{constructor(e,t,n){this.core=e,this.logger=t,this.telemetryEnabled=n}};var yE=Object.defineProperty,xE=(r,e,t)=>e in r?yE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mm=(r,e,t)=>xE(r,typeof e!="symbol"?e+"":e,t);let wE=class{constructor(e){this.opts=e,mm(this,"protocol","wc"),mm(this,"version",2)}},AE=class{constructor(e){this.client=e}};function _E(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function T6(r,...e){if(!_E(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function vm(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function EE(r,e){T6(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const za=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const O0=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);function SE(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function D6(r){return typeof r=="string"&&(r=SE(r)),T6(r),r}let IE=class{clone(){return this._cloneInto()}};function ME(r){const e=n=>r().update(D6(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function B6(r=32){if(za&&typeof za.getRandomValues=="function")return za.getRandomValues(new Uint8Array(r));if(za&&typeof za.randomBytes=="function")return za.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function PE(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(t>>i&s),o=Number(t&s),u=n?4:0,c=n?0:4;r.setUint32(e+u,a,n),r.setUint32(e+c,o,n)}let RE=class extends IE{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=O0(this.buffer)}update(e){vm(this);const{view:t,buffer:n,blockLen:i}=this;e=D6(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const u=O0(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vm(this),EE(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let l=a;l<i;l++)t[l]=0;PE(n,i-8,BigInt(this.length*8),s),this.process(n,0);const o=O0(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,f[l],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%t&&e.buffer.set(n),e}};const Nc=BigInt(2**32-1),dg=BigInt(32);function L6(r,e=!1){return e?{h:Number(r&Nc),l:Number(r>>dg&Nc)}:{h:Number(r>>dg&Nc)|0,l:Number(r&Nc)|0}}function kE(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:s,l:a}=L6(r[i],e);[t[i],n[i]]=[s,a]}return[t,n]}const NE=(r,e)=>BigInt(r>>>0)<<dg|BigInt(e>>>0),OE=(r,e,t)=>r>>>t,CE=(r,e,t)=>r<<32-t|e>>>t,TE=(r,e,t)=>r>>>t|e<<32-t,DE=(r,e,t)=>r<<32-t|e>>>t,BE=(r,e,t)=>r<<64-t|e>>>t-32,LE=(r,e,t)=>r>>>t-32|e<<64-t,$E=(r,e)=>e,FE=(r,e)=>r,UE=(r,e,t)=>r<<t|e>>>32-t,qE=(r,e,t)=>e<<t|r>>>32-t,jE=(r,e,t)=>e<<t-32|r>>>64-t,zE=(r,e,t)=>r<<t-32|e>>>64-t;function WE(r,e,t,n){const i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}const KE=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),HE=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,VE=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),GE=(r,e,t,n,i)=>e+t+n+i+(r/2**32|0)|0,ZE=(r,e,t,n,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),JE=(r,e,t,n,i,s)=>e+t+n+i+s+(r/2**32|0)|0,Ut={fromBig:L6,split:kE,toBig:NE,shrSH:OE,shrSL:CE,rotrSH:TE,rotrSL:DE,rotrBH:BE,rotrBL:LE,rotr32H:$E,rotr32L:FE,rotlSH:UE,rotlSL:qE,rotlBH:jE,rotlBL:zE,add:WE,add3L:KE,add3H:HE,add4L:VE,add4H:GE,add5H:JE,add5L:ZE},[YE,QE]=Ut.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Is=new Uint32Array(80),Ms=new Uint32Array(80);let XE=class extends RE{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:i,Ch:s,Cl:a,Dh:o,Dl:u,Eh:c,El:f,Fh:l,Fl:h,Gh:y,Gl:w,Hh:_,Hl:v}=this;return[e,t,n,i,s,a,o,u,c,f,l,h,y,w,_,v]}set(e,t,n,i,s,a,o,u,c,f,l,h,y,w,_,v){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=u|0,this.Eh=c|0,this.El=f|0,this.Fh=l|0,this.Fl=h|0,this.Gh=y|0,this.Gl=w|0,this.Hh=_|0,this.Hl=v|0}process(e,t){for(let C=0;C<16;C++,t+=4)Is[C]=e.getUint32(t),Ms[C]=e.getUint32(t+=4);for(let C=16;C<80;C++){const $=Is[C-15]|0,W=Ms[C-15]|0,X=Ut.rotrSH($,W,1)^Ut.rotrSH($,W,8)^Ut.shrSH($,W,7),ae=Ut.rotrSL($,W,1)^Ut.rotrSL($,W,8)^Ut.shrSL($,W,7),ee=Is[C-2]|0,Q=Ms[C-2]|0,fe=Ut.rotrSH(ee,Q,19)^Ut.rotrBH(ee,Q,61)^Ut.shrSH(ee,Q,6),j=Ut.rotrSL(ee,Q,19)^Ut.rotrBL(ee,Q,61)^Ut.shrSL(ee,Q,6),g=Ut.add4L(ae,j,Ms[C-7],Ms[C-16]),b=Ut.add4H(g,X,fe,Is[C-7],Is[C-16]);Is[C]=b|0,Ms[C]=g|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:o,Cl:u,Dh:c,Dl:f,Eh:l,El:h,Fh:y,Fl:w,Gh:_,Gl:v,Hh:S,Hl:k}=this;for(let C=0;C<80;C++){const $=Ut.rotrSH(l,h,14)^Ut.rotrSH(l,h,18)^Ut.rotrBH(l,h,41),W=Ut.rotrSL(l,h,14)^Ut.rotrSL(l,h,18)^Ut.rotrBL(l,h,41),X=l&y^~l&_,ae=h&w^~h&v,ee=Ut.add5L(k,W,ae,QE[C],Ms[C]),Q=Ut.add5H(ee,S,$,X,YE[C],Is[C]),fe=ee|0,j=Ut.rotrSH(n,i,28)^Ut.rotrBH(n,i,34)^Ut.rotrBH(n,i,39),g=Ut.rotrSL(n,i,28)^Ut.rotrBL(n,i,34)^Ut.rotrBL(n,i,39),b=n&s^n&o^s&o,d=i&a^i&u^a&u;S=_|0,k=v|0,_=y|0,v=w|0,y=l|0,w=h|0,{h:l,l:h}=Ut.add(c|0,f|0,Q|0,fe|0),c=o|0,f=u|0,o=s|0,u=a|0,s=n|0,a=i|0;const p=Ut.add3L(fe,g,d);n=Ut.add3H(p,Q,j,b),i=p|0}({h:n,l:i}=Ut.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Ut.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l:u}=Ut.add(this.Ch|0,this.Cl|0,o|0,u|0),{h:c,l:f}=Ut.add(this.Dh|0,this.Dl|0,c|0,f|0),{h:l,l:h}=Ut.add(this.Eh|0,this.El|0,l|0,h|0),{h:y,l:w}=Ut.add(this.Fh|0,this.Fl|0,y|0,w|0),{h:_,l:v}=Ut.add(this.Gh|0,this.Gl|0,_|0,v|0),{h:S,l:k}=Ut.add(this.Hh|0,this.Hl|0,S|0,k|0),this.set(n,i,s,a,o,u,c,f,l,h,y,w,_,v,S,k)}roundClean(){Is.fill(0),Ms.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const eS=ME(()=>new XE);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const o1=BigInt(0),$6=BigInt(1),tS=BigInt(2);function u1(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function c1(r){if(!u1(r))throw new Error("Uint8Array expected")}function C0(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}const rS=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function f1(r){c1(r);let e="";for(let t=0;t<r.length;t++)e+=rS[r[t]];return e}function F6(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?o1:BigInt("0x"+r)}const as={_0:48,_9:57,A:65,F:70,a:97,f:102};function ym(r){if(r>=as._0&&r<=as._9)return r-as._0;if(r>=as.A&&r<=as.F)return r-(as.A-10);if(r>=as.a&&r<=as.f)return r-(as.a-10)}function U6(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const a=ym(r.charCodeAt(s)),o=ym(r.charCodeAt(s+1));if(a===void 0||o===void 0){const u=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=a*16+o}return n}function nS(r){return F6(f1(r))}function Gl(r){return c1(r),F6(f1(Uint8Array.from(r).reverse()))}function q6(r,e){return U6(r.toString(16).padStart(e*2,"0"))}function hg(r,e){return q6(r,e).reverse()}function os(r,e,t){let n;if(typeof e=="string")try{n=U6(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(u1(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const i=n.length;if(typeof t=="number"&&i!==t)throw new Error(r+" of length "+t+" expected, got "+i);return n}function xm(...r){let e=0;for(let n=0;n<r.length;n++){const i=r[n];c1(i),e+=i.length}const t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){const s=r[n];t.set(s,i),i+=s.length}return t}const T0=r=>typeof r=="bigint"&&o1<=r;function iS(r,e,t){return T0(r)&&T0(e)&&T0(t)&&e<=r&&r<t}function ru(r,e,t,n){if(!iS(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}function sS(r){let e;for(e=0;r>o1;r>>=$6,e+=1);return e}const aS=r=>(tS<<BigInt(r-1))-$6,oS={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||u1(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function l1(r,e,t={}){const n=(i,s,a)=>{const o=oS[s];if(typeof o!="function")throw new Error("invalid validator function");const u=r[i];if(!(a&&u===void 0)&&!o(u,r))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(t))n(i,s,!0);return r}function wm(r){const e=new WeakMap;return(t,...n)=>{const i=e.get(t);if(i!==void 0)return i;const s=r(t,...n);return e.set(t,s),s}}const nn=BigInt(0),Br=BigInt(1),oa=BigInt(2),uS=BigInt(3),pg=BigInt(4),Am=BigInt(5),_m=BigInt(8);function Hr(r,e){const t=r%e;return t>=nn?t:e+t}function cS(r,e,t){if(e<nn)throw new Error("invalid exponent, negatives unsupported");if(t<=nn)throw new Error("invalid modulus");if(t===Br)return nn;let n=Br;for(;e>nn;)e&Br&&(n=n*r%t),r=r*r%t,e>>=Br;return n}function Di(r,e,t){let n=r;for(;e-- >nn;)n*=n,n%=t;return n}function Em(r,e){if(r===nn)throw new Error("invert: expected non-zero number");if(e<=nn)throw new Error("invert: expected positive modulus, got "+e);let t=Hr(r,e),n=e,i=nn,s=Br;for(;t!==nn;){const a=n/t,o=n%t,u=i-s*a;n=t,t=o,i=s,s=u}if(n!==Br)throw new Error("invert: does not exist");return Hr(i,e)}function fS(r){const e=(r-Br)/oa;let t,n,i;for(t=r-Br,n=0;t%oa===nn;t/=oa,n++);for(i=oa;i<r&&cS(i,e,r)!==r-Br;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const a=(r+Br)/pg;return function(o,u){const c=o.pow(u,a);if(!o.eql(o.sqr(c),u))throw new Error("Cannot find square root");return c}}const s=(t+Br)/oa;return function(a,o){if(a.pow(o,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,c=a.pow(a.mul(a.ONE,i),t),f=a.pow(o,s),l=a.pow(o,t);for(;!a.eql(l,a.ONE);){if(a.eql(l,a.ZERO))return a.ZERO;let h=1;for(let w=a.sqr(l);h<u&&!a.eql(w,a.ONE);h++)w=a.sqr(w);const y=a.pow(c,Br<<BigInt(u-h-1));c=a.sqr(y),f=a.mul(f,y),l=a.mul(l,c),u=h}return f}}function lS(r){if(r%pg===uS){const e=(r+Br)/pg;return function(t,n){const i=t.pow(n,e);if(!t.eql(t.sqr(i),n))throw new Error("Cannot find square root");return i}}if(r%_m===Am){const e=(r-Am)/_m;return function(t,n){const i=t.mul(n,oa),s=t.pow(i,e),a=t.mul(n,s),o=t.mul(t.mul(a,oa),s),u=t.mul(a,t.sub(o,t.ONE));if(!t.eql(t.sqr(u),n))throw new Error("Cannot find square root");return u}}return fS(r)}const dS=(r,e)=>(Hr(r,e)&Br)===Br,hS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pS(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=hS.reduce((n,i)=>(n[i]="function",n),e);return l1(r,t)}function gS(r,e,t){if(t<nn)throw new Error("invalid exponent, negatives unsupported");if(t===nn)return r.ONE;if(t===Br)return e;let n=r.ONE,i=e;for(;t>nn;)t&Br&&(n=r.mul(n,i)),i=r.sqr(i),t>>=Br;return n}function bS(r,e){const t=new Array(e.length),n=e.reduce((s,a,o)=>r.is0(a)?s:(t[o]=s,r.mul(s,a)),r.ONE),i=r.inv(n);return e.reduceRight((s,a,o)=>r.is0(a)?s:(t[o]=r.mul(s,t[o]),r.mul(s,a)),i),t}function j6(r,e){const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function z6(r,e,t=!1,n={}){if(r<=nn)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:i,nByteLength:s}=j6(r,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:r,isLE:t,BITS:i,BYTES:s,MASK:aS(i),ZERO:nn,ONE:Br,create:u=>Hr(u,r),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return nn<=u&&u<r},is0:u=>u===nn,isOdd:u=>(u&Br)===Br,neg:u=>Hr(-u,r),eql:(u,c)=>u===c,sqr:u=>Hr(u*u,r),add:(u,c)=>Hr(u+c,r),sub:(u,c)=>Hr(u-c,r),mul:(u,c)=>Hr(u*c,r),pow:(u,c)=>gS(o,u,c),div:(u,c)=>Hr(u*Em(c,r),r),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>Em(u,r),sqrt:n.sqrt||(u=>(a||(a=lS(r)),a(o,u))),invertBatch:u=>bS(o,u),cmov:(u,c,f)=>f?c:u,toBytes:u=>t?hg(u,s):q6(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return t?Gl(u):nS(u)}});return Object.freeze(o)}const Sm=BigInt(0),Oc=BigInt(1);function D0(r,e){const t=e.negate();return r?t:e}function W6(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function B0(r,e){W6(r,e);const t=Math.ceil(e/r)+1,n=2**(r-1);return{windows:t,windowSize:n}}function mS(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}function vS(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}const L0=new WeakMap,K6=new WeakMap;function $0(r){return K6.get(r)||1}function yS(r,e){return{constTimeNegate:D0,hasPrecomputes(t){return $0(t)!==1},unsafeLadder(t,n,i=r.ZERO){let s=t;for(;n>Sm;)n&Oc&&(i=i.add(s)),s=s.double(),n>>=Oc;return i},precomputeWindow(t,n){const{windows:i,windowSize:s}=B0(n,e),a=[];let o=t,u=o;for(let c=0;c<i;c++){u=o,a.push(u);for(let f=1;f<s;f++)u=u.add(o),a.push(u);o=u.double()}return a},wNAF(t,n,i){const{windows:s,windowSize:a}=B0(t,e);let o=r.ZERO,u=r.BASE;const c=BigInt(2**t-1),f=2**t,l=BigInt(t);for(let h=0;h<s;h++){const y=h*a;let w=Number(i&c);i>>=l,w>a&&(w-=f,i+=Oc);const _=y,v=y+Math.abs(w)-1,S=h%2!==0,k=w<0;w===0?u=u.add(D0(S,n[_])):o=o.add(D0(k,n[v]))}return{p:o,f:u}},wNAFUnsafe(t,n,i,s=r.ZERO){const{windows:a,windowSize:o}=B0(t,e),u=BigInt(2**t-1),c=2**t,f=BigInt(t);for(let l=0;l<a;l++){const h=l*o;if(i===Sm)break;let y=Number(i&u);if(i>>=f,y>o&&(y-=c,i+=Oc),y===0)continue;let w=n[h+Math.abs(y)-1];y<0&&(w=w.negate()),s=s.add(w)}return s},getPrecomputes(t,n,i){let s=L0.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&L0.set(n,i(s))),s},wNAFCached(t,n,i){const s=$0(t);return this.wNAF(s,this.getPrecomputes(s,t,i),n)},wNAFCachedUnsafe(t,n,i,s){const a=$0(t);return a===1?this.unsafeLadder(t,n,s):this.wNAFUnsafe(a,this.getPrecomputes(a,t,i),n,s)},setWindowSize(t,n){W6(n,e),K6.set(t,n),L0.delete(t)}}}function xS(r,e,t,n){if(mS(t,r),vS(n,e),t.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=r.ZERO,s=sS(BigInt(t.length)),a=s>12?s-3:s>4?s-2:s?2:1,o=(1<<a)-1,u=new Array(o+1).fill(i),c=Math.floor((e.BITS-1)/a)*a;let f=i;for(let l=c;l>=0;l-=a){u.fill(i);for(let y=0;y<n.length;y++){const w=n[y],_=Number(w>>BigInt(l)&BigInt(o));u[_]=u[_].add(t[y])}let h=i;for(let y=u.length-1,w=i;y>0;y--)w=w.add(u[y]),h=h.add(w);if(f=f.add(h),l!==0)for(let y=0;y<a;y++)f=f.double()}return f}function wS(r){return pS(r.Fp),l1(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...j6(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const gi=BigInt(0),Bn=BigInt(1),Cc=BigInt(2),AS=BigInt(8),_S={zip215:!0};function ES(r){const e=wS(r);return l1(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function SS(r){const e=ES(r),{Fp:t,n,prehash:i,hash:s,randomBytes:a,nByteLength:o,h:u}=e,c=Cc<<BigInt(o*8)-Bn,f=t.create,l=z6(e.n,e.nBitLength),h=e.uvRatio||((p,A)=>{try{return{isValid:!0,value:t.sqrt(p*t.inv(A))}}catch{return{isValid:!1,value:gi}}}),y=e.adjustScalarBytes||(p=>p),w=e.domain||((p,A,M)=>{if(C0("phflag",M),A.length||M)throw new Error("Contexts/pre-hash are not supported");return p});function _(p,A){ru("coordinate "+p,A,gi,c)}function v(p){if(!(p instanceof C))throw new Error("ExtendedPoint expected")}const S=wm((p,A)=>{const{ex:M,ey:N,ez:I}=p,m=p.is0();A==null&&(A=m?AS:t.inv(I));const x=f(M*A),E=f(N*A),D=f(I*A);if(m)return{x:gi,y:Bn};if(D!==Bn)throw new Error("invZ was invalid");return{x,y:E}}),k=wm(p=>{const{a:A,d:M}=e;if(p.is0())throw new Error("bad point: ZERO");const{ex:N,ey:I,ez:m,et:x}=p,E=f(N*N),D=f(I*I),z=f(m*m),P=f(z*z),de=f(E*A),Pe=f(z*f(de+D)),Me=f(P+f(M*f(E*D)));if(Pe!==Me)throw new Error("bad point: equation left != right (1)");const Oe=f(N*I),K=f(m*x);if(Oe!==K)throw new Error("bad point: equation left != right (2)");return!0});class C{constructor(A,M,N,I){this.ex=A,this.ey=M,this.ez=N,this.et=I,_("x",A),_("y",M),_("z",N),_("t",I),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof C)throw new Error("extended point not allowed");const{x:M,y:N}=A||{};return _("x",M),_("y",N),new C(M,N,Bn,f(M*N))}static normalizeZ(A){const M=t.invertBatch(A.map(N=>N.ez));return A.map((N,I)=>N.toAffine(M[I])).map(C.fromAffine)}static msm(A,M){return xS(C,l,A,M)}_setWindowSize(A){X.setWindowSize(this,A)}assertValidity(){k(this)}equals(A){v(A);const{ex:M,ey:N,ez:I}=this,{ex:m,ey:x,ez:E}=A,D=f(M*E),z=f(m*I),P=f(N*E),de=f(x*I);return D===z&&P===de}is0(){return this.equals(C.ZERO)}negate(){return new C(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:A}=e,{ex:M,ey:N,ez:I}=this,m=f(M*M),x=f(N*N),E=f(Cc*f(I*I)),D=f(A*m),z=M+N,P=f(f(z*z)-m-x),de=D+x,Pe=de-E,Me=D-x,Oe=f(P*Pe),K=f(de*Me),te=f(P*Me),re=f(Pe*de);return new C(Oe,K,re,te)}add(A){v(A);const{a:M,d:N}=e,{ex:I,ey:m,ez:x,et:E}=this,{ex:D,ey:z,ez:P,et:de}=A;if(M===BigInt(-1)){const G=f((m-I)*(z+D)),ne=f((m+I)*(z-D)),ye=f(ne-G);if(ye===gi)return this.double();const Ne=f(x*Cc*de),ke=f(E*Cc*P),Ke=ke+Ne,Ze=ne+G,nt=ke-Ne,U=f(Ke*ye),R=f(Ze*nt),O=f(Ke*nt),oe=f(ye*Ze);return new C(U,R,oe,O)}const Pe=f(I*D),Me=f(m*z),Oe=f(E*N*de),K=f(x*P),te=f((I+m)*(D+z)-Pe-Me),re=K-Oe,we=K+Oe,ge=f(Me-M*Pe),xe=f(te*re),$e=f(we*ge),Ae=f(te*ge),F=f(re*we);return new C(xe,$e,F,Ae)}subtract(A){return this.add(A.negate())}wNAF(A){return X.wNAFCached(this,A,C.normalizeZ)}multiply(A){const M=A;ru("scalar",M,Bn,n);const{p:N,f:I}=this.wNAF(M);return C.normalizeZ([N,I])[0]}multiplyUnsafe(A,M=C.ZERO){const N=A;return ru("scalar",N,gi,n),N===gi?W:this.is0()||N===Bn?this:X.wNAFCachedUnsafe(this,N,C.normalizeZ,M)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return X.unsafeLadder(this,n).is0()}toAffine(A){return S(this,A)}clearCofactor(){const{h:A}=e;return A===Bn?this:this.multiplyUnsafe(A)}static fromHex(A,M=!1){const{d:N,a:I}=e,m=t.BYTES;A=os("pointHex",A,m),C0("zip215",M);const x=A.slice(),E=A[m-1];x[m-1]=E&-129;const D=Gl(x),z=M?c:t.ORDER;ru("pointHex.y",D,gi,z);const P=f(D*D),de=f(P-Bn),Pe=f(N*P-I);let{isValid:Me,value:Oe}=h(de,Pe);if(!Me)throw new Error("Point.fromHex: invalid y coordinate");const K=(Oe&Bn)===Bn,te=(E&128)!==0;if(!M&&Oe===gi&&te)throw new Error("Point.fromHex: x=0 and x_0=1");return te!==K&&(Oe=f(-Oe)),C.fromAffine({x:Oe,y:D})}static fromPrivateKey(A){return Q(A).point}toRawBytes(){const{x:A,y:M}=this.toAffine(),N=hg(M,t.BYTES);return N[N.length-1]|=A&Bn?128:0,N}toHex(){return f1(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,Bn,f(e.Gx*e.Gy)),C.ZERO=new C(gi,Bn,Bn,gi);const{BASE:$,ZERO:W}=C,X=yS(C,o*8);function ae(p){return Hr(p,n)}function ee(p){return ae(Gl(p))}function Q(p){const A=t.BYTES;p=os("private key",p,A);const M=os("hashed private key",s(p),2*A),N=y(M.slice(0,A)),I=M.slice(A,2*A),m=ee(N),x=$.multiply(m),E=x.toRawBytes();return{head:N,prefix:I,scalar:m,point:x,pointBytes:E}}function fe(p){return Q(p).pointBytes}function j(p=new Uint8Array,...A){const M=xm(...A);return ee(s(w(M,os("context",p),!!i)))}function g(p,A,M={}){p=os("message",p),i&&(p=i(p));const{prefix:N,scalar:I,pointBytes:m}=Q(A),x=j(M.context,N,p),E=$.multiply(x).toRawBytes(),D=j(M.context,E,m,p),z=ae(x+D*I);ru("signature.s",z,gi,n);const P=xm(E,hg(z,t.BYTES));return os("result",P,t.BYTES*2)}const b=_S;function d(p,A,M,N=b){const{context:I,zip215:m}=N,x=t.BYTES;p=os("signature",p,2*x),A=os("message",A),M=os("publicKey",M,x),m!==void 0&&C0("zip215",m),i&&(A=i(A));const E=Gl(p.slice(x,2*x));let D,z,P;try{D=C.fromHex(M,m),z=C.fromHex(p.slice(0,x),m),P=$.multiplyUnsafe(E)}catch{return!1}if(!m&&D.isSmallOrder())return!1;const de=j(I,z.toRawBytes(),D.toRawBytes(),A);return z.add(D.multiplyUnsafe(de)).subtract(P).clearCofactor().equals(C.ZERO)}return $._setWindowSize(8),{CURVE:e,getPublicKey:fe,sign:g,verify:d,ExtendedPoint:C,utils:{getExtendedPublicKey:Q,randomPrivateKey:()=>a(t.BYTES),precompute(p=8,A=C.BASE){return A._setWindowSize(p),A.multiply(BigInt(3)),A}}}}BigInt(0),BigInt(1);const d1=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Im=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const IS=BigInt(1),Mm=BigInt(2);BigInt(3);const MS=BigInt(5),PS=BigInt(8);function RS(r){const e=BigInt(10),t=BigInt(20),n=BigInt(40),i=BigInt(80),s=d1,a=r*r%s*r%s,o=Di(a,Mm,s)*a%s,u=Di(o,IS,s)*r%s,c=Di(u,MS,s)*u%s,f=Di(c,e,s)*c%s,l=Di(f,t,s)*f%s,h=Di(l,n,s)*l%s,y=Di(h,i,s)*h%s,w=Di(y,i,s)*h%s,_=Di(w,e,s)*c%s;return{pow_p_5_8:Di(_,Mm,s)*r%s,b2:a}}function kS(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function NS(r,e){const t=d1,n=Hr(e*e*e,t),i=Hr(n*n*e,t),s=RS(r*i).pow_p_5_8;let a=Hr(r*n*s,t);const o=Hr(e*a*a,t),u=a,c=Hr(a*Im,t),f=o===r,l=o===Hr(-r,t),h=o===Hr(-r*Im,t);return f&&(a=u),(l||h)&&(a=c),dS(a,t)&&(a=Hr(-a,t)),{isValid:f||l,value:a}}const OS=z6(d1,void 0,!0),CS={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:OS,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:PS,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:eS,randomBytes:B6,adjustScalarBytes:kS,uvRatio:NS},H6=SS(CS),TS="EdDSA",DS="JWT",dd=".",$d="base64url",V6="utf8",G6="utf8",BS=":",LS="did",$S="key",Pm="base58btc",FS="z",US="K36",qS=32;function h1(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Z6(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?h1(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function J6(r,e){e||(e=r.reduce((i,s)=>i+s.length,0));const t=Z6(e);let n=0;for(const i of r)t.set(i,n),n+=i.length;return h1(t)}function jS(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),a=s.charCodeAt(0);if(t[a]!==255)throw new TypeError(s+" is ambiguous");t[a]=i}var o=r.length,u=r.charAt(0),c=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function l(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var _=0,v=0,S=0,k=w.length;S!==k&&w[S]===0;)S++,_++;for(var C=(k-S)*f+1>>>0,$=new Uint8Array(C);S!==k;){for(var W=w[S],X=0,ae=C-1;(W!==0||X<v)&&ae!==-1;ae--,X++)W+=256*$[ae]>>>0,$[ae]=W%o>>>0,W=W/o>>>0;if(W!==0)throw new Error("Non-zero carry");v=X,S++}for(var ee=C-v;ee!==C&&$[ee]===0;)ee++;for(var Q=u.repeat(_);ee<C;++ee)Q+=r.charAt($[ee]);return Q}function h(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var _=0;if(w[_]!==" "){for(var v=0,S=0;w[_]===u;)v++,_++;for(var k=(w.length-_)*c+1>>>0,C=new Uint8Array(k);w[_];){var $=t[w.charCodeAt(_)];if($===255)return;for(var W=0,X=k-1;($!==0||W<S)&&X!==-1;X--,W++)$+=o*C[X]>>>0,C[X]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");S=W,_++}if(w[_]!==" "){for(var ae=k-S;ae!==k&&C[ae]===0;)ae++;for(var ee=new Uint8Array(v+(k-ae)),Q=v;ae!==k;)ee[Q++]=C[ae++];return ee}}}function y(w){var _=h(w);if(_)return _;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:y}}var zS=jS,WS=zS;const Y6=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},KS=r=>new TextEncoder().encode(r),HS=r=>new TextDecoder().decode(r);let VS=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},GS=class{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Q6(this,e)}},ZS=class{constructor(e){this.decoders=e}or(e){return Q6(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Q6=(r,e)=>new ZS({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});let JS=class{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new VS(e,t,n),this.decoder=new GS(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Fd=({name:r,prefix:e,encode:t,decode:n})=>new JS(r,e,t,n),rc=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=WS(t,e);return Fd({prefix:r,name:e,encode:n,decode:s=>Y6(i(s))})},YS=(r,e,t,n)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=r.length;for(;r[s-1]==="=";)--s;const a=new Uint8Array(s*t/8|0);let o=0,u=0,c=0;for(let f=0;f<s;++f){const l=i[r[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<t|l,o+=t,o>=8&&(o-=8,a[c++]=255&u>>o)}if(o>=t||255&u<<8-o)throw new SyntaxError("Unexpected end of data");return a},QS=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let s="",a=0,o=0;for(let u=0;u<r.length;++u)for(o=o<<8|r[u],a+=8;a>t;)a-=t,s+=e[i&o>>a];if(a&&(s+=e[i&o<<t-a]),n)for(;s.length*t&7;)s+="=";return s},pn=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Fd({prefix:e,name:r,encode(i){return QS(i,n,t)},decode(i){return YS(i,n,t,r)}}),XS=Fd({prefix:"\0",name:"identity",encode:r=>HS(r),decode:r=>KS(r)});var eI=Object.freeze({__proto__:null,identity:XS});const tI=pn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var rI=Object.freeze({__proto__:null,base2:tI});const nI=pn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var iI=Object.freeze({__proto__:null,base8:nI});const sI=rc({prefix:"9",name:"base10",alphabet:"0123456789"});var aI=Object.freeze({__proto__:null,base10:sI});const oI=pn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),uI=pn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var cI=Object.freeze({__proto__:null,base16:oI,base16upper:uI});const fI=pn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),lI=pn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),dI=pn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),hI=pn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),pI=pn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),gI=pn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bI=pn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),mI=pn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vI=pn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var yI=Object.freeze({__proto__:null,base32:fI,base32upper:lI,base32pad:dI,base32padupper:hI,base32hex:pI,base32hexupper:gI,base32hexpad:bI,base32hexpadupper:mI,base32z:vI});const xI=rc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wI=rc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var AI=Object.freeze({__proto__:null,base36:xI,base36upper:wI});const _I=rc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),EI=rc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var SI=Object.freeze({__proto__:null,base58btc:_I,base58flickr:EI});const II=pn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),MI=pn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),PI=pn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),RI=pn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var kI=Object.freeze({__proto__:null,base64:II,base64pad:MI,base64url:PI,base64urlpad:RI});const X6=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),NI=X6.reduce((r,e,t)=>(r[t]=e,r),[]),OI=X6.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function CI(r){return r.reduce((e,t)=>(e+=NI[t],e),"")}function TI(r){const e=[];for(const t of r){const n=OI[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const DI=Fd({prefix:"🚀",name:"base256emoji",encode:CI,decode:TI});var BI=Object.freeze({__proto__:null,base256emoji:DI}),LI=e4,Rm=128,$I=-128,FI=Math.pow(2,31);function e4(r,e,t){e=e||[],t=t||0;for(var n=t;r>=FI;)e[t++]=r&255|Rm,r/=128;for(;r&$I;)e[t++]=r&255|Rm,r>>>=7;return e[t]=r|0,e4.bytes=t-n+1,e}var UI=gg,qI=128,km=127;function gg(r,n){var t=0,n=n||0,i=0,s=n,a,o=r.length;do{if(s>=o)throw gg.bytes=0,new RangeError("Could not decode varint");a=r[s++],t+=i<28?(a&km)<<i:(a&km)*Math.pow(2,i),i+=7}while(a>=qI);return gg.bytes=s-n,t}var jI=Math.pow(2,7),zI=Math.pow(2,14),WI=Math.pow(2,21),KI=Math.pow(2,28),HI=Math.pow(2,35),VI=Math.pow(2,42),GI=Math.pow(2,49),ZI=Math.pow(2,56),JI=Math.pow(2,63),YI=function(r){return r<jI?1:r<zI?2:r<WI?3:r<KI?4:r<HI?5:r<VI?6:r<GI?7:r<ZI?8:r<JI?9:10},QI={encode:LI,decode:UI,encodingLength:YI},t4=QI;const Nm=(r,e,t=0)=>(t4.encode(r,e,t),e),Om=r=>t4.encodingLength(r),bg=(r,e)=>{const t=e.byteLength,n=Om(r),i=n+Om(t),s=new Uint8Array(i+t);return Nm(r,s,0),Nm(t,s,n),s.set(e,i),new XI(r,t,e,s)};let XI=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}};const r4=({name:r,code:e,encode:t})=>new eM(r,e,t);let eM=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?bg(this.code,t):t.then(n=>bg(this.code,n))}else throw Error("Unknown type, must be binary type")}};const n4=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),tM=r4({name:"sha2-256",code:18,encode:n4("SHA-256")}),rM=r4({name:"sha2-512",code:19,encode:n4("SHA-512")});var nM=Object.freeze({__proto__:null,sha256:tM,sha512:rM});const i4=0,iM="identity",s4=Y6,sM=r=>bg(i4,s4(r)),aM={code:i4,name:iM,encode:s4,digest:sM};var oM=Object.freeze({__proto__:null,identity:aM});new TextEncoder,new TextDecoder;const Cm={...eI,...rI,...iI,...aI,...cI,...yI,...AI,...SI,...kI,...BI};({...nM,...oM});function a4(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const Tm=a4("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),F0=a4("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Z6(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),o4={utf8:Tm,"utf-8":Tm,hex:Cm.base16,latin1:F0,ascii:F0,binary:F0,...Cm};function Ud(r,e="utf8"){const t=o4[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}function Uo(r,e="utf8"){const t=o4[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?h1(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Dm(r){return Mo(Ud(Uo(r,$d),V6))}function hd(r){return Ud(Uo(xa(r),V6),$d)}function u4(r){const e=Uo(US,Pm),t=FS+Ud(J6([e,r]),Pm);return[LS,$S,t].join(BS)}function uM(r){return Ud(r,$d)}function cM(r){return Uo(r,$d)}function fM(r){return Uo([hd(r.header),hd(r.payload)].join(dd),G6)}function lM(r){return[hd(r.header),hd(r.payload),uM(r.signature)].join(dd)}function mg(r){const e=r.split(dd),t=Dm(e[0]),n=Dm(e[1]),i=cM(e[2]),s=Uo(e.slice(0,2).join(dd),G6);return{header:t,payload:n,signature:i,data:s}}function Bm(r=B6(qS)){const e=H6.getPublicKey(r);return{secretKey:J6([r,e]),publicKey:e}}async function dM(r,e,t,n,i=ft.fromMiliseconds(Date.now())){const s={alg:TS,typ:DS},a=u4(n.publicKey),o=i+t,u={iss:a,sub:r,aud:e,iat:i,exp:o},c=fM({header:s,payload:u}),f=H6.sign(c,n.secretKey.slice(0,32));return lM({header:s,payload:u,signature:f})}var Lm=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},hM=function(){function r(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}return r}(),pM=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}(),gM=function(){function r(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"}return r}(),bM=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),mM=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),vM=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,yM=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,$m=3,xM=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",vM]],Fm=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function wM(r){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new mM:typeof navigator<"u"?_M(navigator.userAgent):SM()}function AM(r){return r!==""&&xM.reduce(function(e,t){var n=t[0],i=t[1];if(e)return e;var s=i.exec(r);return!!s&&[n,s]},!1)}function _M(r){var e=AM(r);if(!e)return null;var t=e[0],n=e[1];if(t==="searchbot")return new bM;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<$m&&(i=Lm(Lm([],i,!0),IM($m-i.length),!0)):i=[];var s=i.join("."),a=EM(r),o=yM.exec(r);return o&&o[1]?new gM(t,s,a,o[1]):new hM(t,s,a)}function EM(r){for(var e=0,t=Fm.length;e<t;e++){var n=Fm[e],i=n[0],s=n[1],a=s.exec(r);if(a)return i}return null}function SM(){var r=typeof process<"u"&&process.version;return r?new pM(process.version.slice(1)):null}function IM(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var _r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.getLocalStorage=_r.getLocalStorageOrThrow=_r.getCrypto=_r.getCryptoOrThrow=c4=_r.getLocation=_r.getLocationOrThrow=p1=_r.getNavigator=_r.getNavigatorOrThrow=nc=_r.getDocument=_r.getDocumentOrThrow=_r.getFromWindowOrThrow=_r.getFromWindow=void 0;function Oa(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}_r.getFromWindow=Oa;function qo(r){const e=Oa(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}_r.getFromWindowOrThrow=qo;function MM(){return qo("document")}_r.getDocumentOrThrow=MM;function PM(){return Oa("document")}var nc=_r.getDocument=PM;function RM(){return qo("navigator")}_r.getNavigatorOrThrow=RM;function kM(){return Oa("navigator")}var p1=_r.getNavigator=kM;function NM(){return qo("location")}_r.getLocationOrThrow=NM;function OM(){return Oa("location")}var c4=_r.getLocation=OM;function CM(){return qo("crypto")}_r.getCryptoOrThrow=CM;function TM(){return Oa("crypto")}_r.getCrypto=TM;function DM(){return qo("localStorage")}_r.getLocalStorageOrThrow=DM;function BM(){return Oa("localStorage")}_r.getLocalStorage=BM;var g1={};Object.defineProperty(g1,"__esModule",{value:!0});var f4=g1.getWindowMetadata=void 0;const Um=_r;function LM(){let r,e;try{r=Um.getDocumentOrThrow(),e=Um.getLocationOrThrow()}catch{return null}function t(){const l=r.getElementsByTagName("link"),h=[];for(let y=0;y<l.length;y++){const w=l[y],_=w.getAttribute("rel");if(_&&_.toLowerCase().indexOf("icon")>-1){const v=w.getAttribute("href");if(v)if(v.toLowerCase().indexOf("https:")===-1&&v.toLowerCase().indexOf("http:")===-1&&v.indexOf("//")!==0){let S=e.protocol+"//"+e.host;if(v.indexOf("/")===0)S+=v;else{const k=e.pathname.split("/");k.pop();const C=k.join("/");S+=C+"/"+v}h.push(S)}else if(v.indexOf("//")===0){const S=e.protocol+v;h.push(S)}else h.push(v)}}return h}function n(...l){const h=r.getElementsByTagName("meta");for(let y=0;y<h.length;y++){const w=h[y],_=["itemprop","property","name"].map(v=>w.getAttribute(v)).filter(v=>v?l.includes(v):!1);if(_.length&&_){const v=w.getAttribute("content");if(v)return v}}return""}function i(){let l=n("name","og:site_name","og:title","twitter:title");return l||(l=r.title),l}function s(){return n("description","og:description","twitter:description","keywords")}const a=i(),o=s(),u=e.origin,c=t();return{description:o,url:u,icons:c,name:a}}f4=g1.getWindowMetadata=LM;function Lu(r,{strict:e=!0}={}){return!r||typeof r!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(r):r.startsWith("0x")}function qm(r){return Lu(r,{strict:!1})?Math.ceil((r.length-2)/2):r.length}const l4="2.23.2";let nu={getDocsUrl:({docsBaseUrl:r,docsPath:e="",docsSlug:t})=>e?`${r??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${l4}`};class wa extends Error{constructor(e,t={}){var o;const n=(()=>{var u;return t.cause instanceof wa?t.cause.details:(u=t.cause)!=null&&u.message?t.cause.message:t.details})(),i=t.cause instanceof wa&&t.cause.docsPath||t.docsPath,s=(o=nu.getDocsUrl)==null?void 0:o.call(nu,{...t,docsPath:i}),a=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...nu.version?[`Version: ${nu.version}`]:[]].join(`
`);super(a,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=l4}walk(e){return d4(this,e)}}function d4(r,e){return e!=null&&e(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause!==void 0?d4(r.cause,e):e?null:r}class h4 extends wa{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function jo(r,{dir:e,size:t=32}={}){return typeof r=="string"?$M(r,{dir:e,size:t}):FM(r,{dir:e,size:t})}function $M(r,{dir:e,size:t=32}={}){if(t===null)return r;const n=r.replace("0x","");if(n.length>t*2)throw new h4({size:Math.ceil(n.length/2),targetSize:t,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function FM(r,{dir:e,size:t=32}={}){if(t===null)return r;if(r.length>t)throw new h4({size:r.length,targetSize:t,type:"bytes"});const n=new Uint8Array(t);for(let i=0;i<t;i++){const s=e==="right";n[s?i:t-i-1]=r[s?i:r.length-i-1]}return n}class UM extends wa{constructor({max:e,min:t,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class qM extends wa{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function zo(r,{size:e}){if(qm(r)>e)throw new qM({givenSize:qm(r),maxSize:e})}function vg(r,e={}){const{signed:t}=e;e.size&&zo(r,{size:e.size});const n=BigInt(r);if(!t)return n;const i=(r.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function jM(r,e={}){return Number(vg(r,e))}const zM=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function yg(r,e={}){return typeof r=="number"||typeof r=="bigint"?g4(r,e):typeof r=="string"?HM(r,e):typeof r=="boolean"?WM(r,e):p4(r,e)}function WM(r,e={}){const t=`0x${Number(r)}`;return typeof e.size=="number"?(zo(t,{size:e.size}),jo(t,{size:e.size})):t}function p4(r,e={}){let t="";for(let i=0;i<r.length;i++)t+=zM[r[i]];const n=`0x${t}`;return typeof e.size=="number"?(zo(n,{size:e.size}),jo(n,{dir:"right",size:e.size})):n}function g4(r,e={}){const{signed:t,size:n}=e,i=BigInt(r);let s;n?t?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof r=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&t?-s-1n:0;if(s&&i>s||i<a){const u=typeof r=="bigint"?"n":"";throw new UM({max:s?`${s}${u}`:void 0,min:`${a}${u}`,signed:t,size:n,value:`${r}${u}`})}const o=`0x${(t&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?jo(o,{size:n}):o}const KM=new TextEncoder;function HM(r,e={}){const t=KM.encode(r);return p4(t,e)}const VM=new TextEncoder;function GM(r,e={}){return typeof r=="number"||typeof r=="bigint"?JM(r,e):typeof r=="boolean"?ZM(r,e):Lu(r)?b4(r,e):m4(r,e)}function ZM(r,e={}){const t=new Uint8Array(1);return t[0]=Number(r),typeof e.size=="number"?(zo(t,{size:e.size}),jo(t,{size:e.size})):t}const us={zero:48,nine:57,A:65,F:70,a:97,f:102};function jm(r){if(r>=us.zero&&r<=us.nine)return r-us.zero;if(r>=us.A&&r<=us.F)return r-(us.A-10);if(r>=us.a&&r<=us.f)return r-(us.a-10)}function b4(r,e={}){let t=r;e.size&&(zo(t,{size:e.size}),t=jo(t,{dir:"right",size:e.size}));let n=t.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let a=0,o=0;a<i;a++){const u=jm(n.charCodeAt(o++)),c=jm(n.charCodeAt(o++));if(u===void 0||c===void 0)throw new wa(`Invalid byte sequence ("${n[o-2]}${n[o-1]}" in "${n}").`);s[a]=u*16+c}return s}function JM(r,e){const t=g4(r,e);return b4(t)}function m4(r,e={}){const t=VM.encode(r);return typeof e.size=="number"?(zo(t,{size:e.size}),jo(t,{dir:"right",size:e.size})):t}function pd(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function YM(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function qd(r,...e){if(!YM(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function SK(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");pd(r.outputLen),pd(r.blockLen)}function zm(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function QM(r,e){qd(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const Tc=BigInt(2**32-1),Wm=BigInt(32);function XM(r,e=!1){return e?{h:Number(r&Tc),l:Number(r>>Wm&Tc)}:{h:Number(r>>Wm&Tc)|0,l:Number(r&Tc)|0}}function eP(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:s,l:a}=XM(r[i],e);[t[i],n[i]]=[s,a]}return[t,n]}const tP=(r,e,t)=>r<<t|e>>>32-t,rP=(r,e,t)=>e<<t|r>>>32-t,nP=(r,e,t)=>e<<t-32|r>>>64-t,iP=(r,e,t)=>r<<t-32|e>>>64-t,Wa=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sP(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function IK(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function MK(r,e){return r<<32-e|r>>>e}const Km=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function aP(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function Hm(r){for(let e=0;e<r.length;e++)r[e]=aP(r[e])}function oP(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function v4(r){return typeof r=="string"&&(r=oP(r)),qd(r),r}function PK(...r){let e=0;for(let n=0;n<r.length;n++){const i=r[n];qd(i),e+=i.length}const t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){const s=r[n];t.set(s,i),i+=s.length}return t}class uP{clone(){return this._cloneInto()}}function cP(r){const e=n=>r().update(v4(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function RK(r=32){if(Wa&&typeof Wa.getRandomValues=="function")return Wa.getRandomValues(new Uint8Array(r));if(Wa&&typeof Wa.randomBytes=="function")return Wa.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}const y4=[],x4=[],w4=[],fP=BigInt(0),iu=BigInt(1),lP=BigInt(2),dP=BigInt(7),hP=BigInt(256),pP=BigInt(113);for(let r=0,e=iu,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],y4.push(2*(5*n+t)),x4.push((r+1)*(r+2)/2%64);let i=fP;for(let s=0;s<7;s++)e=(e<<iu^(e>>dP)*pP)%hP,e&lP&&(i^=iu<<(iu<<BigInt(s))-iu);w4.push(i)}const[gP,bP]=eP(w4,!0),Vm=(r,e,t)=>t>32?nP(r,e,t):tP(r,e,t),Gm=(r,e,t)=>t>32?iP(r,e,t):rP(r,e,t);function mP(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)t[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,u=(a+2)%10,c=t[u],f=t[u+1],l=Vm(c,f,1)^t[o],h=Gm(c,f,1)^t[o+1];for(let y=0;y<50;y+=10)r[a+y]^=l,r[a+y+1]^=h}let i=r[2],s=r[3];for(let a=0;a<24;a++){const o=x4[a],u=Vm(i,s,o),c=Gm(i,s,o),f=y4[a];i=r[f],s=r[f+1],r[f]=u,r[f+1]=c}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)t[o]=r[a+o];for(let o=0;o<10;o++)r[a+o]^=~t[(o+2)%10]&t[(o+4)%10]}r[0]^=gP[n],r[1]^=bP[n]}t.fill(0)}class b1 extends uP{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,pd(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=sP(this.state)}keccak(){Km||Hm(this.state32),mP(this.state32,this.rounds),Km||Hm(this.state32),this.posOut=0,this.pos=0}update(e){zm(this);const{blockLen:t,state:n}=this;e=v4(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(t-this.pos,i-s);for(let o=0;o<a;o++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,t&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){zm(this,!1),qd(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return pd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(QM(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new b1(t,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const vP=(r,e,t)=>cP(()=>new b1(e,r,t)),yP=vP(1,136,256/8);function A4(r,e){const t=e||"hex",n=yP(Lu(r,{strict:!1})?GM(r):r);return t==="bytes"?n:yg(n)}class xP extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const U0=new xP(8192);function wP(r,e){if(U0.has(`${r}.${e}`))return U0.get(`${r}.${e}`);const t=r.substring(2).toLowerCase(),n=A4(m4(t),"bytes"),i=t.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(n[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const s=`0x${i.join("")}`;return U0.set(`${r}.${e}`,s),s}function AP(r){const e=A4(`0x${r.substring(4)}`).substring(26);return wP(`0x${e}`)}async function _P({hash:r,signature:e}){const t=Lu(r)?r:yg(r),{secp256k1:n}=await b6(async()=>{const{secp256k1:a}=await import("./secp256k1-BvlSAm76.js");return{secp256k1:a}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:f,v:l,yParity:h}=e,y=Number(h??l),w=Zm(y);return new n.Signature(vg(c),vg(f)).addRecoveryBit(w)}const a=Lu(e)?e:yg(e),o=jM(`0x${a.slice(130)}`),u=Zm(o);return n.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(t.substring(2)).toHex(!1)}`}function Zm(r){if(r===0||r===1)return r;if(r===27)return 0;if(r===28)return 1;throw new Error("Invalid yParityOrV value")}async function EP({hash:r,signature:e}){return AP(await _P({hash:r,signature:e}))}function SP(r){if(r.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<r.length;c++){const f=r.charAt(c),l=f.charCodeAt(0);if(e[l]!==255)throw new TypeError(f+" is ambiguous");e[l]=c}const t=r.length,n=r.charAt(0),i=Math.log(t)/Math.log(256),s=Math.log(256)/Math.log(t);function a(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let f=0,l=0,h=0;const y=c.length;for(;h!==y&&c[h]===0;)h++,f++;const w=(y-h)*s+1>>>0,_=new Uint8Array(w);for(;h!==y;){let k=c[h],C=0;for(let $=w-1;(k!==0||C<l)&&$!==-1;$--,C++)k+=256*_[$]>>>0,_[$]=k%t>>>0,k=k/t>>>0;if(k!==0)throw new Error("Non-zero carry");l=C,h++}let v=w-l;for(;v!==w&&_[v]===0;)v++;let S=n.repeat(f);for(;v<w;++v)S+=r.charAt(_[v]);return S}function o(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let f=0,l=0,h=0;for(;c[f]===n;)l++,f++;const y=(c.length-f)*i+1>>>0,w=new Uint8Array(y);for(;f<c.length;){const k=c.charCodeAt(f);if(k>255)return;let C=e[k];if(C===255)return;let $=0;for(let W=y-1;(C!==0||$<h)&&W!==-1;W--,$++)C+=t*w[W]>>>0,w[W]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");h=$,f++}let _=y-h;for(;_!==y&&w[_]===0;)_++;const v=new Uint8Array(l+(y-_));let S=l;for(;_!==y;)v[S++]=w[_++];return v}function u(c){const f=o(c);if(f)return f;throw new Error("Non-base"+t+" character")}return{encode:a,decodeUnsafe:o,decode:u}}var IP="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const MP=SP(IP);function _4(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function wu(r,e){e||(e=r.reduce((i,s)=>i+s.length,0));const t=_4(e);let n=0;for(const i of r)t.set(i,n),n+=i.length;return t}function PP(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),a=s.charCodeAt(0);if(t[a]!==255)throw new TypeError(s+" is ambiguous");t[a]=i}var o=r.length,u=r.charAt(0),c=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function l(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var _=0,v=0,S=0,k=w.length;S!==k&&w[S]===0;)S++,_++;for(var C=(k-S)*f+1>>>0,$=new Uint8Array(C);S!==k;){for(var W=w[S],X=0,ae=C-1;(W!==0||X<v)&&ae!==-1;ae--,X++)W+=256*$[ae]>>>0,$[ae]=W%o>>>0,W=W/o>>>0;if(W!==0)throw new Error("Non-zero carry");v=X,S++}for(var ee=C-v;ee!==C&&$[ee]===0;)ee++;for(var Q=u.repeat(_);ee<C;++ee)Q+=r.charAt($[ee]);return Q}function h(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var _=0;if(w[_]!==" "){for(var v=0,S=0;w[_]===u;)v++,_++;for(var k=(w.length-_)*c+1>>>0,C=new Uint8Array(k);w[_];){var $=t[w.charCodeAt(_)];if($===255)return;for(var W=0,X=k-1;($!==0||W<S)&&X!==-1;X--,W++)$+=o*C[X]>>>0,C[X]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");S=W,_++}if(w[_]!==" "){for(var ae=k-S;ae!==k&&C[ae]===0;)ae++;for(var ee=new Uint8Array(v+(k-ae)),Q=v;ae!==k;)ee[Q++]=C[ae++];return ee}}}function y(w){var _=h(w);if(_)return _;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:y}}var RP=PP,kP=RP;const NP=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},OP=r=>new TextEncoder().encode(r),CP=r=>new TextDecoder().decode(r);class TP{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class DP{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return E4(this,e)}}class BP{constructor(e){this.decoders=e}or(e){return E4(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const E4=(r,e)=>new BP({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class LP{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new TP(e,t,n),this.decoder=new DP(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const jd=({name:r,prefix:e,encode:t,decode:n})=>new LP(r,e,t,n),ic=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=kP(t,e);return jd({prefix:r,name:e,encode:n,decode:s=>NP(i(s))})},$P=(r,e,t,n)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=r.length;for(;r[s-1]==="=";)--s;const a=new Uint8Array(s*t/8|0);let o=0,u=0,c=0;for(let f=0;f<s;++f){const l=i[r[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<t|l,o+=t,o>=8&&(o-=8,a[c++]=255&u>>o)}if(o>=t||255&u<<8-o)throw new SyntaxError("Unexpected end of data");return a},FP=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let s="",a=0,o=0;for(let u=0;u<r.length;++u)for(o=o<<8|r[u],a+=8;a>t;)a-=t,s+=e[i&o>>a];if(a&&(s+=e[i&o<<t-a]),n)for(;s.length*t&7;)s+="=";return s},gn=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>jd({prefix:e,name:r,encode(i){return FP(i,n,t)},decode(i){return $P(i,n,t,r)}}),UP=jd({prefix:"\0",name:"identity",encode:r=>CP(r),decode:r=>OP(r)}),qP=Object.freeze(Object.defineProperty({__proto__:null,identity:UP},Symbol.toStringTag,{value:"Module"})),jP=gn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),zP=Object.freeze(Object.defineProperty({__proto__:null,base2:jP},Symbol.toStringTag,{value:"Module"})),WP=gn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),KP=Object.freeze(Object.defineProperty({__proto__:null,base8:WP},Symbol.toStringTag,{value:"Module"})),HP=ic({prefix:"9",name:"base10",alphabet:"0123456789"}),VP=Object.freeze(Object.defineProperty({__proto__:null,base10:HP},Symbol.toStringTag,{value:"Module"})),GP=gn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ZP=gn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),JP=Object.freeze(Object.defineProperty({__proto__:null,base16:GP,base16upper:ZP},Symbol.toStringTag,{value:"Module"})),YP=gn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),QP=gn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),XP=gn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eR=gn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tR=gn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rR=gn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),nR=gn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iR=gn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),sR=gn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),aR=Object.freeze(Object.defineProperty({__proto__:null,base32:YP,base32hex:tR,base32hexpad:nR,base32hexpadupper:iR,base32hexupper:rR,base32pad:XP,base32padupper:eR,base32upper:QP,base32z:sR},Symbol.toStringTag,{value:"Module"})),oR=ic({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),uR=ic({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),cR=Object.freeze(Object.defineProperty({__proto__:null,base36:oR,base36upper:uR},Symbol.toStringTag,{value:"Module"})),fR=ic({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lR=ic({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),dR=Object.freeze(Object.defineProperty({__proto__:null,base58btc:fR,base58flickr:lR},Symbol.toStringTag,{value:"Module"})),hR=gn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pR=gn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gR=gn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),bR=gn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),mR=Object.freeze(Object.defineProperty({__proto__:null,base64:hR,base64pad:pR,base64url:gR,base64urlpad:bR},Symbol.toStringTag,{value:"Module"})),S4=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),vR=S4.reduce((r,e,t)=>(r[t]=e,r),[]),yR=S4.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function xR(r){return r.reduce((e,t)=>(e+=vR[t],e),"")}function wR(r){const e=[];for(const t of r){const n=yR[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const AR=jd({prefix:"🚀",name:"base256emoji",encode:xR,decode:wR}),_R=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:AR},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Jm={...qP,...zP,...KP,...VP,...JP,...aR,...cR,...dR,...mR,..._R};function I4(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const Ym=I4("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),q0=I4("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=_4(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),M4={utf8:Ym,"utf-8":Ym,hex:Jm.base16,latin1:q0,ascii:q0,binary:q0,...Jm};function ui(r,e="utf8"){const t=M4[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}function Wn(r,e="utf8"){const t=M4[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}const ER={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var SR={};const IR=":";function Zl(r){const[e,t]=r.split(IR);return{namespace:e,reference:t}}function P4(r,e){return r.includes(":")?[r]:e.chains||[]}var MR=Object.defineProperty,PR=Object.defineProperties,RR=Object.getOwnPropertyDescriptors,Qm=Object.getOwnPropertySymbols,kR=Object.prototype.hasOwnProperty,NR=Object.prototype.propertyIsEnumerable,Xm=(r,e,t)=>e in r?MR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ev=(r,e)=>{for(var t in e||(e={}))kR.call(e,t)&&Xm(r,t,e[t]);if(Qm)for(var t of Qm(e))NR.call(e,t)&&Xm(r,t,e[t]);return r},OR=(r,e)=>PR(r,RR(e));const CR="ReactNative",ei={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},TR="js";function gd(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ws(){return!nc()&&!!p1()&&navigator.product===CR}function DR(){return Ws()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function BR(){return Ws()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function sc(){return!gd()&&!!p1()&&!!nc()}function ac(){return Ws()?ei.reactNative:gd()?ei.node:sc()?ei.browser:ei.unknown}function tv(){var r;try{return Ws()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(r=global.Application)==null?void 0:r.applicationId:void 0}catch{return}}function LR(r,e){const t=new URLSearchParams(r);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&t.set(n,i)}return t.toString()}function $R(r){var e,t;const n=R4();try{return r!=null&&r.url&&n.url&&r.url!==n.url&&(console.warn(`The configured WalletConnect 'metadata.url':${r.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),r.url=n.url),(e=r==null?void 0:r.icons)!=null&&e.length&&r.icons.length>0&&(r.icons=r.icons.filter(i=>i!=="")),OR(ev(ev({},n),r),{url:(r==null?void 0:r.url)||n.url,name:(r==null?void 0:r.name)||n.name,description:(r==null?void 0:r.description)||n.description,icons:(t=r==null?void 0:r.icons)!=null&&t.length&&r.icons.length>0?r.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),r||n}}function R4(){return f4()||{name:"",description:"",url:"",icons:[""]}}function FR(){if(ac()===ei.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:n}=global.Platform;return[t,n].join("-")}const r=wM();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function UR(){var r;const e=ac();return e===ei.browser?[e,((r=c4())==null?void 0:r.host)||"unknown"].join(":"):e}function k4(r,e,t){const n=FR(),i=UR();return[[r,e].join("-"),[TR,t].join("-"),n,i].join("/")}function qR({protocol:r,version:e,relayUrl:t,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:a,bundleId:o,packageName:u}){const c=t.split("?"),f=k4(r,e,n),l={auth:i,ua:f,projectId:s,useOnCloseEvent:a,packageName:u||void 0,bundleId:o||void 0},h=LR(c[1]||"",l);return c[0]+"?"+h}function da(r,e){return r.filter(t=>e.includes(t)).length===r.length}function xg(r){return Object.fromEntries(r.entries())}function wg(r){return new Map(Object.entries(r))}function aa(r=ft.FIVE_MINUTES,e){const t=ft.toMiliseconds(r||ft.FIVE_MINUTES);let n,i,s,a;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o),a=Promise.resolve(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,u)=>{if(a)return o(a);s=setTimeout(()=>{const c=new Error(e);a=Promise.reject(c),u(c)},t),n=o,i=u})}}function Bs(r,e,t){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(t)),e);try{const a=await r;n(a)}catch(a){i(a)}clearTimeout(s)})}function N4(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function jR(r){return N4("topic",r)}function zR(r){return N4("id",r)}function O4(r){const[e,t]=r.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")n.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))n.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return n}function Kr(r,e){return ft.fromMiliseconds(Date.now()+ft.toMiliseconds(r))}function Os(r){return Date.now()>=ft.toMiliseconds(r)}function cr(r,e){return`${r}${e?`:${e}`:""}`}function WR(r=[],e=[]){return[...new Set([...r,...e])]}async function KR({id:r,topic:e,wcDeepLink:t}){var n;try{if(!t)return;const i=typeof t=="string"?JSON.parse(t):t,s=i==null?void 0:i.href;if(typeof s!="string")return;const a=HR(s,r,e),o=ac();if(o===ei.browser){if(!((n=nc())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}VR(a)}else o===ei.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(i){console.error(i)}}function HR(r,e,t){const n=`requestId=${e}&sessionTopic=${t}`;r.endsWith("/")&&(r=r.slice(0,-1));let i=`${r}`;if(r.startsWith("https://t.me")){const s=r.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${YR(n,!0)}`}else i=`${i}/wc?${n}`;return i}function VR(r){let e="_self";JR()?e="_top":(ZR()||r.startsWith("https://")||r.startsWith("http://"))&&(e="_blank"),window.open(r,e,"noreferrer noopener")}async function GR(r,e){let t="";try{if(sc()&&(t=localStorage.getItem(e),t))return t;t=await r.getItem(e)}catch(n){console.error(n)}return t}function rv(r,e){if(!r.includes(e))return null;const t=r.split(/([&,?,=])/),n=t.indexOf(e);return t[n+2]}function nv(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)})}function m1(){return typeof process<"u"&&SR.IS_VITEST==="true"}function ZR(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function JR(){try{return window.self!==window.top}catch{return!1}}function YR(r,e=!1){const t=Buffer.from(r).toString("base64");return e?t.replace(/[=]/g,""):t}function C4(r){return Buffer.from(r,"base64").toString("utf-8")}function QR(r){return new Promise(e=>setTimeout(e,r))}function $u(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function XR(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function oc(r,...e){if(!XR(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function v1(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$u(r.outputLen),$u(r.blockLen)}function Po(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function T4(r,e){oc(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const Dc=BigInt(2**32-1),iv=BigInt(32);function ek(r,e=!1){return e?{h:Number(r&Dc),l:Number(r>>iv&Dc)}:{h:Number(r>>iv&Dc)|0,l:Number(r&Dc)|0}}function tk(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:s,l:a}=ek(r[i],e);[t[i],n[i]]=[s,a]}return[t,n]}const rk=(r,e,t)=>r<<t|e>>>32-t,nk=(r,e,t)=>e<<t|r>>>32-t,ik=(r,e,t)=>e<<t-32|r>>>64-t,sk=(r,e,t)=>r<<t-32|e>>>64-t,Ka=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function ak(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function j0(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Bi(r,e){return r<<32-e|r>>>e}const sv=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ok(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function av(r){for(let e=0;e<r.length;e++)r[e]=ok(r[e])}function uk(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function Ro(r){return typeof r=="string"&&(r=uk(r)),oc(r),r}function ck(...r){let e=0;for(let n=0;n<r.length;n++){const i=r[n];oc(i),e+=i.length}const t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){const s=r[n];t.set(s,i),i+=s.length}return t}class y1{clone(){return this._cloneInto()}}function D4(r){const e=n=>r().update(Ro(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Wo(r=32){if(Ka&&typeof Ka.getRandomValues=="function")return Ka.getRandomValues(new Uint8Array(r));if(Ka&&typeof Ka.randomBytes=="function")return Ka.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}const B4=[],L4=[],$4=[],fk=BigInt(0),su=BigInt(1),lk=BigInt(2),dk=BigInt(7),hk=BigInt(256),pk=BigInt(113);for(let r=0,e=su,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],B4.push(2*(5*n+t)),L4.push((r+1)*(r+2)/2%64);let i=fk;for(let s=0;s<7;s++)e=(e<<su^(e>>dk)*pk)%hk,e&lk&&(i^=su<<(su<<BigInt(s))-su);$4.push(i)}const[gk,bk]=tk($4,!0),ov=(r,e,t)=>t>32?ik(r,e,t):rk(r,e,t),uv=(r,e,t)=>t>32?sk(r,e,t):nk(r,e,t);function mk(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)t[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,u=(a+2)%10,c=t[u],f=t[u+1],l=ov(c,f,1)^t[o],h=uv(c,f,1)^t[o+1];for(let y=0;y<50;y+=10)r[a+y]^=l,r[a+y+1]^=h}let i=r[2],s=r[3];for(let a=0;a<24;a++){const o=L4[a],u=ov(i,s,o),c=uv(i,s,o),f=B4[a];i=r[f],s=r[f+1],r[f]=u,r[f+1]=c}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)t[o]=r[a+o];for(let o=0;o<10;o++)r[a+o]^=~t[(o+2)%10]&t[(o+4)%10]}r[0]^=gk[n],r[1]^=bk[n]}t.fill(0)}let vk=class F4 extends y1{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,$u(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ak(this.state)}keccak(){sv||av(this.state32),mk(this.state32,this.rounds),sv||av(this.state32),this.posOut=0,this.pos=0}update(e){Po(this);const{blockLen:t,state:n}=this;e=Ro(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(t-this.pos,i-s);for(let o=0;o<a;o++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,t&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Po(this,!1),oc(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return $u(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(T4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new F4(t,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const yk=(r,e,t)=>D4(()=>new vk(e,r,t)),xk=yk(1,136,256/8),wk="https://rpc.walletconnect.org/v1";function U4(r){const e=`Ethereum Signed Message:
${r.length}`,t=new TextEncoder().encode(e+r);return"0x"+Buffer.from(xk(t)).toString("hex")}async function Ak(r,e,t,n,i,s){switch(t.t){case"eip191":return await _k(r,e,t.s);case"eip1271":return await Ek(r,e,t.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`)}}async function _k(r,e,t){return(await EP({hash:U4(e),signature:t})).toLowerCase()===r.toLowerCase()}async function Ek(r,e,t,n,i,s){const a=Zl(n);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const o="0x1626ba7e",u="0000000000000000000000000000000000000000000000000000000000000040",c="0000000000000000000000000000000000000000000000000000000000000041",f=t.substring(2),l=U4(e).substring(2),h=o+l+u+c+f,y=await fetch(`${s||wk}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:Sk(),jsonrpc:"2.0",method:"eth_call",params:[{to:r,data:h},"latest"]})}),{result:w}=await y.json();return w?w.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function Sk(){return Date.now()+Math.floor(Math.random()*1e3)}function Ik(r){const e=atob(r),t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);const n=t[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(t.length<i)throw new Error("Transaction data too short for claimed signature count");if(t.length<100)throw new Error("Transaction too short");const s=Buffer.from(r,"base64").slice(1,65);return MP.encode(s)}var Mk=Object.defineProperty,Pk=Object.defineProperties,Rk=Object.getOwnPropertyDescriptors,cv=Object.getOwnPropertySymbols,kk=Object.prototype.hasOwnProperty,Nk=Object.prototype.propertyIsEnumerable,fv=(r,e,t)=>e in r?Mk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ok=(r,e)=>{for(var t in e||(e={}))kk.call(e,t)&&fv(r,t,e[t]);if(cv)for(var t of cv(e))Nk.call(e,t)&&fv(r,t,e[t]);return r},Ck=(r,e)=>Pk(r,Rk(e));const Tk="did:pkh:",x1=r=>r==null?void 0:r.split(":"),Dk=r=>{const e=r&&x1(r);if(e)return r.includes(Tk)?e[3]:e[1]},Ag=r=>{const e=r&&x1(r);if(e)return e[2]+":"+e[3]},bd=r=>{const e=r&&x1(r);if(e)return e.pop()};async function lv(r){const{cacao:e,projectId:t}=r,{s:n,p:i}=e,s=q4(i,i.iss),a=bd(i.iss);return await Ak(a,s,n,Ag(i.iss),t)}const q4=(r,e)=>{const t=`${r.domain} wants you to sign in with your Ethereum account:`,n=bd(e);if(!r.aud&&!r.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=r.statement||void 0;const s=`URI: ${r.aud||r.uri}`,a=`Version: ${r.version}`,o=`Chain ID: ${Dk(e)}`,u=`Nonce: ${r.nonce}`,c=`Issued At: ${r.iat}`,f=r.exp?`Expiration Time: ${r.exp}`:void 0,l=r.nbf?`Not Before: ${r.nbf}`:void 0,h=r.requestId?`Request ID: ${r.requestId}`:void 0,y=r.resources?`Resources:${r.resources.map(_=>`
- ${_}`).join("")}`:void 0,w=Jl(r.resources);if(w){const _=Fu(w);i=Wk(i,_)}return[t,n,"",i,"",s,a,o,u,c,f,l,h,y].filter(_=>_!=null).join(`
`)};function Bk(r){return Buffer.from(JSON.stringify(r)).toString("base64")}function Lk(r){return JSON.parse(Buffer.from(r,"base64").toString("utf-8"))}function Aa(r){if(!r)throw new Error("No recap provided, value is undefined");if(!r.att)throw new Error("No `att` property found");const e=Object.keys(r.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(t=>{const n=r.att[t];if(Array.isArray(n))throw new Error(`Resource must be an object: ${t}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function $k(r,e,t,n={}){return t==null||t.sort((i,s)=>i.localeCompare(s)),{att:{[r]:Fk(e,t,n)}}}function Fk(r,e,t={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${r}/${i}`]:[t]}));return Object.assign({},...n)}function j4(r){return Aa(r),`urn:recap:${Bk(r).replace(/=/g,"")}`}function Fu(r){const e=Lk(r.replace("urn:recap:",""));return Aa(e),e}function Uk(r,e,t){const n=$k(r,e,t);return j4(n)}function qk(r){return r&&r.includes("urn:recap:")}function jk(r,e){const t=Fu(r),n=Fu(e),i=zk(t,n);return j4(i)}function zk(r,e){Aa(r),Aa(e);const t=Object.keys(r.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return t.forEach(i=>{var s,a;Object.keys(((s=r.att)==null?void 0:s[i])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[i])||{})).sort((o,u)=>o.localeCompare(u)).forEach(o=>{var u,c;n.att[i]=Ck(Ok({},n.att[i]),{[o]:((u=r.att[i])==null?void 0:u[o])||((c=e.att[i])==null?void 0:c[o])})})}),n}function Wk(r="",e){Aa(e);const t="I further authorize the stated URI to perform the following actions on my behalf: ";if(r.includes(t))return r;const n=[];let i=0;Object.keys(e.att).forEach(o=>{const u=Object.keys(e.att[o]).map(l=>({ability:l.split("/")[0],action:l.split("/")[1]}));u.sort((l,h)=>l.action.localeCompare(h.action));const c={};u.forEach(l=>{c[l.ability]||(c[l.ability]=[]),c[l.ability].push(l.action)});const f=Object.keys(c).map(l=>(i++,`(${i}) '${l}': '${c[l].join("', '")}' for '${o}'.`));n.push(f.join(", ").replace(".,","."))});const s=n.join(" "),a=`${t}${s}`;return`${r?r+" ":""}${a}`}function dv(r){var e;const t=Fu(r);Aa(t);const n=(e=t.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function hv(r){const e=Fu(r);Aa(e);const t=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&t.push(i[0].chains)})}),[...new Set(t.flat())]}function Jl(r){if(!r)return;const e=r==null?void 0:r[r.length-1];return qk(e)?e:void 0}function z0(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function z4(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Yn(r,...e){if(!z4(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function pv(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Kk(r,e){Yn(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function gv(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}const Fs=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Hk=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Vk=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Vk)throw new Error("Non little-endian hardware is not supported");function Gk(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function _g(r){if(typeof r=="string")r=Gk(r);else if(z4(r))r=Eg(r);else throw new Error("Uint8Array expected, got "+typeof r);return r}function Zk(r,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(r,e)}function Jk(r,e){if(r.length!==e.length)return!1;let t=0;for(let n=0;n<r.length;n++)t|=r[n]^e[n];return t===0}const Yk=(r,e)=>{function t(n,...i){if(Yn(n),r.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");r.varSizeNonce?Yn(c):Yn(c,r.nonceLength)}const s=r.tagLength;s&&i[1]!==void 0&&Yn(i[1]);const a=e(n,...i),o=(c,f)=>{if(f!==void 0){if(c!==2)throw new Error("cipher output not supported");Yn(f)}};let u=!1;return{encrypt(c,f){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,Yn(c),o(a.encrypt.length,f),a.encrypt(c,f)},decrypt(c,f){if(Yn(c),s&&c.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return o(a.decrypt.length,f),a.decrypt(c,f)}}}return Object.assign(t,r),t};function bv(r,e,t=!0){if(e===void 0)return new Uint8Array(r);if(e.length!==r)throw new Error("invalid output length, expected "+r+", got: "+e.length);if(t&&!Qk(e))throw new Error("invalid output, must be aligned");return e}function mv(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(t>>i&s),o=Number(t&s);r.setUint32(e+4,a,n),r.setUint32(e+0,o,n)}function Qk(r){return r.byteOffset%4===0}function Eg(r){return Uint8Array.from(r)}function ko(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}const W4=r=>Uint8Array.from(r.split("").map(e=>e.charCodeAt(0))),Xk=W4("expand 16-byte k"),eN=W4("expand 32-byte k"),tN=Fs(Xk),rN=Fs(eN);function ir(r,e){return r<<e|r>>>32-e}function Sg(r){return r.byteOffset%4===0}const Bc=64,nN=16,K4=2**32-1,vv=new Uint32Array;function iN(r,e,t,n,i,s,a,o){const u=i.length,c=new Uint8Array(Bc),f=Fs(c),l=Sg(i)&&Sg(s),h=l?Fs(i):vv,y=l?Fs(s):vv;for(let w=0;w<u;a++){if(r(e,t,n,f,a,o),a>=K4)throw new Error("arx: counter overflow");const _=Math.min(Bc,u-w);if(l&&_===Bc){const v=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let S=0,k;S<nN;S++)k=v+S,y[k]=h[k]^f[S];w+=Bc;continue}for(let v=0,S;v<_;v++)S=w+v,s[S]=i[S]^c[v];w+=_}}function sN(r,e){const{allowShortKeys:t,extendNonceFn:n,counterLength:i,counterRight:s,rounds:a}=Zk({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof r!="function")throw new Error("core must be a function");return z0(i),z0(a),gv(s),gv(t),(o,u,c,f,l=0)=>{Yn(o),Yn(u),Yn(c);const h=c.length;if(f===void 0&&(f=new Uint8Array(h)),Yn(f),z0(l),l<0||l>=K4)throw new Error("arx: counter overflow");if(f.length<h)throw new Error(`arx: output (${f.length}) is shorter than data (${h})`);const y=[];let w=o.length,_,v;if(w===32)y.push(_=Eg(o)),v=rN;else if(w===16&&t)_=new Uint8Array(32),_.set(o),_.set(o,16),v=tN,y.push(_);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);Sg(u)||y.push(u=Eg(u));const S=Fs(_);if(n){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(v,S,Fs(u.subarray(0,16)),S),u=u.subarray(16)}const k=16-i;if(k!==u.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const $=new Uint8Array(12);$.set(u,s?0:12-u.length),u=$,y.push(u)}const C=Fs(u);return iN(r,v,S,C,c,f,l,a),ko(...y),f}}const cn=(r,e)=>r[e++]&255|(r[e++]&255)<<8;class aN{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=_g(e),Yn(e,32);const t=cn(e,0),n=cn(e,2),i=cn(e,4),s=cn(e,6),a=cn(e,8),o=cn(e,10),u=cn(e,12),c=cn(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|u<<5)&8065,this.r[8]=(u>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let f=0;f<8;f++)this.pad[f]=cn(e,16+2*f)}process(e,t,n=!1){const i=n?0:2048,{h:s,r:a}=this,o=a[0],u=a[1],c=a[2],f=a[3],l=a[4],h=a[5],y=a[6],w=a[7],_=a[8],v=a[9],S=cn(e,t+0),k=cn(e,t+2),C=cn(e,t+4),$=cn(e,t+6),W=cn(e,t+8),X=cn(e,t+10),ae=cn(e,t+12),ee=cn(e,t+14);let Q=s[0]+(S&8191),fe=s[1]+((S>>>13|k<<3)&8191),j=s[2]+((k>>>10|C<<6)&8191),g=s[3]+((C>>>7|$<<9)&8191),b=s[4]+(($>>>4|W<<12)&8191),d=s[5]+(W>>>1&8191),p=s[6]+((W>>>14|X<<2)&8191),A=s[7]+((X>>>11|ae<<5)&8191),M=s[8]+((ae>>>8|ee<<8)&8191),N=s[9]+(ee>>>5|i),I=0,m=I+Q*o+fe*(5*v)+j*(5*_)+g*(5*w)+b*(5*y);I=m>>>13,m&=8191,m+=d*(5*h)+p*(5*l)+A*(5*f)+M*(5*c)+N*(5*u),I+=m>>>13,m&=8191;let x=I+Q*u+fe*o+j*(5*v)+g*(5*_)+b*(5*w);I=x>>>13,x&=8191,x+=d*(5*y)+p*(5*h)+A*(5*l)+M*(5*f)+N*(5*c),I+=x>>>13,x&=8191;let E=I+Q*c+fe*u+j*o+g*(5*v)+b*(5*_);I=E>>>13,E&=8191,E+=d*(5*w)+p*(5*y)+A*(5*h)+M*(5*l)+N*(5*f),I+=E>>>13,E&=8191;let D=I+Q*f+fe*c+j*u+g*o+b*(5*v);I=D>>>13,D&=8191,D+=d*(5*_)+p*(5*w)+A*(5*y)+M*(5*h)+N*(5*l),I+=D>>>13,D&=8191;let z=I+Q*l+fe*f+j*c+g*u+b*o;I=z>>>13,z&=8191,z+=d*(5*v)+p*(5*_)+A*(5*w)+M*(5*y)+N*(5*h),I+=z>>>13,z&=8191;let P=I+Q*h+fe*l+j*f+g*c+b*u;I=P>>>13,P&=8191,P+=d*o+p*(5*v)+A*(5*_)+M*(5*w)+N*(5*y),I+=P>>>13,P&=8191;let de=I+Q*y+fe*h+j*l+g*f+b*c;I=de>>>13,de&=8191,de+=d*u+p*o+A*(5*v)+M*(5*_)+N*(5*w),I+=de>>>13,de&=8191;let Pe=I+Q*w+fe*y+j*h+g*l+b*f;I=Pe>>>13,Pe&=8191,Pe+=d*c+p*u+A*o+M*(5*v)+N*(5*_),I+=Pe>>>13,Pe&=8191;let Me=I+Q*_+fe*w+j*y+g*h+b*l;I=Me>>>13,Me&=8191,Me+=d*f+p*c+A*u+M*o+N*(5*v),I+=Me>>>13,Me&=8191;let Oe=I+Q*v+fe*_+j*w+g*y+b*h;I=Oe>>>13,Oe&=8191,Oe+=d*l+p*f+A*c+M*u+N*o,I+=Oe>>>13,Oe&=8191,I=(I<<2)+I|0,I=I+m|0,m=I&8191,I=I>>>13,x+=I,s[0]=m,s[1]=x,s[2]=E,s[3]=D,s[4]=z,s[5]=P,s[6]=de,s[7]=Pe,s[8]=Me,s[9]=Oe}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=i,i=e[o]>>>13,e[o]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let o=1;o<10;o++)n[o]=e[o]+i,i=n[o]>>>13,n[o]&=8191;n[9]-=8192;let s=(i^1)-1;for(let o=0;o<10;o++)n[o]&=s;s=~s;for(let o=0;o<10;o++)e[o]=e[o]&s|n[o];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+t[0];e[0]=a&65535;for(let o=1;o<8;o++)a=(e[o]+t[o]|0)+(a>>>16)|0,e[o]=a&65535;ko(n)}update(e){pv(this);const{buffer:t,blockLen:n}=this;e=_g(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);if(a===n){for(;n<=i-s;s+=n)this.process(e,s);continue}t.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){ko(this.h,this.r,this.buffer,this.pad)}digestInto(e){pv(this),Kk(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:i}=this;if(i){for(t[i++]=1;i<16;i++)t[i]=0;this.process(t,0,!0)}this.finalize();let s=0;for(let a=0;a<8;a++)e[s++]=n[a]>>>0,e[s++]=n[a]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}function oN(r){const e=(n,i)=>r(i).update(_g(n)).digest(),t=r(new Uint8Array(32));return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}const uN=oN(r=>new aN(r));function cN(r,e,t,n,i,s=20){let a=r[0],o=r[1],u=r[2],c=r[3],f=e[0],l=e[1],h=e[2],y=e[3],w=e[4],_=e[5],v=e[6],S=e[7],k=i,C=t[0],$=t[1],W=t[2],X=a,ae=o,ee=u,Q=c,fe=f,j=l,g=h,b=y,d=w,p=_,A=v,M=S,N=k,I=C,m=$,x=W;for(let D=0;D<s;D+=2)X=X+fe|0,N=ir(N^X,16),d=d+N|0,fe=ir(fe^d,12),X=X+fe|0,N=ir(N^X,8),d=d+N|0,fe=ir(fe^d,7),ae=ae+j|0,I=ir(I^ae,16),p=p+I|0,j=ir(j^p,12),ae=ae+j|0,I=ir(I^ae,8),p=p+I|0,j=ir(j^p,7),ee=ee+g|0,m=ir(m^ee,16),A=A+m|0,g=ir(g^A,12),ee=ee+g|0,m=ir(m^ee,8),A=A+m|0,g=ir(g^A,7),Q=Q+b|0,x=ir(x^Q,16),M=M+x|0,b=ir(b^M,12),Q=Q+b|0,x=ir(x^Q,8),M=M+x|0,b=ir(b^M,7),X=X+j|0,x=ir(x^X,16),A=A+x|0,j=ir(j^A,12),X=X+j|0,x=ir(x^X,8),A=A+x|0,j=ir(j^A,7),ae=ae+g|0,N=ir(N^ae,16),M=M+N|0,g=ir(g^M,12),ae=ae+g|0,N=ir(N^ae,8),M=M+N|0,g=ir(g^M,7),ee=ee+b|0,I=ir(I^ee,16),d=d+I|0,b=ir(b^d,12),ee=ee+b|0,I=ir(I^ee,8),d=d+I|0,b=ir(b^d,7),Q=Q+fe|0,m=ir(m^Q,16),p=p+m|0,fe=ir(fe^p,12),Q=Q+fe|0,m=ir(m^Q,8),p=p+m|0,fe=ir(fe^p,7);let E=0;n[E++]=a+X|0,n[E++]=o+ae|0,n[E++]=u+ee|0,n[E++]=c+Q|0,n[E++]=f+fe|0,n[E++]=l+j|0,n[E++]=h+g|0,n[E++]=y+b|0,n[E++]=w+d|0,n[E++]=_+p|0,n[E++]=v+A|0,n[E++]=S+M|0,n[E++]=k+N|0,n[E++]=C+I|0,n[E++]=$+m|0,n[E++]=W+x|0}const fN=sN(cN,{counterRight:!1,counterLength:4,allowShortKeys:!1}),lN=new Uint8Array(16),yv=(r,e)=>{r.update(e);const t=e.length%16;t&&r.update(lN.subarray(t))},dN=new Uint8Array(32);function xv(r,e,t,n,i){const s=r(e,t,dN),a=uN.create(s);i&&yv(a,i),yv(a,n);const o=new Uint8Array(16),u=Hk(o);mv(u,0,BigInt(i?i.length:0),!0),mv(u,8,BigInt(n.length),!0),a.update(o);const c=a.digest();return ko(s,o),c}const hN=r=>(e,t,n)=>({encrypt(i,s){const a=i.length;s=bv(a+16,s,!1),s.set(i);const o=s.subarray(0,-16);r(e,t,o,o,1);const u=xv(r,e,t,o,n);return s.set(u,a),ko(u),s},decrypt(i,s){s=bv(i.length-16,s,!1);const a=i.subarray(0,-16),o=i.subarray(-16),u=xv(r,e,t,a,n);if(!Jk(o,u))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),r(e,t,s,s,1),ko(u),s}}),H4=Yk({blockSize:64,nonceLength:12,tagLength:16},hN(fN));let V4=class extends y1{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,v1(e);const n=Ro(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Po(this),this.iHash.update(e),this}digestInto(e){Po(this),oc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const zd=(r,e,t)=>new V4(r,e).update(t).digest();zd.create=(r,e)=>new V4(r,e);function pN(r,e,t){return v1(r),t===void 0&&(t=new Uint8Array(r.outputLen)),zd(r,Ro(t),Ro(e))}const W0=new Uint8Array([0]),wv=new Uint8Array;function gN(r,e,t,n=32){if(v1(r),$u(n),n>255*r.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/r.outputLen);t===void 0&&(t=wv);const s=new Uint8Array(i*r.outputLen),a=zd.create(r,e),o=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let c=0;c<i;c++)W0[0]=c+1,o.update(c===0?wv:u).update(t).update(W0).digestInto(u),s.set(u,r.outputLen*c),a._cloneInto(o);return a.destroy(),o.destroy(),u.fill(0),W0.fill(0),s.slice(0,n)}const bN=(r,e,t,n,i)=>gN(r,pN(r,e,t),n,i);function mN(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(t>>i&s),o=Number(t&s),u=n?4:0,c=n?0:4;r.setUint32(e+u,a,n),r.setUint32(e+c,o,n)}function vN(r,e,t){return r&e^~r&t}function yN(r,e,t){return r&e^r&t^e&t}let xN=class extends y1{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=j0(this.buffer)}update(e){Po(this);const{view:t,buffer:n,blockLen:i}=this;e=Ro(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const u=j0(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Po(this),T4(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let l=a;l<i;l++)t[l]=0;mN(n,i-8,BigInt(this.length*8),s),this.process(n,0);const o=j0(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,f[l],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%t&&e.buffer.set(n),e}};const wN=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ps=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rs=new Uint32Array(64);class AN extends xN{constructor(){super(64,32,8,!1),this.A=Ps[0]|0,this.B=Ps[1]|0,this.C=Ps[2]|0,this.D=Ps[3]|0,this.E=Ps[4]|0,this.F=Ps[5]|0,this.G=Ps[6]|0,this.H=Ps[7]|0}get(){const{A:e,B:t,C:n,D:i,E:s,F:a,G:o,H:u}=this;return[e,t,n,i,s,a,o,u]}set(e,t,n,i,s,a,o,u){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=u|0}process(e,t){for(let l=0;l<16;l++,t+=4)Rs[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const h=Rs[l-15],y=Rs[l-2],w=Bi(h,7)^Bi(h,18)^h>>>3,_=Bi(y,17)^Bi(y,19)^y>>>10;Rs[l]=_+Rs[l-7]+w+Rs[l-16]|0}let{A:n,B:i,C:s,D:a,E:o,F:u,G:c,H:f}=this;for(let l=0;l<64;l++){const h=Bi(o,6)^Bi(o,11)^Bi(o,25),y=f+h+vN(o,u,c)+wN[l]+Rs[l]|0,w=(Bi(n,2)^Bi(n,13)^Bi(n,22))+yN(n,i,s)|0;f=c,c=u,u=o,o=a+y|0,a=s,s=i,i=n,n=y+w|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,u=u+this.F|0,c=c+this.G|0,f=f+this.H|0,this.set(n,i,s,a,o,u,c,f)}roundClean(){Rs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const uc=D4(()=>new AN);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wd=BigInt(0),Kd=BigInt(1),_N=BigInt(2);function _a(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function cc(r){if(!_a(r))throw new Error("Uint8Array expected")}function No(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}const EN=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Oo(r){cc(r);let e="";for(let t=0;t<r.length;t++)e+=EN[r[t]];return e}function mo(r){const e=r.toString(16);return e.length&1?"0"+e:e}function w1(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?Wd:BigInt("0x"+r)}const cs={_0:48,_9:57,A:65,F:70,a:97,f:102};function Av(r){if(r>=cs._0&&r<=cs._9)return r-cs._0;if(r>=cs.A&&r<=cs.F)return r-(cs.A-10);if(r>=cs.a&&r<=cs.f)return r-(cs.a-10)}function Co(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const a=Av(r.charCodeAt(s)),o=Av(r.charCodeAt(s+1));if(a===void 0||o===void 0){const u=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=a*16+o}return n}function ba(r){return w1(Oo(r))}function Uu(r){return cc(r),w1(Oo(Uint8Array.from(r).reverse()))}function To(r,e){return Co(r.toString(16).padStart(e*2,"0"))}function Hd(r,e){return To(r,e).reverse()}function SN(r){return Co(mo(r))}function Jn(r,e,t){let n;if(typeof e=="string")try{n=Co(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(_a(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const i=n.length;if(typeof t=="number"&&i!==t)throw new Error(r+" of length "+t+" expected, got "+i);return n}function qu(...r){let e=0;for(let n=0;n<r.length;n++){const i=r[n];cc(i),e+=i.length}const t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){const s=r[n];t.set(s,i),i+=s.length}return t}function IN(r,e){if(r.length!==e.length)return!1;let t=0;for(let n=0;n<r.length;n++)t|=r[n]^e[n];return t===0}function MN(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}const K0=r=>typeof r=="bigint"&&Wd<=r;function Vd(r,e,t){return K0(r)&&K0(e)&&K0(t)&&e<=r&&r<t}function vs(r,e,t,n){if(!Vd(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}function G4(r){let e;for(e=0;r>Wd;r>>=Kd,e+=1);return e}function PN(r,e){return r>>BigInt(e)&Kd}function RN(r,e,t){return r|(t?Kd:Wd)<<BigInt(e)}const A1=r=>(_N<<BigInt(r-1))-Kd,H0=r=>new Uint8Array(r),_v=r=>Uint8Array.from(r);function Z4(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=H0(r),i=H0(r),s=0;const a=()=>{n.fill(1),i.fill(0),s=0},o=(...f)=>t(i,n,...f),u=(f=H0())=>{i=o(_v([0]),f),n=o(),f.length!==0&&(i=o(_v([1]),f),n=o())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const l=[];for(;f<e;){n=o();const h=n.slice();l.push(h),f+=n.length}return qu(...l)};return(f,l)=>{a(),u(f);let h;for(;!(h=l(c()));)u();return a(),h}}const kN={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||_a(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Ko(r,e,t={}){const n=(i,s,a)=>{const o=kN[s];if(typeof o!="function")throw new Error("invalid validator function");const u=r[i];if(!(a&&u===void 0)&&!o(u,r))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(t))n(i,s,!0);return r}const NN=()=>{throw new Error("not implemented")};function Ig(r){const e=new WeakMap;return(t,...n)=>{const i=e.get(t);if(i!==void 0)return i;const s=r(t,...n);return e.set(t,s),s}}var ON=Object.freeze({__proto__:null,isBytes:_a,abytes:cc,abool:No,bytesToHex:Oo,numberToHexUnpadded:mo,hexToNumber:w1,hexToBytes:Co,bytesToNumberBE:ba,bytesToNumberLE:Uu,numberToBytesBE:To,numberToBytesLE:Hd,numberToVarBytesBE:SN,ensureBytes:Jn,concatBytes:qu,equalBytes:IN,utf8ToBytes:MN,inRange:Vd,aInRange:vs,bitLen:G4,bitGet:PN,bitSet:RN,bitMask:A1,createHmacDrbg:Z4,validateObject:Ko,notImplemented:NN,memoized:Ig});const sn=BigInt(0),Lr=BigInt(1),ua=BigInt(2),CN=BigInt(3),Mg=BigInt(4),Ev=BigInt(5),Sv=BigInt(8);function zn(r,e){const t=r%e;return t>=sn?t:e+t}function J4(r,e,t){if(e<sn)throw new Error("invalid exponent, negatives unsupported");if(t<=sn)throw new Error("invalid modulus");if(t===Lr)return sn;let n=Lr;for(;e>sn;)e&Lr&&(n=n*r%t),r=r*r%t,e>>=Lr;return n}function xi(r,e,t){let n=r;for(;e-- >sn;)n*=n,n%=t;return n}function Pg(r,e){if(r===sn)throw new Error("invert: expected non-zero number");if(e<=sn)throw new Error("invert: expected positive modulus, got "+e);let t=zn(r,e),n=e,i=sn,s=Lr;for(;t!==sn;){const a=n/t,o=n%t,u=i-s*a;n=t,t=o,i=s,s=u}if(n!==Lr)throw new Error("invert: does not exist");return zn(i,e)}function TN(r){const e=(r-Lr)/ua;let t,n,i;for(t=r-Lr,n=0;t%ua===sn;t/=ua,n++);for(i=ua;i<r&&J4(i,e,r)!==r-Lr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const a=(r+Lr)/Mg;return function(o,u){const c=o.pow(u,a);if(!o.eql(o.sqr(c),u))throw new Error("Cannot find square root");return c}}const s=(t+Lr)/ua;return function(a,o){if(a.pow(o,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,c=a.pow(a.mul(a.ONE,i),t),f=a.pow(o,s),l=a.pow(o,t);for(;!a.eql(l,a.ONE);){if(a.eql(l,a.ZERO))return a.ZERO;let h=1;for(let w=a.sqr(l);h<u&&!a.eql(w,a.ONE);h++)w=a.sqr(w);const y=a.pow(c,Lr<<BigInt(u-h-1));c=a.sqr(y),f=a.mul(f,y),l=a.mul(l,c),u=h}return f}}function DN(r){if(r%Mg===CN){const e=(r+Lr)/Mg;return function(t,n){const i=t.pow(n,e);if(!t.eql(t.sqr(i),n))throw new Error("Cannot find square root");return i}}if(r%Sv===Ev){const e=(r-Ev)/Sv;return function(t,n){const i=t.mul(n,ua),s=t.pow(i,e),a=t.mul(n,s),o=t.mul(t.mul(a,ua),s),u=t.mul(a,t.sub(o,t.ONE));if(!t.eql(t.sqr(u),n))throw new Error("Cannot find square root");return u}}return TN(r)}const BN=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function LN(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=BN.reduce((n,i)=>(n[i]="function",n),e);return Ko(r,t)}function $N(r,e,t){if(t<sn)throw new Error("invalid exponent, negatives unsupported");if(t===sn)return r.ONE;if(t===Lr)return e;let n=r.ONE,i=e;for(;t>sn;)t&Lr&&(n=r.mul(n,i)),i=r.sqr(i),t>>=Lr;return n}function FN(r,e){const t=new Array(e.length),n=e.reduce((s,a,o)=>r.is0(a)?s:(t[o]=s,r.mul(s,a)),r.ONE),i=r.inv(n);return e.reduceRight((s,a,o)=>r.is0(a)?s:(t[o]=r.mul(s,t[o]),r.mul(s,a)),i),t}function Y4(r,e){const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function Q4(r,e,t=!1,n={}){if(r<=sn)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:i,nByteLength:s}=Y4(r,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:r,isLE:t,BITS:i,BYTES:s,MASK:A1(i),ZERO:sn,ONE:Lr,create:u=>zn(u,r),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return sn<=u&&u<r},is0:u=>u===sn,isOdd:u=>(u&Lr)===Lr,neg:u=>zn(-u,r),eql:(u,c)=>u===c,sqr:u=>zn(u*u,r),add:(u,c)=>zn(u+c,r),sub:(u,c)=>zn(u-c,r),mul:(u,c)=>zn(u*c,r),pow:(u,c)=>$N(o,u,c),div:(u,c)=>zn(u*Pg(c,r),r),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>Pg(u,r),sqrt:n.sqrt||(u=>(a||(a=DN(r)),a(o,u))),invertBatch:u=>FN(o,u),cmov:(u,c,f)=>f?c:u,toBytes:u=>t?Hd(u,s):To(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return t?Uu(u):ba(u)}});return Object.freeze(o)}function X4(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function e8(r){const e=X4(r);return e+Math.ceil(e/2)}function UN(r,e,t=!1){const n=r.length,i=X4(e),s=e8(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const a=t?Uu(r):ba(r),o=zn(a,e-Lr)+Lr;return t?Hd(o,i):To(o,i)}const Iv=BigInt(0),Lc=BigInt(1);function V0(r,e){const t=e.negate();return r?t:e}function t8(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function G0(r,e){t8(r,e);const t=Math.ceil(e/r)+1,n=2**(r-1);return{windows:t,windowSize:n}}function qN(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}function jN(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}const Z0=new WeakMap,r8=new WeakMap;function J0(r){return r8.get(r)||1}function zN(r,e){return{constTimeNegate:V0,hasPrecomputes(t){return J0(t)!==1},unsafeLadder(t,n,i=r.ZERO){let s=t;for(;n>Iv;)n&Lc&&(i=i.add(s)),s=s.double(),n>>=Lc;return i},precomputeWindow(t,n){const{windows:i,windowSize:s}=G0(n,e),a=[];let o=t,u=o;for(let c=0;c<i;c++){u=o,a.push(u);for(let f=1;f<s;f++)u=u.add(o),a.push(u);o=u.double()}return a},wNAF(t,n,i){const{windows:s,windowSize:a}=G0(t,e);let o=r.ZERO,u=r.BASE;const c=BigInt(2**t-1),f=2**t,l=BigInt(t);for(let h=0;h<s;h++){const y=h*a;let w=Number(i&c);i>>=l,w>a&&(w-=f,i+=Lc);const _=y,v=y+Math.abs(w)-1,S=h%2!==0,k=w<0;w===0?u=u.add(V0(S,n[_])):o=o.add(V0(k,n[v]))}return{p:o,f:u}},wNAFUnsafe(t,n,i,s=r.ZERO){const{windows:a,windowSize:o}=G0(t,e),u=BigInt(2**t-1),c=2**t,f=BigInt(t);for(let l=0;l<a;l++){const h=l*o;if(i===Iv)break;let y=Number(i&u);if(i>>=f,y>o&&(y-=c,i+=Lc),y===0)continue;let w=n[h+Math.abs(y)-1];y<0&&(w=w.negate()),s=s.add(w)}return s},getPrecomputes(t,n,i){let s=Z0.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&Z0.set(n,i(s))),s},wNAFCached(t,n,i){const s=J0(t);return this.wNAF(s,this.getPrecomputes(s,t,i),n)},wNAFCachedUnsafe(t,n,i,s){const a=J0(t);return a===1?this.unsafeLadder(t,n,s):this.wNAFUnsafe(a,this.getPrecomputes(a,t,i),n,s)},setWindowSize(t,n){t8(n,e),r8.set(t,n),Z0.delete(t)}}}function WN(r,e,t,n){if(qN(t,r),jN(n,e),t.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=r.ZERO,s=G4(BigInt(t.length)),a=s>12?s-3:s>4?s-2:s?2:1,o=(1<<a)-1,u=new Array(o+1).fill(i),c=Math.floor((e.BITS-1)/a)*a;let f=i;for(let l=c;l>=0;l-=a){u.fill(i);for(let y=0;y<n.length;y++){const w=n[y],_=Number(w>>BigInt(l)&BigInt(o));u[_]=u[_].add(t[y])}let h=i;for(let y=u.length-1,w=i;y>0;y--)w=w.add(u[y]),h=h.add(w);if(f=f.add(h),l!==0)for(let y=0;y<a;y++)f=f.double()}return f}function n8(r){return LN(r.Fp),Ko(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Y4(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Ha=BigInt(0),Y0=BigInt(1);function KN(r){return Ko(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}function HN(r){const e=KN(r),{P:t}=e,n=k=>zn(k,t),i=e.montgomeryBits,s=Math.ceil(i/8),a=e.nByteLength,o=e.adjustScalarBytes||(k=>k),u=e.powPminus2||(k=>J4(k,t-BigInt(2),t));function c(k,C,$){const W=n(k*(C-$));return C=n(C-W),$=n($+W),[C,$]}const f=(e.a-BigInt(2))/BigInt(4);function l(k,C){vs("u",k,Ha,t),vs("scalar",C,Ha,t);const $=C,W=k;let X=Y0,ae=Ha,ee=k,Q=Y0,fe=Ha,j;for(let b=BigInt(i-1);b>=Ha;b--){const d=$>>b&Y0;fe^=d,j=c(fe,X,ee),X=j[0],ee=j[1],j=c(fe,ae,Q),ae=j[0],Q=j[1],fe=d;const p=X+ae,A=n(p*p),M=X-ae,N=n(M*M),I=A-N,m=ee+Q,x=ee-Q,E=n(x*p),D=n(m*M),z=E+D,P=E-D;ee=n(z*z),Q=n(W*n(P*P)),X=n(A*N),ae=n(I*(A+n(f*I)))}j=c(fe,X,ee),X=j[0],ee=j[1],j=c(fe,ae,Q),ae=j[0],Q=j[1];const g=u(ae);return n(X*g)}function h(k){return Hd(n(k),s)}function y(k){const C=Jn("u coordinate",k,s);return a===32&&(C[31]&=127),Uu(C)}function w(k){const C=Jn("scalar",k),$=C.length;if($!==s&&$!==a){let W=""+s+" or "+a;throw new Error("invalid scalar, expected "+W+" bytes, got "+$)}return Uu(o(C))}function _(k,C){const $=y(C),W=w(k),X=l($,W);if(X===Ha)throw new Error("invalid private or public key received");return h(X)}const v=h(e.Gu);function S(k){return _(k,v)}return{scalarMult:_,scalarMultBase:S,getSharedSecret:(k,C)=>_(k,C),getPublicKey:k=>S(k),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:v}}const Rg=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const VN=BigInt(1),Mv=BigInt(2),GN=BigInt(3),ZN=BigInt(5);BigInt(8);function JN(r){const e=BigInt(10),t=BigInt(20),n=BigInt(40),i=BigInt(80),s=Rg,a=r*r%s*r%s,o=xi(a,Mv,s)*a%s,u=xi(o,VN,s)*r%s,c=xi(u,ZN,s)*u%s,f=xi(c,e,s)*c%s,l=xi(f,t,s)*f%s,h=xi(l,n,s)*l%s,y=xi(h,i,s)*h%s,w=xi(y,i,s)*h%s,_=xi(w,e,s)*c%s;return{pow_p_5_8:xi(_,Mv,s)*r%s,b2:a}}function YN(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const kg=HN({P:Rg,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{const e=Rg,{pow_p_5_8:t,b2:n}=JN(r);return zn(xi(t,GN,e)*n,e)},adjustScalarBytes:YN,randomBytes:Wo});function Pv(r){r.lowS!==void 0&&No("lowS",r.lowS),r.prehash!==void 0&&No("prehash",r.prehash)}function QN(r){const e=n8(r);Ko(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:n,a:i}=e;if(t){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:XN,hexToBytes:eO}=ON;class tO extends Error{constructor(e=""){super(e)}}const gs={Err:tO,_tlv:{encode:(r,e)=>{const{Err:t}=gs;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const n=e.length/2,i=mo(n);if(i.length/2&128)throw new t("tlv.encode: long form length too big");const s=n>127?mo(i.length/2|128):"";return mo(r)+s+i+e},decode(r,e){const{Err:t}=gs;let n=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[n++]!==r)throw new t("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let a=0;if(!s)a=i;else{const u=i&127;if(!u)throw new t("tlv.decode(long): indefinite length not supported");if(u>4)throw new t("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+u);if(c.length!==u)throw new t("tlv.decode: length bytes not complete");if(c[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const f of c)a=a<<8|f;if(n+=u,a<128)throw new t("tlv.decode(long): not minimal encoding")}const o=e.subarray(n,n+a);if(o.length!==a)throw new t("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+a)}}},_int:{encode(r){const{Err:e}=gs;if(r<bs)throw new e("integer: negative integers are not allowed");let t=mo(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=gs;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return XN(r)}},toSig(r){const{Err:e,_int:t,_tlv:n}=gs,i=typeof r=="string"?eO(r):r;cc(i);const{v:s,l:a}=n.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:u}=n.decode(2,s),{v:c,l:f}=n.decode(2,u);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(o),s:t.decode(c)}},hexFromSig(r){const{_tlv:e,_int:t}=gs,n=e.encode(2,t.encode(r.r)),i=e.encode(2,t.encode(r.s)),s=n+i;return e.encode(48,s)}},bs=BigInt(0),tn=BigInt(1);BigInt(2);const Rv=BigInt(3);BigInt(4);function rO(r){const e=QN(r),{Fp:t}=e,n=Q4(e.n,e.nBitLength),i=e.toBytes||((_,v,S)=>{const k=v.toAffine();return qu(Uint8Array.from([4]),t.toBytes(k.x),t.toBytes(k.y))}),s=e.fromBytes||(_=>{const v=_.subarray(1),S=t.fromBytes(v.subarray(0,t.BYTES)),k=t.fromBytes(v.subarray(t.BYTES,2*t.BYTES));return{x:S,y:k}});function a(_){const{a:v,b:S}=e,k=t.sqr(_),C=t.mul(k,_);return t.add(t.add(C,t.mul(_,v)),S)}if(!t.eql(t.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function o(_){return Vd(_,tn,e.n)}function u(_){const{allowedPrivateKeyLengths:v,nByteLength:S,wrapPrivateKey:k,n:C}=e;if(v&&typeof _!="bigint"){if(_a(_)&&(_=Oo(_)),typeof _!="string"||!v.includes(_.length))throw new Error("invalid private key");_=_.padStart(S*2,"0")}let $;try{$=typeof _=="bigint"?_:ba(Jn("private key",_,S))}catch{throw new Error("invalid private key, expected hex or "+S+" bytes, got "+typeof _)}return k&&($=zn($,C)),vs("private key",$,tn,C),$}function c(_){if(!(_ instanceof h))throw new Error("ProjectivePoint expected")}const f=Ig((_,v)=>{const{px:S,py:k,pz:C}=_;if(t.eql(C,t.ONE))return{x:S,y:k};const $=_.is0();v==null&&(v=$?t.ONE:t.inv(C));const W=t.mul(S,v),X=t.mul(k,v),ae=t.mul(C,v);if($)return{x:t.ZERO,y:t.ZERO};if(!t.eql(ae,t.ONE))throw new Error("invZ was invalid");return{x:W,y:X}}),l=Ig(_=>{if(_.is0()){if(e.allowInfinityPoint&&!t.is0(_.py))return;throw new Error("bad point: ZERO")}const{x:v,y:S}=_.toAffine();if(!t.isValid(v)||!t.isValid(S))throw new Error("bad point: x or y not FE");const k=t.sqr(S),C=a(v);if(!t.eql(k,C))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(v,S,k){if(this.px=v,this.py=S,this.pz=k,v==null||!t.isValid(v))throw new Error("x required");if(S==null||!t.isValid(S))throw new Error("y required");if(k==null||!t.isValid(k))throw new Error("z required");Object.freeze(this)}static fromAffine(v){const{x:S,y:k}=v||{};if(!v||!t.isValid(S)||!t.isValid(k))throw new Error("invalid affine point");if(v instanceof h)throw new Error("projective point not allowed");const C=$=>t.eql($,t.ZERO);return C(S)&&C(k)?h.ZERO:new h(S,k,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const S=t.invertBatch(v.map(k=>k.pz));return v.map((k,C)=>k.toAffine(S[C])).map(h.fromAffine)}static fromHex(v){const S=h.fromAffine(s(Jn("pointHex",v)));return S.assertValidity(),S}static fromPrivateKey(v){return h.BASE.multiply(u(v))}static msm(v,S){return WN(h,n,v,S)}_setWindowSize(v){w.setWindowSize(this,v)}assertValidity(){l(this)}hasEvenY(){const{y:v}=this.toAffine();if(t.isOdd)return!t.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){c(v);const{px:S,py:k,pz:C}=this,{px:$,py:W,pz:X}=v,ae=t.eql(t.mul(S,X),t.mul($,C)),ee=t.eql(t.mul(k,X),t.mul(W,C));return ae&&ee}negate(){return new h(this.px,t.neg(this.py),this.pz)}double(){const{a:v,b:S}=e,k=t.mul(S,Rv),{px:C,py:$,pz:W}=this;let X=t.ZERO,ae=t.ZERO,ee=t.ZERO,Q=t.mul(C,C),fe=t.mul($,$),j=t.mul(W,W),g=t.mul(C,$);return g=t.add(g,g),ee=t.mul(C,W),ee=t.add(ee,ee),X=t.mul(v,ee),ae=t.mul(k,j),ae=t.add(X,ae),X=t.sub(fe,ae),ae=t.add(fe,ae),ae=t.mul(X,ae),X=t.mul(g,X),ee=t.mul(k,ee),j=t.mul(v,j),g=t.sub(Q,j),g=t.mul(v,g),g=t.add(g,ee),ee=t.add(Q,Q),Q=t.add(ee,Q),Q=t.add(Q,j),Q=t.mul(Q,g),ae=t.add(ae,Q),j=t.mul($,W),j=t.add(j,j),Q=t.mul(j,g),X=t.sub(X,Q),ee=t.mul(j,fe),ee=t.add(ee,ee),ee=t.add(ee,ee),new h(X,ae,ee)}add(v){c(v);const{px:S,py:k,pz:C}=this,{px:$,py:W,pz:X}=v;let ae=t.ZERO,ee=t.ZERO,Q=t.ZERO;const fe=e.a,j=t.mul(e.b,Rv);let g=t.mul(S,$),b=t.mul(k,W),d=t.mul(C,X),p=t.add(S,k),A=t.add($,W);p=t.mul(p,A),A=t.add(g,b),p=t.sub(p,A),A=t.add(S,C);let M=t.add($,X);return A=t.mul(A,M),M=t.add(g,d),A=t.sub(A,M),M=t.add(k,C),ae=t.add(W,X),M=t.mul(M,ae),ae=t.add(b,d),M=t.sub(M,ae),Q=t.mul(fe,A),ae=t.mul(j,d),Q=t.add(ae,Q),ae=t.sub(b,Q),Q=t.add(b,Q),ee=t.mul(ae,Q),b=t.add(g,g),b=t.add(b,g),d=t.mul(fe,d),A=t.mul(j,A),b=t.add(b,d),d=t.sub(g,d),d=t.mul(fe,d),A=t.add(A,d),g=t.mul(b,A),ee=t.add(ee,g),g=t.mul(M,A),ae=t.mul(p,ae),ae=t.sub(ae,g),g=t.mul(p,b),Q=t.mul(M,Q),Q=t.add(Q,g),new h(ae,ee,Q)}subtract(v){return this.add(v.negate())}is0(){return this.equals(h.ZERO)}wNAF(v){return w.wNAFCached(this,v,h.normalizeZ)}multiplyUnsafe(v){const{endo:S,n:k}=e;vs("scalar",v,bs,k);const C=h.ZERO;if(v===bs)return C;if(this.is0()||v===tn)return this;if(!S||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,v,h.normalizeZ);let{k1neg:$,k1:W,k2neg:X,k2:ae}=S.splitScalar(v),ee=C,Q=C,fe=this;for(;W>bs||ae>bs;)W&tn&&(ee=ee.add(fe)),ae&tn&&(Q=Q.add(fe)),fe=fe.double(),W>>=tn,ae>>=tn;return $&&(ee=ee.negate()),X&&(Q=Q.negate()),Q=new h(t.mul(Q.px,S.beta),Q.py,Q.pz),ee.add(Q)}multiply(v){const{endo:S,n:k}=e;vs("scalar",v,tn,k);let C,$;if(S){const{k1neg:W,k1:X,k2neg:ae,k2:ee}=S.splitScalar(v);let{p:Q,f:fe}=this.wNAF(X),{p:j,f:g}=this.wNAF(ee);Q=w.constTimeNegate(W,Q),j=w.constTimeNegate(ae,j),j=new h(t.mul(j.px,S.beta),j.py,j.pz),C=Q.add(j),$=fe.add(g)}else{const{p:W,f:X}=this.wNAF(v);C=W,$=X}return h.normalizeZ([C,$])[0]}multiplyAndAddUnsafe(v,S,k){const C=h.BASE,$=(X,ae)=>ae===bs||ae===tn||!X.equals(C)?X.multiplyUnsafe(ae):X.multiply(ae),W=$(this,S).add($(v,k));return W.is0()?void 0:W}toAffine(v){return f(this,v)}isTorsionFree(){const{h:v,isTorsionFree:S}=e;if(v===tn)return!0;if(S)return S(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:S}=e;return v===tn?this:S?S(h,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return No("isCompressed",v),this.assertValidity(),i(h,this,v)}toHex(v=!0){return No("isCompressed",v),Oo(this.toRawBytes(v))}}h.BASE=new h(e.Gx,e.Gy,t.ONE),h.ZERO=new h(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,w=zN(h,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:o}}function nO(r){const e=n8(r);return Ko(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function iO(r){const e=nO(r),{Fp:t,n}=e,i=t.BYTES+1,s=2*t.BYTES+1;function a(d){return zn(d,n)}function o(d){return Pg(d,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:l}=rO({...e,toBytes(d,p,A){const M=p.toAffine(),N=t.toBytes(M.x),I=qu;return No("isCompressed",A),A?I(Uint8Array.from([p.hasEvenY()?2:3]),N):I(Uint8Array.from([4]),N,t.toBytes(M.y))},fromBytes(d){const p=d.length,A=d[0],M=d.subarray(1);if(p===i&&(A===2||A===3)){const N=ba(M);if(!Vd(N,tn,t.ORDER))throw new Error("Point is not on curve");const I=f(N);let m;try{m=t.sqrt(I)}catch(E){const D=E instanceof Error?": "+E.message:"";throw new Error("Point is not on curve"+D)}const x=(m&tn)===tn;return(A&1)===1!==x&&(m=t.neg(m)),{x:N,y:m}}else if(p===s&&A===4){const N=t.fromBytes(M.subarray(0,t.BYTES)),I=t.fromBytes(M.subarray(t.BYTES,2*t.BYTES));return{x:N,y:I}}else{const N=i,I=s;throw new Error("invalid Point, expected length of "+N+", or uncompressed "+I+", got "+p)}}}),h=d=>Oo(To(d,e.nByteLength));function y(d){const p=n>>tn;return d>p}function w(d){return y(d)?a(-d):d}const _=(d,p,A)=>ba(d.slice(p,A));class v{constructor(p,A,M){this.r=p,this.s=A,this.recovery=M,this.assertValidity()}static fromCompact(p){const A=e.nByteLength;return p=Jn("compactSignature",p,A*2),new v(_(p,0,A),_(p,A,2*A))}static fromDER(p){const{r:A,s:M}=gs.toSig(Jn("DER",p));return new v(A,M)}assertValidity(){vs("r",this.r,tn,n),vs("s",this.s,tn,n)}addRecoveryBit(p){return new v(this.r,this.s,p)}recoverPublicKey(p){const{r:A,s:M,recovery:N}=this,I=X(Jn("msgHash",p));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const m=N===2||N===3?A+e.n:A;if(m>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const x=N&1?"03":"02",E=u.fromHex(x+h(m)),D=o(m),z=a(-I*D),P=a(M*D),de=u.BASE.multiplyAndAddUnsafe(E,z,P);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Co(this.toDERHex())}toDERHex(){return gs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Co(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const S={isValidPrivateKey(d){try{return c(d),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const d=e8(e.n);return UN(e.randomBytes(d),e.n)},precompute(d=8,p=u.BASE){return p._setWindowSize(d),p.multiply(BigInt(3)),p}};function k(d,p=!0){return u.fromPrivateKey(d).toRawBytes(p)}function C(d){const p=_a(d),A=typeof d=="string",M=(p||A)&&d.length;return p?M===i||M===s:A?M===2*i||M===2*s:d instanceof u}function $(d,p,A=!0){if(C(d))throw new Error("first arg must be private key");if(!C(p))throw new Error("second arg must be public key");return u.fromHex(p).multiply(c(d)).toRawBytes(A)}const W=e.bits2int||function(d){if(d.length>8192)throw new Error("input is too large");const p=ba(d),A=d.length*8-e.nBitLength;return A>0?p>>BigInt(A):p},X=e.bits2int_modN||function(d){return a(W(d))},ae=A1(e.nBitLength);function ee(d){return vs("num < 2^"+e.nBitLength,d,bs,ae),To(d,e.nByteLength)}function Q(d,p,A=fe){if(["recovered","canonical"].some(Me=>Me in A))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:N}=e;let{lowS:I,prehash:m,extraEntropy:x}=A;I==null&&(I=!0),d=Jn("msgHash",d),Pv(A),m&&(d=Jn("prehashed msgHash",M(d)));const E=X(d),D=c(p),z=[ee(D),ee(E)];if(x!=null&&x!==!1){const Me=x===!0?N(t.BYTES):x;z.push(Jn("extraEntropy",Me))}const P=qu(...z),de=E;function Pe(Me){const Oe=W(Me);if(!l(Oe))return;const K=o(Oe),te=u.BASE.multiply(Oe).toAffine(),re=a(te.x);if(re===bs)return;const we=a(K*a(de+re*D));if(we===bs)return;let ge=(te.x===re?0:2)|Number(te.y&tn),xe=we;return I&&y(we)&&(xe=w(we),ge^=1),new v(re,xe,ge)}return{seed:P,k2sig:Pe}}const fe={lowS:e.lowS,prehash:!1},j={lowS:e.lowS,prehash:!1};function g(d,p,A=fe){const{seed:M,k2sig:N}=Q(d,p,A),I=e;return Z4(I.hash.outputLen,I.nByteLength,I.hmac)(M,N)}u.BASE._setWindowSize(8);function b(d,p,A,M=j){var we;const N=d;p=Jn("msgHash",p),A=Jn("publicKey",A);const{lowS:I,prehash:m,format:x}=M;if(Pv(M),"strict"in M)throw new Error("options.strict was renamed to lowS");if(x!==void 0&&x!=="compact"&&x!=="der")throw new Error("format must be compact or der");const E=typeof N=="string"||_a(N),D=!E&&!x&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!E&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let z,P;try{if(D&&(z=new v(N.r,N.s)),E){try{x!=="compact"&&(z=v.fromDER(N))}catch(ge){if(!(ge instanceof gs.Err))throw ge}!z&&x!=="der"&&(z=v.fromCompact(N))}P=u.fromHex(A)}catch{return!1}if(!z||I&&z.hasHighS())return!1;m&&(p=e.hash(p));const{r:de,s:Pe}=z,Me=X(p),Oe=o(Pe),K=a(Me*Oe),te=a(de*Oe),re=(we=u.BASE.multiplyAndAddUnsafe(P,K,te))==null?void 0:we.toAffine();return re?a(re.x)===de:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:$,sign:g,verify:b,ProjectivePoint:u,Signature:v,utils:S}}function sO(r){return{hash:r,hmac:(e,...t)=>zd(r,e,ck(...t)),randomBytes:Wo}}function aO(r,e){const t=n=>iO({...r,...sO(n)});return{...t(e),create:t}}const i8=Q4(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),oO=i8.create(BigInt("-3")),uO=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),cO=aO({a:oO,b:uO,Fp:i8,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},uc),s8="base10",Cn="base16",Mi="base64pad",Cs="base64url",fc="utf8",a8=0,ys=1,lc=2,fO=0,kv=1,Au=12,_1=32;function lO(){const r=kg.utils.randomPrivateKey(),e=kg.getPublicKey(r);return{privateKey:Wn(r,Cn),publicKey:Wn(e,Cn)}}function Ng(){const r=Wo(_1);return Wn(r,Cn)}function dO(r,e){const t=kg.getSharedSecret(ui(r,Cn),ui(e,Cn)),n=bN(uc,t,void 0,void 0,_1);return Wn(n,Cn)}function Yl(r){const e=uc(ui(r,Cn));return Wn(e,Cn)}function Hi(r){const e=uc(ui(r,fc));return Wn(e,Cn)}function o8(r){return ui(`${r}`,s8)}function Ea(r){return Number(Wn(r,s8))}function u8(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function c8(r){const e=r.replace(/-/g,"+").replace(/_/g,"/"),t=(4-e.length%4)%4;return e+"=".repeat(t)}function hO(r){const e=o8(typeof r.type<"u"?r.type:a8);if(Ea(e)===ys&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?ui(r.senderPublicKey,Cn):void 0,n=typeof r.iv<"u"?ui(r.iv,Cn):Wo(Au),i=ui(r.symKey,Cn),s=H4(i,n).encrypt(ui(r.message,fc)),a=f8({type:e,sealed:s,iv:n,senderPublicKey:t});return r.encoding===Cs?u8(a):a}function pO(r){const e=ui(r.symKey,Cn),{sealed:t,iv:n}=ju({encoded:r.encoded,encoding:r.encoding}),i=H4(e,n).decrypt(t);if(i===null)throw new Error("Failed to decrypt");return Wn(i,fc)}function gO(r,e){const t=o8(lc),n=Wo(Au),i=ui(r,fc),s=f8({type:t,sealed:i,iv:n});return e===Cs?u8(s):s}function bO(r,e){const{sealed:t}=ju({encoded:r,encoding:e});return Wn(t,fc)}function f8(r){if(Ea(r.type)===lc)return Wn(wu([r.type,r.sealed]),Mi);if(Ea(r.type)===ys){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Wn(wu([r.type,r.senderPublicKey,r.iv,r.sealed]),Mi)}return Wn(wu([r.type,r.iv,r.sealed]),Mi)}function ju(r){const e=(r.encoding||Mi)===Cs?c8(r.encoded):r.encoded,t=ui(e,Mi),n=t.slice(fO,kv),i=kv;if(Ea(n)===ys){const u=i+_1,c=u+Au,f=t.slice(i,u),l=t.slice(u,c),h=t.slice(c);return{type:n,sealed:h,iv:l,senderPublicKey:f}}if(Ea(n)===lc){const u=t.slice(i),c=Wo(Au);return{type:n,sealed:u,iv:c}}const s=i+Au,a=t.slice(i,s),o=t.slice(s);return{type:n,sealed:o,iv:a}}function mO(r,e){const t=ju({encoded:r,encoding:e==null?void 0:e.encoding});return l8({type:Ea(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?Wn(t.senderPublicKey,Cn):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function l8(r){const e=(r==null?void 0:r.type)||a8;if(e===ys){if(typeof(r==null?void 0:r.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(r==null?void 0:r.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r==null?void 0:r.senderPublicKey,receiverPublicKey:r==null?void 0:r.receiverPublicKey}}function Nv(r){return r.type===ys&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}function Ov(r){return r.type===lc}function vO(r){const e=Buffer.from(r.x,"base64"),t=Buffer.from(r.y,"base64");return wu([new Uint8Array([4]),e,t])}function yO(r,e){const[t,n,i]=r.split("."),s=Buffer.from(c8(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const a=s.slice(0,32),o=s.slice(32,64),u=`${t}.${n}`,c=uc(u),f=vO(e);if(!cO.verify(wu([a,o]),c,f))throw new Error("Invalid signature");return mg(r).payload}const xO="irn";function md(r){return(r==null?void 0:r.relay)||{protocol:xO}}function bu(r){const e=ER[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}function wO(r,e="-"){const t={},n="relay"+e;return Object.keys(r).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),a=r[i];t[s]=a}}),t}function Cv(r){if(!r.includes("wc:")){const c=C4(r);c!=null&&c.includes("wc:")&&(r=c)}r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,n=r.substring(0,e),i=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",a=new URLSearchParams(s),o={};a.forEach((c,f)=>{o[f]=c});const u=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:n,topic:AO(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:wO(o),methods:u,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function AO(r){return r.startsWith("//")?r.substring(2):r}function _O(r,e="-"){const t="relay",n={};return Object.keys(r).forEach(i=>{const s=i,a=t+e+s;r[s]&&(n[a]=r[s])}),n}function Tv(r){const e=new URLSearchParams,t=_O(r.relay);Object.keys(t).sort().forEach(i=>{e.set(i,t[i])}),e.set("symKey",r.symKey),r.expiryTimestamp&&e.set("expiryTimestamp",r.expiryTimestamp.toString()),r.methods&&e.set("methods",r.methods.join(","));const n=e.toString();return`${r.protocol}:${r.topic}@${r.version}?${n}`}function $c(r,e,t){return`${r}?wc_ev=${t}&topic=${e}`}function Ho(r){const e=[];return r.forEach(t=>{const[n,i]=t.split(":");e.push(`${n}:${i}`)}),e}function EO(r){const e=[];return Object.values(r).forEach(t=>{e.push(...Ho(t.accounts))}),e}function SO(r,e){const t=[];return Object.values(r).forEach(n=>{Ho(n.accounts).includes(e)&&t.push(...n.methods)}),t}function IO(r,e){const t=[];return Object.values(r).forEach(n=>{Ho(n.accounts).includes(e)&&t.push(...n.events)}),t}function MO(r){const e={};return r==null||r.forEach(t=>{var n;const[i,s]=t.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(t),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function Dv(r,e){e=e.map(n=>n.replace("did:pkh:",""));const t=MO(e);for(const[n,i]of Object.entries(t))i.methods?i.methods=WR(i.methods,r):i.methods=r,i.events=["chainChanged","accountsChanged"];return t}const PO={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},RO={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ht(r,e){const{message:t,code:n}=RO[r];return{message:e?`${t} ${e}`:t,code:n}}function xr(r,e){const{message:t,code:n}=PO[r];return{message:e?`${t} ${e}`:t,code:n}}function dc(r,e){return!!Array.isArray(r)}function vd(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function hn(r){return typeof r>"u"}function jr(r,e){return e&&hn(r)?!0:typeof r=="string"&&!!r.trim().length}function E1(r,e){return e&&hn(r)?!0:typeof r=="number"&&!isNaN(r)}function kO(r,e){const{requiredNamespaces:t}=e,n=Object.keys(r.namespaces),i=Object.keys(t);let s=!0;return da(i,n)?(n.forEach(a=>{const{accounts:o,methods:u,events:c}=r.namespaces[a],f=Ho(o),l=t[a];(!da(P4(a,l),f)||!da(l.methods,u)||!da(l.events,c))&&(s=!1)}),s):!1}function yd(r){return jr(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function NO(r){if(jr(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&yd(t)}}return!1}function OO(r){function e(t){try{return typeof new URL(t)<"u"}catch{return!1}}try{if(jr(r,!1)){if(e(r))return!0;const t=C4(r);return e(t)}}catch{}return!1}function CO(r){var e;return(e=r==null?void 0:r.proposer)==null?void 0:e.publicKey}function TO(r){return r==null?void 0:r.topic}function DO(r,e){let t=null;return jr(r==null?void 0:r.publicKey,!1)||(t=ht("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function Bv(r){let e=!0;return dc(r)?r.length&&(e=r.every(t=>jr(t,!1))):e=!1,e}function BO(r,e,t){let n=null;return dc(e)&&e.length?e.forEach(i=>{n||yd(i)||(n=xr("UNSUPPORTED_CHAINS",`${t}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):yd(r)||(n=xr("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function LO(r,e,t){let n=null;return Object.entries(r).forEach(([i,s])=>{if(n)return;const a=BO(i,P4(i,s),`${e} ${t}`);a&&(n=a)}),n}function $O(r,e){let t=null;return dc(r)?r.forEach(n=>{t||NO(n)||(t=xr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):t=xr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function FO(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const i=$O(n==null?void 0:n.accounts,`${e} namespace`);i&&(t=i)}),t}function UO(r,e){let t=null;return Bv(r==null?void 0:r.methods)?Bv(r==null?void 0:r.events)||(t=xr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=xr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function d8(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const i=UO(n,`${e}, namespace`);i&&(t=i)}),t}function qO(r,e,t){let n=null;if(r&&vd(r)){const i=d8(r,e);i&&(n=i);const s=LO(r,e,t);s&&(n=s)}else n=ht("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return n}function Q0(r,e){let t=null;if(r&&vd(r)){const n=d8(r,e);n&&(t=n);const i=FO(r,e);i&&(t=i)}else t=ht("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function h8(r){return jr(r.protocol,!0)}function jO(r,e){let t=!1;return r?r&&dc(r)&&r.length&&r.forEach(n=>{t=h8(n)}):t=!0,t}function zO(r){return typeof r=="number"}function Un(r){return typeof r<"u"&&typeof r!==null}function WO(r){return!(!r||typeof r!="object"||!r.code||!E1(r.code,!1)||!r.message||!jr(r.message,!1))}function KO(r){return!(hn(r)||!jr(r.method,!1))}function HO(r){return!(hn(r)||hn(r.result)&&hn(r.error)||!E1(r.id,!1)||!jr(r.jsonrpc,!1))}function VO(r){return!(hn(r)||!jr(r.name,!1))}function Lv(r,e){return!(!yd(e)||!EO(r).includes(e))}function GO(r,e,t){return jr(t,!1)?SO(r,e).includes(t):!1}function ZO(r,e,t){return jr(t,!1)?IO(r,e).includes(t):!1}function $v(r,e,t){let n=null;const i=JO(r),s=YO(e),a=Object.keys(i),o=Object.keys(s),u=Fv(Object.keys(r)),c=Fv(Object.keys(e)),f=u.filter(l=>!c.includes(l));return f.length&&(n=ht("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(e).toString()}`)),da(a,o)||(n=ht("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(l=>{if(!l.includes(":")||n)return;const h=Ho(e[l].accounts);h.includes(l)||(n=ht("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${l}
        Required: ${l}
        Approved: ${h.toString()}`))}),a.forEach(l=>{n||(da(i[l].methods,s[l].methods)?da(i[l].events,s[l].events)||(n=ht("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${l}`)):n=ht("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${l}`))}),n}function JO(r){const e={};return Object.keys(r).forEach(t=>{var n;t.includes(":")?e[t]=r[t]:(n=r[t].chains)==null||n.forEach(i=>{e[i]={methods:r[t].methods,events:r[t].events}})}),e}function Fv(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function YO(r){const e={};return Object.keys(r).forEach(t=>{if(t.includes(":"))e[t]=r[t];else{const n=Ho(r[t].accounts);n==null||n.forEach(i=>{e[i]={accounts:r[t].accounts.filter(s=>s.includes(`${i}:`)),methods:r[t].methods,events:r[t].events}})}}),e}function QO(r,e){return E1(r,!1)&&r<=e.max&&r>=e.min}function Uv(){const r=ac();return new Promise(e=>{switch(r){case ei.browser:e(XO());break;case ei.reactNative:e(eC());break;case ei.node:e(tC());break;default:e(!0)}})}function XO(){return sc()&&(navigator==null?void 0:navigator.onLine)}async function eC(){if(Ws()&&typeof global<"u"&&global!=null&&global.NetInfo){const r=await(global==null?void 0:global.NetInfo.fetch());return r==null?void 0:r.isConnected}return!0}function tC(){return!0}function rC(r){switch(ac()){case ei.browser:nC(r);break;case ei.reactNative:iC(r);break}}function nC(r){!Ws()&&sc()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function iC(r){Ws()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>r(e==null?void 0:e.isConnected)))}const X0={};class au{static get(e){return X0[e]}static set(e,t){X0[e]=t}static delete(e){delete X0[e]}}const sC="PARSE_ERROR",aC="INVALID_REQUEST",oC="METHOD_NOT_FOUND",uC="INVALID_PARAMS",p8="INTERNAL_ERROR",S1="SERVER_ERROR",cC=[-32700,-32600,-32601,-32602,-32603],_u={[sC]:{code:-32700,message:"Parse error"},[aC]:{code:-32600,message:"Invalid Request"},[oC]:{code:-32601,message:"Method not found"},[uC]:{code:-32602,message:"Invalid params"},[p8]:{code:-32603,message:"Internal error"},[S1]:{code:-32e3,message:"Server error"}},g8=S1;function fC(r){return cC.includes(r)}function qv(r){return Object.keys(_u).includes(r)?_u[r]:_u[g8]}function lC(r){const e=Object.values(_u).find(t=>t.code===r);return e||_u[g8]}function dC(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var b8={},fs={},jv;function hC(){if(jv)return fs;jv=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.isBrowserCryptoAvailable=fs.getSubtleCrypto=fs.getBrowerCrypto=void 0;function r(){return(Ki==null?void 0:Ki.crypto)||(Ki==null?void 0:Ki.msCrypto)||{}}fs.getBrowerCrypto=r;function e(){const n=r();return n.subtle||n.webkitSubtle}fs.getSubtleCrypto=e;function t(){return!!r()&&!!e()}return fs.isBrowserCryptoAvailable=t,fs}var ls={},zv;function pC(){if(zv)return ls;zv=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.isBrowser=ls.isNode=ls.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ls.isReactNative=r;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ls.isNode=e;function t(){return!r()&&!e()}return ls.isBrowser=t,ls}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Xu;e.__exportStar(hC(),r),e.__exportStar(pC(),r)})(b8);function qi(r=3){const e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function ha(r=6){return BigInt(qi(r))}function pa(r,e,t){return{id:t||qi(),jsonrpc:"2.0",method:r,params:e}}function I1(r,e){return{id:r,jsonrpc:"2.0",result:e}}function M1(r,e,t){return{id:r,jsonrpc:"2.0",error:gC(e)}}function gC(r,e){return typeof r>"u"?qv(p8):(typeof r=="string"&&(r=Object.assign(Object.assign({},qv(S1)),{message:r})),fC(r.code)&&(r=lC(r.code)),r)}class bC{}class mC extends bC{constructor(){super()}}let vC=class extends mC{constructor(e){super()}};const yC="^wss?:";function xC(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function wC(r,e){const t=xC(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function Wv(r){return wC(r,yC)}function AC(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function m8(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function P1(r){return m8(r)&&"method"in r}function Gd(r){return m8(r)&&(ji(r)||oi(r))}function ji(r){return"result"in r}function oi(r){return"error"in r}class _C extends vC{constructor(e){super(e),this.events=new Oi.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(pa(e.method,e.params||[],e.id||ha().toString()),t)}async requestStrict(e,t){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{oi(s)?i(s.error):n(s.result)});try{await this.connection.send(e,t)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Gd(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const EC=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),SC=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Kv=r=>r.split("?")[0],Hv=10,IC=EC();let MC=class{constructor(e){if(this.url=e,this.events=new Oi.EventEmitter,this.registering=!1,!Wv(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(xa(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!Wv(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{const i=b8.isReactNative()?void 0:{rejectUnauthorized:!AC(e)},s=new IC(e,[],i);SC()?s.onerror=a=>{const o=a;n(this.emitError(o.error))}:s.on("error",a=>{n(this.emitError(a))}),s.onopen=()=>{this.onOpen(s),t(s)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?Mo(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),i=n.message||n.toString(),s=M1(e,i);this.events.emit("payload",s)}parseError(e,t=this.url){return dC(e,Kv(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Hv&&this.events.setMaxListeners(Hv)}emitError(e){const t=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${Kv(this.url)}`));return this.events.emit("register_error",t),t}};var PC={};const v8="wc",y8=2,Og="core",Xi=`${v8}@2:${Og}:`,RC={logger:"error"},kC={database:":memory:"},NC="crypto",Vv="client_ed25519_seed",OC=ft.ONE_DAY,CC="keychain",TC="0.3",DC="messages",BC="0.3",Gv=ft.SIX_HOURS,LC="publisher",x8="irn",$C="error",w8="wss://relay.walletconnect.org",FC="relayer",rn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},UC="_subscription",ri={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},qC=.1,Cg="2.19.2",Ir={link_mode:"link_mode",relay:"relay"},Ql={inbound:"inbound",outbound:"outbound"},jC="0.3",zC="WALLETCONNECT_CLIENT_ID",Zv="WALLETCONNECT_LINK_MODE_APPS",Zn={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},WC="subscription",KC="0.3",HC="pairing",VC="0.3",ou={wc_pairingDelete:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ft.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ft.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:0},res:{ttl:ft.ONE_DAY,prompt:!1,tag:0}}},ca={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},bi={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},GC="history",ZC="0.3",JC="expirer",si={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},YC="0.3",QC="verify-api",XC="https://verify.walletconnect.com",A8="https://verify.walletconnect.org",Eu=A8,eT=`${Eu}/v3`,tT=[XC,A8],rT="echo",nT="https://echo.walletconnect.com",Ui={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ds={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},mi={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},ra={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},na={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},uu={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},iT=.1,sT="event-client",aT=86400,oT="https://pulse.walletconnect.org/batch";function uT(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),a=s.charCodeAt(0);if(t[a]!==255)throw new TypeError(s+" is ambiguous");t[a]=i}var o=r.length,u=r.charAt(0),c=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function l(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var _=0,v=0,S=0,k=w.length;S!==k&&w[S]===0;)S++,_++;for(var C=(k-S)*f+1>>>0,$=new Uint8Array(C);S!==k;){for(var W=w[S],X=0,ae=C-1;(W!==0||X<v)&&ae!==-1;ae--,X++)W+=256*$[ae]>>>0,$[ae]=W%o>>>0,W=W/o>>>0;if(W!==0)throw new Error("Non-zero carry");v=X,S++}for(var ee=C-v;ee!==C&&$[ee]===0;)ee++;for(var Q=u.repeat(_);ee<C;++ee)Q+=r.charAt($[ee]);return Q}function h(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var _=0;if(w[_]!==" "){for(var v=0,S=0;w[_]===u;)v++,_++;for(var k=(w.length-_)*c+1>>>0,C=new Uint8Array(k);w[_];){var $=t[w.charCodeAt(_)];if($===255)return;for(var W=0,X=k-1;($!==0||W<S)&&X!==-1;X--,W++)$+=o*C[X]>>>0,C[X]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");S=W,_++}if(w[_]!==" "){for(var ae=k-S;ae!==k&&C[ae]===0;)ae++;for(var ee=new Uint8Array(v+(k-ae)),Q=v;ae!==k;)ee[Q++]=C[ae++];return ee}}}function y(w){var _=h(w);if(_)return _;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:y}}var cT=uT,fT=cT;const _8=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},lT=r=>new TextEncoder().encode(r),dT=r=>new TextDecoder().decode(r);class hT{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class pT{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return E8(this,e)}}class gT{constructor(e){this.decoders=e}or(e){return E8(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const E8=(r,e)=>new gT({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class bT{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new hT(e,t,n),this.decoder=new pT(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Zd=({name:r,prefix:e,encode:t,decode:n})=>new bT(r,e,t,n),hc=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=fT(t,e);return Zd({prefix:r,name:e,encode:n,decode:s=>_8(i(s))})},mT=(r,e,t,n)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=r.length;for(;r[s-1]==="=";)--s;const a=new Uint8Array(s*t/8|0);let o=0,u=0,c=0;for(let f=0;f<s;++f){const l=i[r[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<t|l,o+=t,o>=8&&(o-=8,a[c++]=255&u>>o)}if(o>=t||255&u<<8-o)throw new SyntaxError("Unexpected end of data");return a},vT=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let s="",a=0,o=0;for(let u=0;u<r.length;++u)for(o=o<<8|r[u],a+=8;a>t;)a-=t,s+=e[i&o>>a];if(a&&(s+=e[i&o<<t-a]),n)for(;s.length*t&7;)s+="=";return s},bn=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Zd({prefix:e,name:r,encode(i){return vT(i,n,t)},decode(i){return mT(i,n,t,r)}}),yT=Zd({prefix:"\0",name:"identity",encode:r=>dT(r),decode:r=>lT(r)});var xT=Object.freeze({__proto__:null,identity:yT});const wT=bn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var AT=Object.freeze({__proto__:null,base2:wT});const _T=bn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var ET=Object.freeze({__proto__:null,base8:_T});const ST=hc({prefix:"9",name:"base10",alphabet:"0123456789"});var IT=Object.freeze({__proto__:null,base10:ST});const MT=bn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),PT=bn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var RT=Object.freeze({__proto__:null,base16:MT,base16upper:PT});const kT=bn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),NT=bn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),OT=bn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),CT=bn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),TT=bn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),DT=bn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),BT=bn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),LT=bn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$T=bn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var FT=Object.freeze({__proto__:null,base32:kT,base32upper:NT,base32pad:OT,base32padupper:CT,base32hex:TT,base32hexupper:DT,base32hexpad:BT,base32hexpadupper:LT,base32z:$T});const UT=hc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),qT=hc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var jT=Object.freeze({__proto__:null,base36:UT,base36upper:qT});const zT=hc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),WT=hc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var KT=Object.freeze({__proto__:null,base58btc:zT,base58flickr:WT});const HT=bn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),VT=bn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),GT=bn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ZT=bn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var JT=Object.freeze({__proto__:null,base64:HT,base64pad:VT,base64url:GT,base64urlpad:ZT});const S8=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),YT=S8.reduce((r,e,t)=>(r[t]=e,r),[]),QT=S8.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function XT(r){return r.reduce((e,t)=>(e+=YT[t],e),"")}function eD(r){const e=[];for(const t of r){const n=QT[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const tD=Zd({prefix:"🚀",name:"base256emoji",encode:XT,decode:eD});var rD=Object.freeze({__proto__:null,base256emoji:tD}),nD=I8,Jv=128,iD=-128,sD=Math.pow(2,31);function I8(r,e,t){e=e||[],t=t||0;for(var n=t;r>=sD;)e[t++]=r&255|Jv,r/=128;for(;r&iD;)e[t++]=r&255|Jv,r>>>=7;return e[t]=r|0,I8.bytes=t-n+1,e}var aD=Tg,oD=128,Yv=127;function Tg(r,n){var t=0,n=n||0,i=0,s=n,a,o=r.length;do{if(s>=o)throw Tg.bytes=0,new RangeError("Could not decode varint");a=r[s++],t+=i<28?(a&Yv)<<i:(a&Yv)*Math.pow(2,i),i+=7}while(a>=oD);return Tg.bytes=s-n,t}var uD=Math.pow(2,7),cD=Math.pow(2,14),fD=Math.pow(2,21),lD=Math.pow(2,28),dD=Math.pow(2,35),hD=Math.pow(2,42),pD=Math.pow(2,49),gD=Math.pow(2,56),bD=Math.pow(2,63),mD=function(r){return r<uD?1:r<cD?2:r<fD?3:r<lD?4:r<dD?5:r<hD?6:r<pD?7:r<gD?8:r<bD?9:10},vD={encode:nD,decode:aD,encodingLength:mD},M8=vD;const Qv=(r,e,t=0)=>(M8.encode(r,e,t),e),Xv=r=>M8.encodingLength(r),Dg=(r,e)=>{const t=e.byteLength,n=Xv(r),i=n+Xv(t),s=new Uint8Array(i+t);return Qv(r,s,0),Qv(t,s,n),s.set(e,i),new yD(r,t,e,s)};let yD=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}};const P8=({name:r,code:e,encode:t})=>new xD(r,e,t);class xD{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Dg(this.code,t):t.then(n=>Dg(this.code,n))}else throw Error("Unknown type, must be binary type")}}const R8=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),wD=P8({name:"sha2-256",code:18,encode:R8("SHA-256")}),AD=P8({name:"sha2-512",code:19,encode:R8("SHA-512")});var _D=Object.freeze({__proto__:null,sha256:wD,sha512:AD});const k8=0,ED="identity",N8=_8,SD=r=>Dg(k8,N8(r)),ID={code:k8,name:ED,encode:N8,digest:SD};var MD=Object.freeze({__proto__:null,identity:ID});new TextEncoder,new TextDecoder;const ey={...xT,...AT,...ET,...IT,...RT,...FT,...jT,...KT,...JT,...rD};({..._D,...MD});function PD(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function O8(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const ty=O8("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),eh=O8("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=PD(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),RD={utf8:ty,"utf-8":ty,hex:ey.base16,latin1:eh,ascii:eh,binary:eh,...ey};function kD(r,e="utf8"){const t=RD[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var ND=Object.defineProperty,OD=(r,e,t)=>e in r?ND(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Li=(r,e,t)=>OD(r,typeof e!="symbol"?e+"":e,t);class CD{constructor(e,t){this.core=e,this.logger=t,Li(this,"keychain",new Map),Li(this,"name",CC),Li(this,"version",TC),Li(this,"initialized",!1),Li(this,"storagePrefix",Xi),Li(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Li(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Li(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),Li(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=ht("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),Li(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=Tn(t,this.name)}get context(){return Kn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,xg(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?wg(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var TD=Object.defineProperty,DD=(r,e,t)=>e in r?TD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fn=(r,e,t)=>DD(r,typeof e!="symbol"?e+"":e,t);class BD{constructor(e,t,n){this.core=e,this.logger=t,fn(this,"name",NC),fn(this,"keychain"),fn(this,"randomSessionIdentifier",Ng()),fn(this,"initialized",!1),fn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),fn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),fn(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=Bm(i);return u4(s.publicKey)}),fn(this,"generateKeyPair",()=>{this.isInitialized();const i=lO();return this.setPrivateKey(i.publicKey,i.privateKey)}),fn(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),a=Bm(s),o=this.randomSessionIdentifier;return await dM(o,i,OC,a)}),fn(this,"generateSharedKey",(i,s,a)=>{this.isInitialized();const o=this.getPrivateKey(i),u=dO(o,s);return this.setSymKey(u,a)}),fn(this,"setSymKey",async(i,s)=>{this.isInitialized();const a=s||Yl(i);return await this.keychain.set(a,i),a}),fn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),fn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),fn(this,"encode",async(i,s,a)=>{this.isInitialized();const o=l8(a),u=xa(s);if(Ov(o))return gO(u,a==null?void 0:a.encoding);if(Nv(o)){const h=o.senderPublicKey,y=o.receiverPublicKey;i=await this.generateSharedKey(h,y)}const c=this.getSymKey(i),{type:f,senderPublicKey:l}=o;return hO({type:f,symKey:c,message:u,senderPublicKey:l,encoding:a==null?void 0:a.encoding})}),fn(this,"decode",async(i,s,a)=>{this.isInitialized();const o=mO(s,a);if(Ov(o)){const u=bO(s,a==null?void 0:a.encoding);return Mo(u)}if(Nv(o)){const u=o.receiverPublicKey,c=o.senderPublicKey;i=await this.generateSharedKey(u,c)}try{const u=this.getSymKey(i),c=pO({symKey:u,encoded:s,encoding:a==null?void 0:a.encoding});return Mo(c)}catch(u){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}}),fn(this,"getPayloadType",(i,s=Mi)=>{const a=ju({encoded:i,encoding:s});return Ea(a.type)}),fn(this,"getPayloadSenderPublicKey",(i,s=Mi)=>{const a=ju({encoded:i,encoding:s});return a.senderPublicKey?Wn(a.senderPublicKey,Cn):void 0}),this.core=e,this.logger=Tn(t,this.name),this.keychain=n||new CD(this.core,this.logger)}get context(){return Kn(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Vv)}catch{e=Ng(),await this.keychain.set(Vv,e)}return kD(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var LD=Object.defineProperty,$D=Object.defineProperties,FD=Object.getOwnPropertyDescriptors,ry=Object.getOwnPropertySymbols,UD=Object.prototype.hasOwnProperty,qD=Object.prototype.propertyIsEnumerable,Bg=(r,e,t)=>e in r?LD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,jD=(r,e)=>{for(var t in e||(e={}))UD.call(e,t)&&Bg(r,t,e[t]);if(ry)for(var t of ry(e))qD.call(e,t)&&Bg(r,t,e[t]);return r},zD=(r,e)=>$D(r,FD(e)),Gn=(r,e,t)=>Bg(r,typeof e!="symbol"?e+"":e,t);class WD extends fE{constructor(e,t){super(e,t),this.logger=e,this.core=t,Gn(this,"messages",new Map),Gn(this,"messagesWithoutClientAck",new Map),Gn(this,"name",DC),Gn(this,"version",BC),Gn(this,"initialized",!1),Gn(this,"storagePrefix",Xi),Gn(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Gn(this,"set",async(n,i,s)=>{this.isInitialized();const a=Hi(i);let o=this.messages.get(n);if(typeof o>"u"&&(o={}),typeof o[a]<"u")return a;if(o[a]=i,this.messages.set(n,o),s===Ql.inbound){const u=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,zD(jD({},u),{[a]:i}))}return await this.persist(),a}),Gn(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),Gn(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const a=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(a)}return i}),Gn(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),a=Hi(i);return typeof s[a]<"u"}),Gn(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const a=Hi(i);delete s[a],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),Gn(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Tn(e,this.name),this.core=t}get context(){return Kn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,xg(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,xg(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?wg(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?wg(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var KD=Object.defineProperty,HD=Object.defineProperties,VD=Object.getOwnPropertyDescriptors,ny=Object.getOwnPropertySymbols,GD=Object.prototype.hasOwnProperty,ZD=Object.prototype.propertyIsEnumerable,Lg=(r,e,t)=>e in r?KD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Fc=(r,e)=>{for(var t in e||(e={}))GD.call(e,t)&&Lg(r,t,e[t]);if(ny)for(var t of ny(e))ZD.call(e,t)&&Lg(r,t,e[t]);return r},th=(r,e)=>HD(r,VD(e)),vi=(r,e,t)=>Lg(r,typeof e!="symbol"?e+"":e,t);class JD extends lE{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,vi(this,"events",new Oi.EventEmitter),vi(this,"name",LC),vi(this,"queue",new Map),vi(this,"publishTimeout",ft.toMiliseconds(ft.ONE_MINUTE)),vi(this,"initialPublishTimeout",ft.toMiliseconds(ft.ONE_SECOND*15)),vi(this,"needsTransportRestart",!1),vi(this,"publish",async(n,i,s)=>{var a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const o=(s==null?void 0:s.ttl)||Gv,u=md(s),c=(s==null?void 0:s.prompt)||!1,f=(s==null?void 0:s.tag)||0,l=(s==null?void 0:s.id)||ha().toString(),h={topic:n,message:i,opts:{ttl:o,relay:u,prompt:c,tag:f,id:l,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},y=`Failed to publish payload, please try again. id:${l} tag:${f}`;try{const w=new Promise(async _=>{const v=({id:k})=>{h.opts.id===k&&(this.removeRequestFromQueue(k),this.relayer.events.removeListener(rn.publish,v),_(h))};this.relayer.events.on(rn.publish,v);const S=Bs(new Promise((k,C)=>{this.rpcPublish({topic:n,message:i,ttl:o,prompt:c,tag:f,id:l,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(k).catch($=>{this.logger.warn($,$==null?void 0:$.message),C($)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${l} tag:${f}`);try{await S,this.events.removeListener(rn.publish,v)}catch(k){this.queue.set(l,th(Fc({},h),{attempt:1})),this.logger.warn(k,k==null?void 0:k.message)}});this.logger.trace({type:"method",method:"publish",params:{id:l,topic:n,message:i,opts:s}}),await Bs(w,this.publishTimeout,y)}catch(w){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(w),(a=s==null?void 0:s.internal)!=null&&a.throwOnFailedPublish)throw w}finally{this.queue.delete(l)}}),vi(this,"on",(n,i)=>{this.events.on(n,i)}),vi(this,"once",(n,i)=>{this.events.once(n,i)}),vi(this,"off",(n,i)=>{this.events.off(n,i)}),vi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=Tn(t,this.name),this.registerEventListeners()}get context(){return Kn(this.logger)}async rpcPublish(e){var t,n,i,s;const{topic:a,message:o,ttl:u=Gv,prompt:c,tag:f,id:l,attestation:h,tvf:y}=e,w={method:bu(md().protocol).publish,params:Fc({topic:a,message:o,ttl:u,prompt:c,tag:f,attestation:h},y),id:l};hn((t=w.params)==null?void 0:t.prompt)&&((n=w.params)==null||delete n.prompt),hn((i=w.params)==null?void 0:i.tag)&&((s=w.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:w});const _=await this.relayer.request(w);return this.relayer.events.emit(rn.publish,e),this.logger.debug("Successfully Published Payload"),_}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const n=e.attempt+1;this.queue.set(t,th(Fc({},e),{attempt:n}));const{topic:i,message:s,opts:a,attestation:o}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${n}`),await this.rpcPublish(th(Fc({},e),{topic:i,message:s,ttl:a.ttl,prompt:a.prompt,tag:a.tag,id:a.id,attestation:o,tvf:a.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Fo.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(rn.connection_stalled);return}this.checkQueue()}),this.relayer.on(rn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var YD=Object.defineProperty,QD=(r,e,t)=>e in r?YD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Va=(r,e,t)=>QD(r,typeof e!="symbol"?e+"":e,t);class XD{constructor(){Va(this,"map",new Map),Va(this,"set",(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])}),Va(this,"get",e=>this.map.get(e)||[]),Va(this,"exists",(e,t)=>this.get(e).includes(t)),Va(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const i=n.filter(s=>s!==t);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Va(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var eB=Object.defineProperty,tB=Object.defineProperties,rB=Object.getOwnPropertyDescriptors,iy=Object.getOwnPropertySymbols,nB=Object.prototype.hasOwnProperty,iB=Object.prototype.propertyIsEnumerable,$g=(r,e,t)=>e in r?eB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,cu=(r,e)=>{for(var t in e||(e={}))nB.call(e,t)&&$g(r,t,e[t]);if(iy)for(var t of iy(e))iB.call(e,t)&&$g(r,t,e[t]);return r},rh=(r,e)=>tB(r,rB(e)),vr=(r,e,t)=>$g(r,typeof e!="symbol"?e+"":e,t);class sB extends pE{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,vr(this,"subscriptions",new Map),vr(this,"topicMap",new XD),vr(this,"events",new Oi.EventEmitter),vr(this,"name",WC),vr(this,"version",KC),vr(this,"pending",new Map),vr(this,"cached",[]),vr(this,"initialized",!1),vr(this,"storagePrefix",Xi),vr(this,"subscribeTimeout",ft.toMiliseconds(ft.ONE_MINUTE)),vr(this,"initialSubscribeTimeout",ft.toMiliseconds(ft.ONE_SECOND*15)),vr(this,"clientId"),vr(this,"batchSubscribeTopicsLimit",500),vr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),vr(this,"subscribe",async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=md(i),a={topic:n,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(n,a);const o=await this.rpcSubscribe(n,s,i);return typeof o=="string"&&(this.onSubscribe(o,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),o}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),vr(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),vr(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),vr(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),vr(this,"on",(n,i)=>{this.events.on(n,i)}),vr(this,"once",(n,i)=>{this.events.once(n,i)}),vr(this,"off",(n,i)=>{this.events.off(n,i)}),vr(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),vr(this,"start",async()=>{await this.onConnect()}),vr(this,"stop",async()=>{await this.onDisconnect()}),vr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),vr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),vr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Fo.pulse,async()=>{await this.checkPending()}),this.events.on(Zn.created,async n=>{const i=Zn.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(Zn.deleted,async n=>{const i=Zn.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=Tn(t,this.name),this.clientId=""}get context(){return Kn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const i=md(n);await this.restartToComplete({topic:e,id:t,relay:i}),await this.rpcUnsubscribe(e,t,i);const s=xr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,t,n){var i;(!n||(n==null?void 0:n.transportType)===Ir.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const s={method:bu(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const a=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{const o=await this.getSubscriptionId(e);if((n==null?void 0:n.transportType)===Ir.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(f=>this.logger.warn(f))},ft.toMiliseconds(ft.ONE_SECOND)),o;const u=new Promise(async f=>{const l=h=>{h.topic===e&&(this.events.removeListener(Zn.created,l),f(h.id))};this.events.on(Zn.created,l);try{const h=await Bs(new Promise((y,w)=>{this.relayer.request(s).catch(_=>{this.logger.warn(_,_==null?void 0:_.message),w(_)}).then(y)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Zn.created,l),f(h)}catch{}}),c=await Bs(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!c&&a)throw new Error(`Subscribing to ${e} failed, please try again`);return c?o:null}catch(o){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(rn.connection_stalled),a)throw o}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,n={method:bu(t.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Bs(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(rn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,n={method:bu(t.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Bs(new Promise((s,a)=>{this.relayer.request(n).catch(o=>{this.logger.warn(o),a(o)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(rn.connection_stalled)}return i}rpcUnsubscribe(e,t,n){const i={method:bu(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,rh(cu({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,cu({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,cu({},t)),this.topicMap.set(t.topic,e),this.events.emit(Zn.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:n}=ht("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Zn.deleted,rh(cu({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Zn.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<t;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Zn.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=ht("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>rh(cu({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await QR(ft.toMiliseconds(ft.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ht("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Hi(e+await this.getClientId())}}var aB=Object.defineProperty,sy=Object.getOwnPropertySymbols,oB=Object.prototype.hasOwnProperty,uB=Object.prototype.propertyIsEnumerable,Fg=(r,e,t)=>e in r?aB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ay=(r,e)=>{for(var t in e||(e={}))oB.call(e,t)&&Fg(r,t,e[t]);if(sy)for(var t of sy(e))uB.call(e,t)&&Fg(r,t,e[t]);return r},sr=(r,e,t)=>Fg(r,typeof e!="symbol"?e+"":e,t);class cB extends dE{constructor(e){super(e),sr(this,"protocol","wc"),sr(this,"version",2),sr(this,"core"),sr(this,"logger"),sr(this,"events",new Oi.EventEmitter),sr(this,"provider"),sr(this,"messages"),sr(this,"subscriber"),sr(this,"publisher"),sr(this,"name",FC),sr(this,"transportExplicitlyClosed",!1),sr(this,"initialized",!1),sr(this,"connectionAttemptInProgress",!1),sr(this,"relayUrl"),sr(this,"projectId"),sr(this,"packageName"),sr(this,"bundleId"),sr(this,"hasExperiencedNetworkDisruption",!1),sr(this,"pingTimeout"),sr(this,"heartBeatTimeout",ft.toMiliseconds(ft.THIRTY_SECONDS+ft.FIVE_SECONDS)),sr(this,"reconnectTimeout"),sr(this,"connectPromise"),sr(this,"reconnectInProgress",!1),sr(this,"requestsInFlight",[]),sr(this,"connectTimeout",ft.toMiliseconds(ft.ONE_SECOND*15)),sr(this,"request",async t=>{var n,i;this.logger.debug("Publishing Request Payload");const s=t.id||ha().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:t.method,topic:(n=t.params)==null?void 0:n.topic},"relayer.request - publishing...");const a=`${s}:${((i=t.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(a);const o=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(u=>u!==a),o}catch(a){throw this.logger.debug(`Failed to Publish Request: ${s}`),a}}),sr(this,"resetPingTimeout",()=>{gd()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(a){this.logger.warn(a,a==null?void 0:a.message)}},this.heartBeatTimeout))}),sr(this,"onPayloadHandler",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),sr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(rn.connect)}),sr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),sr(this,"onProviderErrorHandler",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(rn.error,t),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),sr(this,"registerProviderListeners",()=>{this.provider.on(ri.payload,this.onPayloadHandler),this.provider.on(ri.connect,this.onConnectHandler),this.provider.on(ri.disconnect,this.onDisconnectHandler),this.provider.on(ri.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Tn(e.logger,this.name):Ld(a1({level:e.logger||$C})),this.messages=new WD(this.logger,e.core),this.subscriber=new sB(this,this.logger),this.publisher=new JD(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||w8,this.projectId=e.projectId,DR()?this.packageName=tv():BR()&&(this.bundleId=tv()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return Kn(this.logger)}get connected(){var e,t,n;return((n=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,t,n;return((n=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Ir.relay},Ql.outbound)}async subscribe(e,t){var n,i,s;this.isInitialized(),(!(t!=null&&t.transportType)||(t==null?void 0:t.transportType)==="relay")&&await this.toEstablishConnection();const a=typeof((n=t==null?void 0:t.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=t==null?void 0:t.internal)==null?void 0:i.throwOnFailedPublish;let o=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",u;const c=f=>{f.topic===e&&(this.subscriber.off(Zn.created,c),u())};return await Promise.all([new Promise(f=>{u=f,this.subscriber.on(Zn.created,c)}),new Promise(async(f,l)=>{o=await this.subscriber.subscribe(e,ay({internal:{throwOnFailedPublish:a}},t)).catch(h=>{a&&l(h)})||o,f()})]),o}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Bs(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,n)=>{await this.connect(e).then(t).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Uv())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const t=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const n of t)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:n}=e;if(!t.sessionExists){const i=Kr(ft.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(rn.message,e),await this.recordMessageEvent(e,Ql.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ri.disconnect,s),await Bs(new Promise((a,o)=>{this.provider.connect().then(a).catch(o)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}).finally(()=>{this.provider.off(ri.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,o)=>{const u=()=>{o(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ri.disconnect,u),await this.subscriber.start().then(a).catch(o).finally(()=>{this.provider.off(ri.disconnect,u)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(n=>setTimeout(n,ft.toMiliseconds(t*1))),t++}}startPingTimeout(){var e,t,n,i,s;if(gd())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a==null?void 0:a.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _C(new MC(qR({sdkVersion:Cg,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:n,message:i}=e;await this.messages.set(n,i,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const i=this.messages.has(t,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),P1(e)){if(!e.method.endsWith(UC))return;const t=e.params,{topic:n,message:i,publishedAt:s,attestation:a}=t.data,o={topic:n,message:i,publishedAt:s,transportType:Ir.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(ay({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Gd(e)&&this.events.emit(rn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Ql.inbound),this.events.emit(rn.message,e))}async acknowledgePayload(e){const t=I1(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(ri.payload,this.onPayloadHandler),this.provider.off(ri.connect,this.onConnectHandler),this.provider.off(ri.disconnect,this.onDisconnectHandler),this.provider.off(ri.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Uv();rC(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(rn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ft.toMiliseconds(qC)))))}isInitialized(){if(!this.initialized){const{message:e}=ht("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function fB(){}function oy(r){if(!r||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)==="[object Object]":!1}function uy(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function cy(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const lB="[object RegExp]",dB="[object String]",hB="[object Number]",pB="[object Boolean]",fy="[object Arguments]",gB="[object Symbol]",bB="[object Date]",mB="[object Map]",vB="[object Set]",yB="[object Array]",xB="[object Function]",wB="[object ArrayBuffer]",nh="[object Object]",AB="[object Error]",_B="[object DataView]",EB="[object Uint8Array]",SB="[object Uint8ClampedArray]",IB="[object Uint16Array]",MB="[object Uint32Array]",PB="[object BigUint64Array]",RB="[object Int8Array]",kB="[object Int16Array]",NB="[object Int32Array]",OB="[object BigInt64Array]",CB="[object Float32Array]",TB="[object Float64Array]";function DB(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function BB(r,e,t){return mu(r,e,void 0,void 0,void 0,void 0,t)}function mu(r,e,t,n,i,s,a){const o=a(r,e,t,n,i,s);if(o!==void 0)return o;if(typeof r==typeof e)switch(typeof r){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return r===e;case"number":return r===e||Object.is(r,e);case"function":return r===e;case"object":return Su(r,e,s,a)}return Su(r,e,s,a)}function Su(r,e,t,n){if(Object.is(r,e))return!0;let i=cy(r),s=cy(e);if(i===fy&&(i=nh),s===fy&&(s=nh),i!==s)return!1;switch(i){case dB:return r.toString()===e.toString();case hB:{const u=r.valueOf(),c=e.valueOf();return DB(u,c)}case pB:case bB:case gB:return Object.is(r.valueOf(),e.valueOf());case lB:return r.source===e.source&&r.flags===e.flags;case xB:return r===e}t=t??new Map;const a=t.get(r),o=t.get(e);if(a!=null&&o!=null)return a===e;t.set(r,e),t.set(e,r);try{switch(i){case mB:{if(r.size!==e.size)return!1;for(const[u,c]of r.entries())if(!e.has(u)||!mu(c,e.get(u),u,r,e,t,n))return!1;return!0}case vB:{if(r.size!==e.size)return!1;const u=Array.from(r.values()),c=Array.from(e.values());for(let f=0;f<u.length;f++){const l=u[f],h=c.findIndex(y=>mu(l,y,void 0,r,e,t,n));if(h===-1)return!1;c.splice(h,1)}return!0}case yB:case EB:case SB:case IB:case MB:case PB:case RB:case kB:case NB:case OB:case CB:case TB:{if(typeof Buffer<"u"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let u=0;u<r.length;u++)if(!mu(r[u],e[u],u,r,e,t,n))return!1;return!0}case wB:return r.byteLength!==e.byteLength?!1:Su(new Uint8Array(r),new Uint8Array(e),t,n);case _B:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:Su(new Uint8Array(r),new Uint8Array(e),t,n);case AB:return r.name===e.name&&r.message===e.message;case nh:{if(!(Su(r.constructor,e.constructor,t,n)||oy(r)&&oy(e)))return!1;const u=[...Object.keys(r),...uy(r)],c=[...Object.keys(e),...uy(e)];if(u.length!==c.length)return!1;for(let f=0;f<u.length;f++){const l=u[f],h=r[l];if(!Object.hasOwn(e,l))return!1;const y=e[l];if(!mu(h,y,l,r,e,t,n))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function LB(r,e){return BB(r,e,fB)}var $B=Object.defineProperty,ly=Object.getOwnPropertySymbols,FB=Object.prototype.hasOwnProperty,UB=Object.prototype.propertyIsEnumerable,Ug=(r,e,t)=>e in r?$B(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dy=(r,e)=>{for(var t in e||(e={}))FB.call(e,t)&&Ug(r,t,e[t]);if(ly)for(var t of ly(e))UB.call(e,t)&&Ug(r,t,e[t]);return r},Ln=(r,e,t)=>Ug(r,typeof e!="symbol"?e+"":e,t);class Ca extends hE{constructor(e,t,n,i=Xi,s=void 0){super(e,t,n,i),this.core=e,this.logger=t,this.name=n,Ln(this,"map",new Map),Ln(this,"version",jC),Ln(this,"cached",[]),Ln(this,"initialized",!1),Ln(this,"getKey"),Ln(this,"storagePrefix",Xi),Ln(this,"recentlyDeleted",[]),Ln(this,"recentlyDeletedLimit",200),Ln(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!hn(a)?this.map.set(this.getKey(a),a):CO(a)?this.map.set(a.id,a):TO(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),Ln(this,"set",async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())}),Ln(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),Ln(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(u=>LB(o[u],a[u]))):this.values)),Ln(this,"update",async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const u=dy(dy({},this.getData(a)),o);this.map.set(a,u),await this.persist()}),Ln(this,"delete",async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=Tn(t,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Kn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:i}=ht("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=ht("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=ht("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var qB=Object.defineProperty,jB=(r,e,t)=>e in r?qB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Zt=(r,e,t)=>jB(r,typeof e!="symbol"?e+"":e,t);class zB{constructor(e,t){this.core=e,this.logger=t,Zt(this,"name",HC),Zt(this,"version",VC),Zt(this,"events",new I6),Zt(this,"pairings"),Zt(this,"initialized",!1),Zt(this,"storagePrefix",Xi),Zt(this,"ignoredPayloadTypes",[ys]),Zt(this,"registeredMethods",[]),Zt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Zt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Zt(this,"create",async n=>{this.isInitialized();const i=Ng(),s=await this.core.crypto.setSymKey(i),a=Kr(ft.FIVE_MINUTES),o={protocol:x8},u={topic:s,expiry:a,relay:o,active:!1,methods:n==null?void 0:n.methods},c=Tv({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:o,expiryTimestamp:a,methods:n==null?void 0:n.methods});return this.events.emit(ca.create,u),this.core.expirer.set(s,a),await this.pairings.set(s,u),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType}),{topic:s,uri:c}}),Zt(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Ui.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:a,relay:o,expiryTimestamp:u,methods:c}=Cv(n.uri);i.props.properties.topic=s,i.addTrace(Ui.pairing_uri_validation_success),i.addTrace(Ui.pairing_uri_not_expired);let f;if(this.pairings.keys.includes(s)){if(f=this.pairings.get(s),i.addTrace(Ui.existing_pairing),f.active)throw i.setError(ds.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Ui.pairing_not_expired)}const l=u||Kr(ft.FIVE_MINUTES),h={topic:s,relay:o,expiry:l,active:!1,methods:c};this.core.expirer.set(s,l),await this.pairings.set(s,h),i.addTrace(Ui.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(ca.create,h),i.addTrace(Ui.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(a,s),i.addTrace(Ui.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(ds.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:o})}catch(y){throw i.setError(ds.subscribe_pairing_topic_failure),y}return i.addTrace(Ui.subscribe_pairing_topic_success),h}),Zt(this,"activate",async({topic:n})=>{this.isInitialized();const i=Kr(ft.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Zt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:o,reject:u}=aa();this.events.once(cr("pairing_ping",s),({error:c})=>{c?u(c):o()}),await a()}}),Zt(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Zt(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Zt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Zt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",xr("USER_DISCONNECTED")),await this.deletePairing(i))}),Zt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:a,methods:o}=n,u=this.core.crypto.keychain.get(i);return Tv({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:u,relay:s,expiryTimestamp:a,methods:o})}),Zt(this,"sendRequest",async(n,i,s)=>{const a=pa(i,s),o=await this.core.crypto.encode(n,a),u=ou[i].req;return this.core.history.set(n,a),this.core.relayer.publish(n,o,u),a.id}),Zt(this,"sendResult",async(n,i,s)=>{const a=I1(n,s),o=await this.core.crypto.encode(i,a),u=(await this.core.history.get(i,n)).request.method,c=ou[u].res;await this.core.relayer.publish(i,o,c),await this.core.history.resolve(a)}),Zt(this,"sendError",async(n,i,s)=>{const a=M1(n,s),o=await this.core.crypto.encode(i,a),u=(await this.core.history.get(i,n)).request.method,c=ou[u]?ou[u].res:ou.unregistered_method.res;await this.core.relayer.publish(i,o,c),await this.core.history.resolve(a)}),Zt(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,xr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Zt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>Os(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Zt(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Zt(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,a=(await this.core.history.get(i,s.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(a)}}),Zt(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(ca.ping,{id:s,topic:n})}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Zt(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{ji(i)?this.events.emit(cr("pairing_ping",s),{}):oi(i)&&this.events.emit(cr("pairing_ping",s),{error:i.error})},500)}),Zt(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(ca.delete,{id:s,topic:n})}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Zt(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:a}=i;try{if(this.registeredMethods.includes(a))return;const o=xr("WC_METHOD_UNSUPPORTED",a);await this.sendError(s,n,o),this.logger.error(o)}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Zt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(xr("WC_METHOD_UNSUPPORTED",n))}),Zt(this,"isValidPair",(n,i)=>{var s;if(!Un(n)){const{message:o}=ht("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(ds.malformed_pairing_uri),new Error(o)}if(!OO(n.uri)){const{message:o}=ht("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(ds.malformed_pairing_uri),new Error(o)}const a=Cv(n==null?void 0:n.uri);if(!((s=a==null?void 0:a.relay)!=null&&s.protocol)){const{message:o}=ht("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(ds.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=ht("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(ds.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&ft.toMiliseconds(a==null?void 0:a.expiryTimestamp)<Date.now()){i.setError(ds.pairing_expired);const{message:o}=ht("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}}),Zt(this,"isValidPing",async n=>{if(!Un(n)){const{message:s}=ht("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Zt(this,"isValidDisconnect",async n=>{if(!Un(n)){const{message:s}=ht("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Zt(this,"isValidPairingTopic",async n=>{if(!jr(n,!1)){const{message:i}=ht("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=ht("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Os(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=ht("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=Tn(t,this.name),this.pairings=new Ca(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Kn(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ht("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(rn.message,async e=>{const{topic:t,message:n,transportType:i}=e;if(this.pairings.keys.includes(t)&&i!==Ir.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(t,n);P1(s)?(this.core.history.set(t,s),await this.onRelayEventRequest({topic:t,payload:s})):Gd(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:t,payload:s}),this.core.history.delete(t,s.id)),await this.core.relayer.messages.ack(t,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(si.expired,async e=>{const{topic:t}=O4(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(ca.expire,{topic:t}))})}}var WB=Object.defineProperty,KB=(r,e,t)=>e in r?WB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ln=(r,e,t)=>KB(r,typeof e!="symbol"?e+"":e,t);class HB extends cE{constructor(e,t){super(e,t),this.core=e,this.logger=t,ln(this,"records",new Map),ln(this,"events",new Oi.EventEmitter),ln(this,"name",GC),ln(this,"version",ZC),ln(this,"cached",[]),ln(this,"initialized",!1),ln(this,"storagePrefix",Xi),ln(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ln(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const a={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Kr(ft.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(bi.created,a)}),ln(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=oi(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(bi.updated,i))}),ln(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),ln(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(bi.deleted,s)}}),this.persist()}),ln(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),ln(this,"on",(n,i)=>{this.events.on(n,i)}),ln(this,"once",(n,i)=>{this.events.once(n,i)}),ln(this,"off",(n,i)=>{this.events.off(n,i)}),ln(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Tn(t,this.name)}get context(){return Kn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:pa(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:n}=ht("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(bi.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=ht("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(bi.created,e=>{const t=bi.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(bi.updated,e=>{const t=bi.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(bi.deleted,e=>{const t=bi.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(Fo.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{ft.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(bi.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var VB=Object.defineProperty,GB=(r,e,t)=>e in r?VB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wn=(r,e,t)=>GB(r,typeof e!="symbol"?e+"":e,t);class ZB extends gE{constructor(e,t){super(e,t),this.core=e,this.logger=t,wn(this,"expirations",new Map),wn(this,"events",new Oi.EventEmitter),wn(this,"name",JC),wn(this,"version",YC),wn(this,"cached",[]),wn(this,"initialized",!1),wn(this,"storagePrefix",Xi),wn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),wn(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),wn(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),a={target:s,expiry:i};this.expirations.set(s,a),this.checkExpiry(s,a),this.events.emit(si.created,{target:s,expiration:a})}),wn(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),wn(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(si.deleted,{target:i,expiration:s})}}),wn(this,"on",(n,i)=>{this.events.on(n,i)}),wn(this,"once",(n,i)=>{this.events.once(n,i)}),wn(this,"off",(n,i)=>{this.events.off(n,i)}),wn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Tn(t,this.name)}get context(){return Kn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return jR(e);if(typeof e=="number")return zR(e);const{message:t}=ht("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(si.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=ht("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:n}=ht("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return t}checkExpiry(e,t){const{expiry:n}=t;ft.toMiliseconds(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(si.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Fo.pulse,()=>this.checkExpirations()),this.events.on(si.created,e=>{const t=si.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(si.expired,e=>{const t=si.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(si.deleted,e=>{const t=si.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ht("NOT_INITIALIZED",this.name);throw new Error(e)}}}var JB=Object.defineProperty,YB=(r,e,t)=>e in r?JB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Fr=(r,e,t)=>YB(r,typeof e!="symbol"?e+"":e,t);class QB extends bE{constructor(e,t,n){super(e,t,n),this.core=e,this.logger=t,this.store=n,Fr(this,"name",QC),Fr(this,"abortController"),Fr(this,"isDevEnv"),Fr(this,"verifyUrlV3",eT),Fr(this,"storagePrefix",Xi),Fr(this,"version",y8),Fr(this,"publicKey"),Fr(this,"fetchPromise"),Fr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ft.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Fr(this,"register",async i=>{if(!sc()||this.isDevEnv)return;const s=window.location.origin,{id:a,decryptedId:o}=i,u=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${a}&decryptedId=${o}`;try{const c=nc(),f=this.startAbortTimer(ft.ONE_SECOND*5),l=await new Promise((h,y)=>{const w=()=>{window.removeEventListener("message",v),c.body.removeChild(_),y("attestation aborted")};this.abortController.signal.addEventListener("abort",w);const _=c.createElement("iframe");_.src=u,_.style.display="none",_.addEventListener("error",w,{signal:this.abortController.signal});const v=S=>{if(S.data&&typeof S.data=="string")try{const k=JSON.parse(S.data);if(k.type==="verify_attestation"){if(mg(k.attestation).payload.id!==a)return;clearInterval(f),c.body.removeChild(_),this.abortController.signal.removeEventListener("abort",w),window.removeEventListener("message",v),h(k.attestation===null?"":k.attestation)}}catch(k){this.logger.warn(k)}};c.body.appendChild(_),window.addEventListener("message",v,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",l),l}catch(c){this.logger.warn(c)}return""}),Fr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:a,encryptedId:o}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(mg(s).payload.id!==o)return;const c=await this.isValidJwtAttestation(s);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!a)return;const u=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(a,u)}),Fr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const a=this.startAbortTimer(ft.ONE_SECOND*5),o=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0}),Fr(this,"getVerifyUrl",i=>{let s=i||Eu;return tT.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Eu}`),s=Eu),s}),Fr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ft.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Fr(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Fr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Fr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}}),Fr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Fr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),s(a))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Fr(this,"validateAttestation",(i,s)=>{const a=yO(i,s.publicKey),o={hasExpired:ft.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}}),this.logger=Tn(t,this.name),this.abortController=new AbortController,this.isDevEnv=m1(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Kn(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ft.toMiliseconds(e))}}var XB=Object.defineProperty,eL=(r,e,t)=>e in r?XB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hy=(r,e,t)=>eL(r,typeof e!="symbol"?e+"":e,t);class tL extends mE{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,hy(this,"context",rT),hy(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:a,enableEncrypted:o=!1}=n,u=`${nT}/${this.projectId}/clients`;await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:s,always_raw:o})})}),this.logger=Tn(t,this.context)}}var rL=Object.defineProperty,py=Object.getOwnPropertySymbols,nL=Object.prototype.hasOwnProperty,iL=Object.prototype.propertyIsEnumerable,qg=(r,e,t)=>e in r?rL(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fu=(r,e)=>{for(var t in e||(e={}))nL.call(e,t)&&qg(r,t,e[t]);if(py)for(var t of py(e))iL.call(e,t)&&qg(r,t,e[t]);return r},Qr=(r,e,t)=>qg(r,typeof e!="symbol"?e+"":e,t);class sL extends vE{constructor(e,t,n=!0){super(e,t,n),this.core=e,this.logger=t,Qr(this,"context",sT),Qr(this,"storagePrefix",Xi),Qr(this,"storageVersion",iT),Qr(this,"events",new Map),Qr(this,"shouldPersist",!1),Qr(this,"init",async()=>{if(!m1())try{const i={eventId:nv(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:k4(this.core.relayer.protocol,this.core.relayer.version,Cg)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Qr(this,"createEvent",i=>{const{event:s="ERROR",type:a="",properties:{topic:o,trace:u}}=i,c=nv(),f=this.core.projectId||"",l=Date.now(),h=fu({eventId:c,timestamp:l,props:{event:s,type:a,properties:{topic:o,trace:u}},bundleId:f,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,h),this.shouldPersist=!0),h}),Qr(this,"getEvent",i=>{const{eventId:s,topic:a}=i;if(s)return this.events.get(s);const o=Array.from(this.events.values()).find(u=>u.props.properties.topic===a);if(o)return fu(fu({},o),this.setMethods(o.eventId))}),Qr(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Qr(this,"setEventListeners",()=>{this.core.heartbeat.on(Fo.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ft.fromMiliseconds(Date.now())-ft.fromMiliseconds(i.timestamp)>aT&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Qr(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Qr(this,"addTrace",(i,s)=>{const a=this.events.get(i);a&&(a.props.properties.trace.push(s),this.events.set(i,a),this.shouldPersist=!0)}),Qr(this,"setError",(i,s)=>{const a=this.events.get(i);a&&(a.props.type=s,a.timestamp=Date.now(),this.events.set(i,a),this.shouldPersist=!0)}),Qr(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Qr(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,fu(fu({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Qr(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,a]of this.events)a.props.type&&i.push(a);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Qr(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${oT}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Cg}${s}`,{method:"POST",body:JSON.stringify(i)})}),Qr(this,"getAppDomain",()=>R4().url),this.logger=Tn(t,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var aL=Object.defineProperty,gy=Object.getOwnPropertySymbols,oL=Object.prototype.hasOwnProperty,uL=Object.prototype.propertyIsEnumerable,jg=(r,e,t)=>e in r?aL(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,by=(r,e)=>{for(var t in e||(e={}))oL.call(e,t)&&jg(r,t,e[t]);if(gy)for(var t of gy(e))uL.call(e,t)&&jg(r,t,e[t]);return r},Ar=(r,e,t)=>jg(r,typeof e!="symbol"?e+"":e,t);class R1 extends sE{constructor(e){var t;super(e),Ar(this,"protocol",v8),Ar(this,"version",y8),Ar(this,"name",Og),Ar(this,"relayUrl"),Ar(this,"projectId"),Ar(this,"customStoragePrefix"),Ar(this,"events",new Oi.EventEmitter),Ar(this,"logger"),Ar(this,"heartbeat"),Ar(this,"relayer"),Ar(this,"crypto"),Ar(this,"storage"),Ar(this,"history"),Ar(this,"expirer"),Ar(this,"pairing"),Ar(this,"verify"),Ar(this,"echoClient"),Ar(this,"linkModeSupportedApps"),Ar(this,"eventClient"),Ar(this,"initialized",!1),Ar(this,"logChunkController"),Ar(this,"on",(o,u)=>this.events.on(o,u)),Ar(this,"once",(o,u)=>this.events.once(o,u)),Ar(this,"off",(o,u)=>this.events.off(o,u)),Ar(this,"removeListener",(o,u)=>this.events.removeListener(o,u)),Ar(this,"dispatchEnvelope",({topic:o,message:u,sessionExists:c})=>{if(!o||!u)return;const f={topic:o,message:u,publishedAt:Date.now(),transportType:Ir.link_mode};this.relayer.onLinkMessageEvent(f,{sessionExists:c})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(o){console.warn("Failed to copy global core",o)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||w8,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=a1({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:RC.logger,name:Og}),{logger:s,chunkLoggerController:a}=rE({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=a,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,u;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((u=this.logChunkController)==null||u.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Tn(s,this.name),this.heartbeat=new HA,this.crypto=new BD(this,this.logger,e==null?void 0:e.keychain),this.history=new HB(this,this.logger),this.expirer=new ZB(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new P_(by(by({},kC),e==null?void 0:e.storageOptions)),this.relayer=new cB({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new zB(this,this.logger),this.verify=new QB(this,this.logger,this.storage),this.echoClient=new tL(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new sL(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new R1(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem(zC,n),t}get context(){return Kn(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Zv,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Zv)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,n=`${t}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[t]}catch(t){console.warn("Failed to get global WalletConnect core",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&PC.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const cL=R1,C8="wc",T8=2,D8="client",k1=`${C8}@${T8}:${D8}:`,ih={name:D8,logger:"error"},my="WALLETCONNECT_DEEPLINK_CHOICE",fL="proposal",vy="Proposal expired",lL="session",Ga=ft.SEVEN_DAYS,dL="engine",Xr={wc_sessionPropose:{req:{ttl:ft.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ft.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ft.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ft.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ft.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1119}}},sh={min:ft.FIVE_MINUTES,max:ft.SEVEN_DAYS},$i={idle:"IDLE",active:"ACTIVE"},yy={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},hL="request",pL=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],gL="wc",bL="auth",mL="authKeys",vL="pairingTopics",yL="requests",Jd=`${gL}@${1.5}:${bL}:`,Xl=`${Jd}:PUB_KEY`;var xL=Object.defineProperty,wL=Object.defineProperties,AL=Object.getOwnPropertyDescriptors,xy=Object.getOwnPropertySymbols,_L=Object.prototype.hasOwnProperty,EL=Object.prototype.propertyIsEnumerable,zg=(r,e,t)=>e in r?xL(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yr=(r,e)=>{for(var t in e||(e={}))_L.call(e,t)&&zg(r,t,e[t]);if(xy)for(var t of xy(e))EL.call(e,t)&&zg(r,t,e[t]);return r},kn=(r,e)=>wL(r,AL(e)),Xe=(r,e,t)=>zg(r,typeof e!="symbol"?e+"":e,t);class SL extends AE{constructor(e){super(e),Xe(this,"name",dL),Xe(this,"events",new I6),Xe(this,"initialized",!1),Xe(this,"requestQueue",{state:$i.idle,queue:[]}),Xe(this,"sessionRequestQueue",{state:$i.idle,queue:[]}),Xe(this,"requestQueueDelay",ft.ONE_SECOND),Xe(this,"expectedPairingMethodMap",new Map),Xe(this,"recentlyDeletedMap",new Map),Xe(this,"recentlyDeletedLimit",200),Xe(this,"relayMessageCache",[]),Xe(this,"pendingSessions",new Map),Xe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Xr)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ft.toMiliseconds(this.requestQueueDelay)))}),Xe(this,"connect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=kn(yr({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:o,scopedProperties:u,relays:c}=n;let f=i,l,h=!1;try{if(f){const X=this.client.core.pairing.pairings.get(f);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=X.active}}catch(X){throw this.client.logger.error(`connect() -> pairing.get(${f}) failed`),X}if(!f||!h){const{topic:X,uri:ae}=await this.client.core.pairing.create();f=X,l=ae}if(!f){const{message:X}=ht("NO_MATCHING_KEY",`connect() pairing topic: ${f}`);throw new Error(X)}const y=await this.client.core.crypto.generateKeyPair(),w=Xr.wc_sessionPropose.req.ttl||ft.FIVE_MINUTES,_=Kr(w),v=kn(yr(yr({requiredNamespaces:s,optionalNamespaces:a,relays:c??[{protocol:x8}],proposer:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:_,pairingTopic:f},o&&{sessionProperties:o}),u&&{scopedProperties:u}),{id:qi()}),S=cr("session_connect",v.id),{reject:k,resolve:C,done:$}=aa(w,vy),W=({id:X})=>{X===v.id&&(this.client.events.off("proposal_expire",W),this.pendingSessions.delete(v.id),this.events.emit(S,{error:{message:vy,code:0}}))};return this.client.events.on("proposal_expire",W),this.events.once(S,({error:X,session:ae})=>{this.client.events.off("proposal_expire",W),X?k(X):ae&&C(ae)}),await this.sendRequest({topic:f,method:"wc_sessionPropose",params:v,throwOnFailedPublish:!0,clientRpcId:v.id}),await this.setProposal(v.id,v),{uri:l,approval:$}}),Xe(this,"pair",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(n){throw this.client.logger.error("pair() failed"),n}}),Xe(this,"approve",async t=>{var n,i,s;const a=this.client.core.eventClient.createEvent({properties:{topic:(n=t==null?void 0:t.id)==null?void 0:n.toString(),trace:[mi.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(Q){throw a.setError(ra.no_internet_connection),Q}try{await this.isValidProposalId(t==null?void 0:t.id)}catch(Q){throw this.client.logger.error(`approve() -> proposal.get(${t==null?void 0:t.id}) failed`),a.setError(ra.proposal_not_found),Q}try{await this.isValidApprove(t)}catch(Q){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(ra.session_approve_namespace_validation_failure),Q}const{id:o,relayProtocol:u,namespaces:c,sessionProperties:f,scopedProperties:l,sessionConfig:h}=t,y=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:w,proposer:_,requiredNamespaces:v,optionalNamespaces:S}=y;let k=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:w});k||(k=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:mi.session_approve_started,properties:{topic:w,trace:[mi.session_approve_started,mi.session_namespaces_validation_success]}}));const C=await this.client.core.crypto.generateKeyPair(),$=_.publicKey,W=await this.client.core.crypto.generateSharedKey(C,$),X=yr(yr(yr({relay:{protocol:u??"irn"},namespaces:c,controller:{publicKey:C,metadata:this.client.metadata},expiry:Kr(Ga)},f&&{sessionProperties:f}),l&&{scopedProperties:l}),h&&{sessionConfig:h}),ae=Ir.relay;k.addTrace(mi.subscribing_session_topic);try{await this.client.core.relayer.subscribe(W,{transportType:ae})}catch(Q){throw k.setError(ra.subscribe_session_topic_failure),Q}k.addTrace(mi.subscribe_session_topic_success);const ee=kn(yr({},X),{topic:W,requiredNamespaces:v,optionalNamespaces:S,pairingTopic:w,acknowledged:!1,self:X.controller,peer:{publicKey:_.publicKey,metadata:_.metadata},controller:C,transportType:Ir.relay});await this.client.session.set(W,ee),k.addTrace(mi.store_session);try{k.addTrace(mi.publishing_session_settle),await this.sendRequest({topic:W,method:"wc_sessionSettle",params:X,throwOnFailedPublish:!0}).catch(Q=>{throw k==null||k.setError(ra.session_settle_publish_failure),Q}),k.addTrace(mi.session_settle_publish_success),k.addTrace(mi.publishing_session_approve),await this.sendResult({id:o,topic:w,result:{relay:{protocol:u??"irn"},responderPublicKey:C},throwOnFailedPublish:!0}).catch(Q=>{throw k==null||k.setError(ra.session_approve_publish_failure),Q}),k.addTrace(mi.session_approve_publish_success)}catch(Q){throw this.client.logger.error(Q),this.client.session.delete(W,xr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(W),Q}return this.client.core.eventClient.deleteEvent({eventId:k.eventId}),await this.client.core.pairing.updateMetadata({topic:w,metadata:_.metadata}),await this.client.proposal.delete(o,xr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:w}),await this.setExpiry(W,Kr(Ga)),{topic:W,acknowledged:()=>Promise.resolve(this.client.session.get(W))}}),Xe(this,"reject",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:n,reason:i}=t;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),a}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:Xr.wc_sessionPropose.reject}),await this.client.proposal.delete(n,xr("USER_DISCONNECTED")))}),Xe(this,"update",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(l){throw this.client.logger.error("update() -> isValidUpdate() failed"),l}const{topic:n,namespaces:i}=t,{done:s,resolve:a,reject:o}=aa(),u=qi(),c=ha().toString(),f=this.client.session.get(n).namespaces;return this.events.once(cr("session_update",u),({error:l})=>{l?o(l):a()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:c}).catch(l=>{this.client.logger.error(l),this.client.session.update(n,{namespaces:f}),o(l)}),{acknowledged:s}}),Xe(this,"extend",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(u){throw this.client.logger.error("extend() -> isValidExtend() failed"),u}const{topic:n}=t,i=qi(),{done:s,resolve:a,reject:o}=aa();return this.events.once(cr("session_extend",i),({error:u})=>{u?o(u):a()}),await this.setExpiry(n,Kr(Ga)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(u=>{o(u)}),{acknowledged:s}}),Xe(this,"request",async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(S){throw this.client.logger.error("request() -> isValidRequest() failed"),S}const{chainId:n,request:i,topic:s,expiry:a=Xr.wc_sessionRequest.req.ttl}=t,o=this.client.session.get(s);(o==null?void 0:o.transportType)===Ir.relay&&await this.confirmOnlineStateOrThrow();const u=qi(),c=ha().toString(),{done:f,resolve:l,reject:h}=aa(a,"Request expired. Please try again.");this.events.once(cr("session_request",u),({error:S,result:k})=>{S?h(S):l(k)});const y="wc_sessionRequest",w=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(w)return await this.sendRequest({clientRpcId:u,relayRpcId:c,topic:s,method:y,params:{request:kn(yr({},i),{expiryTimestamp:Kr(a)}),chainId:n},expiry:a,throwOnFailedPublish:!0,appLink:w}).catch(S=>h(S)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:u}),await f();const _={request:kn(yr({},i),{expiryTimestamp:Kr(a)}),chainId:n},v=this.shouldSetTVF(y,_);return await Promise.all([new Promise(async S=>{await this.sendRequest(yr({clientRpcId:u,relayRpcId:c,topic:s,method:y,params:_,expiry:a,throwOnFailedPublish:!0},v&&{tvf:this.getTVFParams(u,_)})).catch(k=>h(k)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:u}),S()}),new Promise(async S=>{var k;if(!((k=o.sessionConfig)!=null&&k.disableDeepLink)){const C=await GR(this.client.core.storage,my);await KR({id:u,topic:s,wcDeepLink:C})}S()}),f()]).then(S=>S[2])}),Xe(this,"respond",async t=>{this.isInitialized(),await this.isValidRespond(t);const{topic:n,response:i}=t,{id:s}=i,a=this.client.session.get(n);a.transportType===Ir.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);ji(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:o}):oi(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:o}),this.cleanupAfterResponse(t)}),Xe(this,"ping",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=t;if(this.client.session.keys.includes(n)){const i=qi(),s=ha().toString(),{done:a,resolve:o,reject:u}=aa();this.events.once(cr("session_ping",i),({error:c})=>{c?u(c):o()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),a()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),Xe(this,"emit",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:n,event:i,chainId:s}=t,a=ha().toString(),o=qi();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:o})}),Xe(this,"disconnect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:n}=t;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:xr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=ht("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),Xe(this,"find",t=>(this.isInitialized(),this.client.session.getAll().filter(n=>kO(n,t)))),Xe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Xe(this,"authenticate",async(t,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(t);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),a=s?Ir.link_mode:Ir.relay;a===Ir.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:u="",uri:c,domain:f,nonce:l,type:h,exp:y,nbf:w,methods:_=[],expiry:v}=t,S=[...t.resources||[]],{topic:k,uri:C}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:k,uri:C}});const $=await this.client.core.crypto.generateKeyPair(),W=Yl($);if(await Promise.all([this.client.auth.authKeys.set(Xl,{responseTopic:W,publicKey:$}),this.client.auth.pairingTopics.set(W,{topic:W,pairingTopic:k})]),await this.client.core.relayer.subscribe(W,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${k}`),_.length>0){const{namespace:I}=Zl(o[0]);let m=Uk(I,"request",_);Jl(S)&&(m=jk(m,S.pop())),S.push(m)}const X=v&&v>Xr.wc_sessionAuthenticate.req.ttl?v:Xr.wc_sessionAuthenticate.req.ttl,ae={authPayload:{type:h??"caip122",chains:o,statement:u,aud:c,domain:f,version:"1",nonce:l,iat:new Date().toISOString(),exp:y,nbf:w,resources:S},requester:{publicKey:$,metadata:this.client.metadata},expiryTimestamp:Kr(X)},ee={eip155:{chains:o,methods:[...new Set(["personal_sign",..._])],events:["chainChanged","accountsChanged"]}},Q={requiredNamespaces:{},optionalNamespaces:ee,relays:[{protocol:"irn"}],pairingTopic:k,proposer:{publicKey:$,metadata:this.client.metadata},expiryTimestamp:Kr(Xr.wc_sessionPropose.req.ttl),id:qi()},{done:fe,resolve:j,reject:g}=aa(X,"Request expired"),b=qi(),d=cr("session_connect",Q.id),p=cr("session_request",b),A=async({error:I,session:m})=>{this.events.off(p,M),I?g(I):m&&j({session:m})},M=async I=>{var m,x,E;if(await this.deletePendingAuthRequest(b,{message:"fulfilled",code:0}),I.error){const Oe=xr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return I.error.code===Oe.code?void 0:(this.events.off(d,A),g(I.error.message))}await this.deleteProposal(Q.id),this.events.off(d,A);const{cacaos:D,responder:z}=I.result,P=[],de=[];for(const Oe of D){await lv({cacao:Oe,projectId:this.client.core.projectId})||(this.client.logger.error(Oe,"Signature verification failed"),g(xr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:K}=Oe,te=Jl(K.resources),re=[Ag(K.iss)],we=bd(K.iss);if(te){const ge=dv(te),xe=hv(te);P.push(...ge),re.push(...xe)}for(const ge of re)de.push(`${ge}:${we}`)}const Pe=await this.client.core.crypto.generateSharedKey($,z.publicKey);let Me;P.length>0&&(Me={topic:Pe,acknowledged:!0,self:{publicKey:$,metadata:this.client.metadata},peer:z,controller:z.publicKey,expiry:Kr(Ga),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:k,namespaces:Dv([...new Set(P)],[...new Set(de)]),transportType:a},await this.client.core.relayer.subscribe(Pe,{transportType:a}),await this.client.session.set(Pe,Me),k&&await this.client.core.pairing.updateMetadata({topic:k,metadata:z.metadata}),Me=this.client.session.get(Pe)),(m=this.client.metadata.redirect)!=null&&m.linkMode&&(x=z.metadata.redirect)!=null&&x.linkMode&&(E=z.metadata.redirect)!=null&&E.universal&&n&&(this.client.core.addLinkModeSupportedApp(z.metadata.redirect.universal),this.client.session.update(Pe,{transportType:Ir.link_mode})),j({auths:D,session:Me})};this.events.once(d,A),this.events.once(p,M);let N;try{if(s){const I=pa("wc_sessionAuthenticate",ae,b);this.client.core.history.set(k,I);const m=await this.client.core.crypto.encode("",I,{type:lc,encoding:Cs});N=$c(n,k,m)}else await Promise.all([this.sendRequest({topic:k,method:"wc_sessionAuthenticate",params:ae,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:b}),this.sendRequest({topic:k,method:"wc_sessionPropose",params:Q,expiry:Xr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:Q.id})])}catch(I){throw this.events.off(d,A),this.events.off(p,M),I}return await this.setProposal(Q.id,Q),await this.setAuthRequest(b,{request:kn(yr({},ae),{verifyContext:{}}),pairingTopic:k,transportType:a}),{uri:N??C,response:fe}}),Xe(this,"approveSessionAuthenticate",async t=>{const{id:n,auths:i}=t,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[na.authenticated_session_approve_started]}});try{this.isInitialized()}catch(v){throw s.setError(uu.no_internet_connection),v}const a=this.getPendingAuthRequest(n);if(!a)throw s.setError(uu.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const o=a.transportType||Ir.relay;o===Ir.relay&&await this.confirmOnlineStateOrThrow();const u=a.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),f=Yl(u),l={type:ys,receiverPublicKey:u,senderPublicKey:c},h=[],y=[];for(const v of i){if(!await lv({cacao:v,projectId:this.client.core.projectId})){s.setError(uu.invalid_cacao);const W=xr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:f,error:W,encodeOpts:l}),new Error(W.message)}s.addTrace(na.cacaos_verified);const{p:S}=v,k=Jl(S.resources),C=[Ag(S.iss)],$=bd(S.iss);if(k){const W=dv(k),X=hv(k);h.push(...W),C.push(...X)}for(const W of C)y.push(`${W}:${$}`)}const w=await this.client.core.crypto.generateSharedKey(c,u);s.addTrace(na.create_authenticated_session_topic);let _;if((h==null?void 0:h.length)>0){_={topic:w,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:u,metadata:a.requester.metadata},controller:u,expiry:Kr(Ga),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:Dv([...new Set(h)],[...new Set(y)]),transportType:o},s.addTrace(na.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:o})}catch(v){throw s.setError(uu.subscribe_authenticated_session_topic_failure),v}s.addTrace(na.subscribe_authenticated_session_topic_success),await this.client.session.set(w,_),s.addTrace(na.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}s.addTrace(na.publishing_authenticated_session_approve);try{await this.sendResult({topic:f,id:n,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:l,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,o)})}catch(v){throw s.setError(uu.authenticated_session_approve_publish_failure),v}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:_}}),Xe(this,"rejectSessionAuthenticate",async t=>{this.isInitialized();const{id:n,reason:i}=t,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===Ir.relay&&await this.confirmOnlineStateOrThrow();const a=s.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),u=Yl(a),c={type:ys,receiverPublicKey:a,senderPublicKey:o};await this.sendError({id:n,topic:u,error:i,encodeOpts:c,rpcOpts:Xr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,xr("USER_DISCONNECTED"))}),Xe(this,"formatAuthMessage",t=>{this.isInitialized();const{request:n,iss:i}=t;return q4(n,i)}),Xe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}},50)}),Xe(this,"cleanupDuplicatePairings",async t=>{if(t.pairingTopic)try{const n=this.client.core.pairing.pairings.get(t.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var a,o;return((a=s.peerMetadata)==null?void 0:a.url)&&((o=s.peerMetadata)==null?void 0:o.url)===t.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),Xe(this,"deleteSession",async t=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:a=!0,id:o=0}=t,{self:u}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,xr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(my).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,xr("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=$i.idle),a&&this.client.events.emit("session_delete",{id:o,topic:i})}),Xe(this,"deleteProposal",async(t,n)=>{if(n)try{const i=this.client.proposal.get(t),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(ra.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(t,xr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"proposal")}),Xe(this,"deletePendingSessionRequest",async(t,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,n),i?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==t),i&&(this.sessionRequestQueue.state=$i.idle,this.client.events.emit("session_request_expire",{id:t}))}),Xe(this,"deletePendingAuthRequest",async(t,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(t,n),i?Promise.resolve():this.client.core.expirer.del(t)])}),Xe(this,"setExpiry",async(t,n)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,n),await this.client.session.update(t,{expiry:n}))}),Xe(this,"setProposal",async(t,n)=>{this.client.core.expirer.set(t,Kr(Xr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,n)}),Xe(this,"setAuthRequest",async(t,n)=>{const{request:i,pairingTopic:s,transportType:a=Ir.relay}=n;this.client.core.expirer.set(t,i.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:t,pairingTopic:s,verifyContext:i.verifyContext,transportType:a})}),Xe(this,"setPendingSessionRequest",async t=>{const{id:n,topic:i,params:s,verifyContext:a}=t,o=s.request.expiryTimestamp||Kr(Xr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,o),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:a})}),Xe(this,"sendRequest",async t=>{const{topic:n,method:i,params:s,expiry:a,relayRpcId:o,clientRpcId:u,throwOnFailedPublish:c,appLink:f,tvf:l}=t,h=pa(i,s,u);let y;const w=!!f;try{const S=w?Cs:Mi;y=await this.client.core.crypto.encode(n,h,{encoding:S})}catch(S){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),S}let _;if(pL.includes(i)){const S=Hi(JSON.stringify(h)),k=Hi(y);_=await this.client.core.verify.register({id:k,decryptedId:S})}const v=Xr[i].req;if(v.attestation=_,a&&(v.ttl=a),o&&(v.id=o),this.client.core.history.set(n,h),w){const S=$c(f,n,y);await global.Linking.openURL(S,this.client.name)}else{const S=Xr[i].req;a&&(S.ttl=a),o&&(S.id=o),S.tvf=kn(yr({},l),{correlationId:h.id}),c?(S.internal=kn(yr({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,y,S)):this.client.core.relayer.publish(n,y,S).catch(k=>this.client.logger.error(k))}return h.id}),Xe(this,"sendResult",async t=>{const{id:n,topic:i,result:s,throwOnFailedPublish:a,encodeOpts:o,appLink:u}=t,c=I1(n,s);let f;const l=u&&typeof(global==null?void 0:global.Linking)<"u";try{const w=l?Cs:Mi;f=await this.client.core.crypto.encode(i,c,kn(yr({},o||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),w}let h,y;try{h=await this.client.core.history.get(i,n);const w=h.request;try{this.shouldSetTVF(w.method,w.params)&&(y=this.getTVFParams(n,w.params,s))}catch(_){this.client.logger.warn("sendResult() -> getTVFParams() failed",_)}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),w}if(l){const w=$c(u,i,f);await global.Linking.openURL(w,this.client.name)}else{const w=h.request.method,_=Xr[w].res;_.tvf=kn(yr({},y),{correlationId:n}),a?(_.internal=kn(yr({},_.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,f,_)):this.client.core.relayer.publish(i,f,_).catch(v=>this.client.logger.error(v))}await this.client.core.history.resolve(c)}),Xe(this,"sendError",async t=>{const{id:n,topic:i,error:s,encodeOpts:a,rpcOpts:o,appLink:u}=t,c=M1(n,s);let f;const l=u&&typeof(global==null?void 0:global.Linking)<"u";try{const y=l?Cs:Mi;f=await this.client.core.crypto.encode(i,c,kn(yr({},a||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),y}let h;try{h=await this.client.core.history.get(i,n)}catch(y){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),y}if(l){const y=$c(u,i,f);await global.Linking.openURL(y,this.client.name)}else{const y=h.request.method,w=o||Xr[y].res;this.client.core.relayer.publish(i,f,w)}await this.client.core.history.resolve(c)}),Xe(this,"cleanup",async()=>{const t=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Os(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&t.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Os(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...t.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),Xe(this,"onProviderMessageEvent",async t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):await this.onRelayMessage(t)}),Xe(this,"onRelayEventRequest",async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()}),Xe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===$i.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=$i.active;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=$i.idle}),Xe(this,"processRequest",async t=>{const{topic:n,payload:i,attestation:s,transportType:a,encryptedId:o}=t,u=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:u}))switch(u){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:o,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:o,transportType:a});default:return this.client.logger.info(`Unsupported request method ${u}`)}}),Xe(this,"onRelayEventResponse",async t=>{const{topic:n,payload:i,transportType:s}=t,a=(await this.client.core.history.get(n,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),Xe(this,"onRelayEventUnknownPayload",t=>{const{topic:n}=t,{message:i}=ht("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Xe(this,"shouldIgnorePairingRequest",t=>{const{topic:n,requestMethod:i}=t,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Xe(this,"onSessionProposeRequest",async t=>{const{topic:n,payload:i,attestation:s,encryptedId:a}=t,{params:o,id:u}=i;try{const c=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c==null||c.setError(ds.proposal_listener_not_found)),this.isValidConnect(yr({},i.params));const f=o.expiryTimestamp||Kr(Xr.wc_sessionPropose.req.ttl),l=yr({id:u,pairingTopic:n,expiryTimestamp:f},o);await this.setProposal(u,l);const h=await this.getVerifyContext({attestationId:s,hash:Hi(JSON.stringify(i)),encryptedId:a,metadata:l.proposer.metadata});c==null||c.addTrace(Ui.emit_session_proposal),this.client.events.emit("session_proposal",{id:u,params:l,verifyContext:h})}catch(c){await this.sendError({id:u,topic:n,error:c,rpcOpts:Xr.wc_sessionPropose.autoReject}),this.client.logger.error(c)}}),Xe(this,"onSessionProposeResponse",async(t,n,i)=>{const{id:s}=n;if(ji(n)){const{result:a}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const o=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const u=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const c=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const f=await this.client.core.crypto.generateSharedKey(u,c);this.pendingSessions.set(s,{sessionTopic:f,pairingTopic:t,proposalId:s,publicKey:u});const l=await this.client.core.relayer.subscribe(f,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:t})}else if(oi(n)){await this.client.proposal.delete(s,xr("USER_DISCONNECTED"));const a=cr("session_connect",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:n.error})}}),Xe(this,"onSessionSettleRequest",async(t,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:a,controller:o,expiry:u,namespaces:c,sessionProperties:f,scopedProperties:l,sessionConfig:h}=n.params,y=[...this.pendingSessions.values()].find(v=>v.sessionTopic===t);if(!y)return this.client.logger.error(`Pending session not found for topic ${t}`);const w=this.client.proposal.get(y.proposalId),_=kn(yr(yr(yr({topic:t,relay:a,expiry:u,namespaces:c,acknowledged:!0,pairingTopic:y.pairingTopic,requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces,controller:o.publicKey,self:{publicKey:y.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},f&&{sessionProperties:f}),l&&{scopedProperties:l}),h&&{sessionConfig:h}),{transportType:Ir.relay});await this.client.session.set(_.topic,_),await this.setExpiry(_.topic,_.expiry),await this.client.core.pairing.updateMetadata({topic:y.pairingTopic,metadata:_.peer.metadata}),this.client.events.emit("session_connect",{session:_}),this.events.emit(cr("session_connect",y.proposalId),{session:_}),this.pendingSessions.delete(y.proposalId),this.deleteProposal(y.proposalId,!1),this.cleanupDuplicatePairings(_),await this.sendResult({id:n.id,topic:t,result:!0,throwOnFailedPublish:!0})}catch(a){await this.sendError({id:i,topic:t,error:a}),this.client.logger.error(a)}}),Xe(this,"onSessionSettleResponse",async(t,n)=>{const{id:i}=n;ji(n)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(cr("session_approve",i),{})):oi(n)&&(await this.client.session.delete(t,xr("USER_DISCONNECTED")),this.events.emit(cr("session_approve",i),{error:n.error}))}),Xe(this,"onSessionUpdateRequest",async(t,n)=>{const{params:i,id:s}=n;try{const a=`${t}_session_update`,o=au.get(a);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:t,error:xr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(yr({topic:t},i));try{au.set(a,s),await this.client.session.update(t,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:t,result:!0,throwOnFailedPublish:!0})}catch(u){throw au.delete(a),u}this.client.events.emit("session_update",{id:s,topic:t,params:i})}catch(a){await this.sendError({id:s,topic:t,error:a}),this.client.logger.error(a)}}),Xe(this,"isRequestOutOfSync",(t,n)=>n.toString().slice(0,-3)<t.toString().slice(0,-3)),Xe(this,"onSessionUpdateResponse",(t,n)=>{const{id:i}=n,s=cr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ji(n)?this.events.emit(cr("session_update",i),{}):oi(n)&&this.events.emit(cr("session_update",i),{error:n.error})}),Xe(this,"onSessionExtendRequest",async(t,n)=>{const{id:i}=n;try{this.isValidExtend({topic:t}),await this.setExpiry(t,Kr(Ga)),await this.sendResult({id:i,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:t})}catch(s){await this.sendError({id:i,topic:t,error:s}),this.client.logger.error(s)}}),Xe(this,"onSessionExtendResponse",(t,n)=>{const{id:i}=n,s=cr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ji(n)?this.events.emit(cr("session_extend",i),{}):oi(n)&&this.events.emit(cr("session_extend",i),{error:n.error})}),Xe(this,"onSessionPingRequest",async(t,n)=>{const{id:i}=n;try{this.isValidPing({topic:t}),await this.sendResult({id:i,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:t})}catch(s){await this.sendError({id:i,topic:t,error:s}),this.client.logger.error(s)}}),Xe(this,"onSessionPingResponse",(t,n)=>{const{id:i}=n,s=cr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);ji(n)?this.events.emit(cr("session_ping",i),{}):oi(n)&&this.events.emit(cr("session_ping",i),{error:n.error})},500)}),Xe(this,"onSessionDeleteRequest",async(t,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:t,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(rn.publish,async()=>{s(await this.deleteSession({topic:t,id:i}))})}),this.sendResult({id:i,topic:t,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:xr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Xe(this,"onSessionRequest",async t=>{var n,i,s;const{topic:a,payload:o,attestation:u,encryptedId:c,transportType:f}=t,{id:l,params:h}=o;try{await this.isValidRequest(yr({topic:a},h));const y=this.client.session.get(a),w=await this.getVerifyContext({attestationId:u,hash:Hi(JSON.stringify(pa("wc_sessionRequest",h,l))),encryptedId:c,metadata:y.peer.metadata,transportType:f}),_={id:l,topic:a,params:h,verifyContext:w};await this.setPendingSessionRequest(_),f===Ir.link_mode&&(n=y.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=y.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(_):(this.addSessionRequestToSessionRequestQueue(_),this.processSessionRequestQueue())}catch(y){await this.sendError({id:l,topic:a,error:y}),this.client.logger.error(y)}}),Xe(this,"onSessionRequestResponse",(t,n)=>{const{id:i}=n,s=cr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ji(n)?this.events.emit(cr("session_request",i),{result:n.result}):oi(n)&&this.events.emit(cr("session_request",i),{error:n.error})}),Xe(this,"onSessionEventRequest",async(t,n)=>{const{id:i,params:s}=n;try{const a=`${t}_session_event_${s.event.name}`,o=au.get(a);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(yr({topic:t},s)),this.client.events.emit("session_event",{id:i,topic:t,params:s}),au.set(a,i)}catch(a){await this.sendError({id:i,topic:t,error:a}),this.client.logger.error(a)}}),Xe(this,"onSessionAuthenticateResponse",(t,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:t,payload:n}),ji(n)?this.events.emit(cr("session_request",i),{result:n.result}):oi(n)&&this.events.emit(cr("session_request",i),{error:n.error})}),Xe(this,"onSessionAuthenticateRequest",async t=>{var n;const{topic:i,payload:s,attestation:a,encryptedId:o,transportType:u}=t;try{const{requester:c,authPayload:f,expiryTimestamp:l}=s.params,h=await this.getVerifyContext({attestationId:a,hash:Hi(JSON.stringify(s)),encryptedId:o,metadata:c.metadata,transportType:u}),y={requester:c,pairingTopic:i,id:s.id,authPayload:f,verifyContext:h,expiryTimestamp:l};await this.setAuthRequest(s.id,{request:y,pairingTopic:i,transportType:u}),u===Ir.link_mode&&(n=c.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(c){this.client.logger.error(c);const f=s.params.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,u),y={type:ys,receiverPublicKey:f,senderPublicKey:l};await this.sendError({id:s.id,topic:i,error:c,encodeOpts:y,rpcOpts:Xr.wc_sessionAuthenticate.autoReject,appLink:h})}}),Xe(this,"addSessionRequestToSessionRequestQueue",t=>{this.sessionRequestQueue.queue.push(t)}),Xe(this,"cleanupAfterResponse",t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=$i.idle,this.processSessionRequestQueue()},ft.toMiliseconds(this.requestQueueDelay))}),Xe(this,"cleanupPendingSentRequestsForTopic",({topic:t,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===t&&s.request.method==="wc_sessionRequest").forEach(s=>{const a=s.request.id,o=cr("session_request",a);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(cr("session_request",s.request.id),{error:n})})}),Xe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===$i.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=$i.active,this.emitSessionRequest(t)}catch(n){this.client.logger.error(n)}}),Xe(this,"emitSessionRequest",t=>{this.client.events.emit("session_request",t)}),Xe(this,"onPairingCreated",t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===t.topic);n&&this.onSessionProposeRequest({topic:t.topic,payload:pa("wc_sessionPropose",kn(yr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id)})}),Xe(this,"isValidConnect",async t=>{if(!Un(t)){const{message:c}=ht("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:a,scopedProperties:o,relays:u}=t;if(hn(n)||await this.isValidPairingTopic(n),!jO(u)){const{message:c}=ht("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(c)}if(!hn(i)&&vd(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!hn(s)&&vd(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),hn(a)||this.validateSessionProps(a,"sessionProperties"),!hn(o)){this.validateSessionProps(o,"scopedProperties");const c=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(o).every(f=>c.includes(f)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(c)}`)}}),Xe(this,"validateNamespaces",(t,n)=>{const i=qO(t,"connect()",n);if(i)throw new Error(i.message)}),Xe(this,"isValidApprove",async t=>{if(!Un(t))throw new Error(ht("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:a,scopedProperties:o}=t;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const u=this.client.proposal.get(n),c=Q0(i,"approve()");if(c)throw new Error(c.message);const f=$v(u.requiredNamespaces,i,"approve()");if(f)throw new Error(f.message);if(!jr(s,!0)){const{message:l}=ht("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(l)}if(hn(a)||this.validateSessionProps(a,"sessionProperties"),!hn(o)){this.validateSessionProps(o,"scopedProperties");const l=new Set(Object.keys(i));if(!Object.keys(o).every(h=>l.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(l).join(", ")}`)}}),Xe(this,"isValidReject",async t=>{if(!Un(t)){const{message:s}=ht("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}const{id:n,reason:i}=t;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!WO(i)){const{message:s}=ht("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Xe(this,"isValidSessionSettleRequest",t=>{if(!Un(t)){const{message:c}=ht("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(c)}const{relay:n,controller:i,namespaces:s,expiry:a}=t;if(!h8(n)){const{message:c}=ht("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const o=DO(i,"onSessionSettleRequest()");if(o)throw new Error(o.message);const u=Q0(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(Os(a)){const{message:c}=ht("EXPIRED","onSessionSettleRequest()");throw new Error(c)}}),Xe(this,"isValidUpdate",async t=>{if(!Un(t)){const{message:u}=ht("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(u)}const{topic:n,namespaces:i}=t;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),a=Q0(i,"update()");if(a)throw new Error(a.message);const o=$v(s.requiredNamespaces,i,"update()");if(o)throw new Error(o.message)}),Xe(this,"isValidExtend",async t=>{if(!Un(t)){const{message:i}=ht("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(i)}const{topic:n}=t;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),Xe(this,"isValidRequest",async t=>{if(!Un(t)){const{message:u}=ht("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(u)}const{topic:n,request:i,chainId:s,expiry:a}=t;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!Lv(o,s)){const{message:u}=ht("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(u)}if(!KO(i)){const{message:u}=ht("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(u)}if(!GO(o,s,i.method)){const{message:u}=ht("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(u)}if(a&&!QO(a,sh)){const{message:u}=ht("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${sh.min} and ${sh.max}`);throw new Error(u)}}),Xe(this,"isValidRespond",async t=>{var n;if(!Un(t)){const{message:a}=ht("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(a)}const{topic:i,response:s}=t;try{await this.isValidSessionTopic(i)}catch(a){throw(n=t==null?void 0:t.response)!=null&&n.id&&this.cleanupAfterResponse(t),a}if(!HO(s)){const{message:a}=ht("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(a)}}),Xe(this,"isValidPing",async t=>{if(!Un(t)){const{message:i}=ht("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(i)}const{topic:n}=t;await this.isValidSessionOrPairingTopic(n)}),Xe(this,"isValidEmit",async t=>{if(!Un(t)){const{message:o}=ht("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(o)}const{topic:n,event:i,chainId:s}=t;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!Lv(a,s)){const{message:o}=ht("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(o)}if(!VO(i)){const{message:o}=ht("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}if(!ZO(a,s,i.name)){const{message:o}=ht("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}}),Xe(this,"isValidDisconnect",async t=>{if(!Un(t)){const{message:i}=ht("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(i)}const{topic:n}=t;await this.isValidSessionOrPairingTopic(n)}),Xe(this,"isValidAuthenticate",t=>{const{chains:n,uri:i,domain:s,nonce:a}=t;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!jr(i,!1))throw new Error("uri is required parameter");if(!jr(s,!1))throw new Error("domain is required parameter");if(!jr(a,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(u=>Zl(u).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=Zl(n[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Xe(this,"getVerifyContext",async t=>{const{attestationId:n,hash:i,encryptedId:s,metadata:a,transportType:o}=t,u={verified:{verifyUrl:a.verifyUrl||Eu,validation:"UNKNOWN",origin:a.url||""}};try{if(o===Ir.link_mode){const f=this.getAppLinkIfEnabled(a,o);return u.verified.validation=f&&new URL(f).origin===new URL(a.url).origin?"VALID":"INVALID",u}const c=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:a.verifyUrl});c&&(u.verified.origin=c.origin,u.verified.isScam=c.isScam,u.verified.validation=c.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(u)}`),u}),Xe(this,"validateSessionProps",(t,n)=>{Object.values(t).forEach((i,s)=>{if(i==null){const{message:a}=ht("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(t)[s]}`);throw new Error(a)}})}),Xe(this,"getPendingAuthRequest",t=>{const n=this.client.auth.requests.get(t);return typeof n=="object"?n:void 0}),Xe(this,"addToRecentlyDeleted",(t,n)=>{if(this.recentlyDeletedMap.set(t,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(a)}}}),Xe(this,"checkRecentlyDeleted",t=>{const n=this.recentlyDeletedMap.get(t);if(n){const{message:i}=ht("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${t}`);throw new Error(i)}}),Xe(this,"isLinkModeEnabled",(t,n)=>{var i,s,a,o,u,c,f,l,h;return!t||n!==Ir.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((o=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:o.universal)!==void 0&&((c=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:c.universal)!==""&&((f=t==null?void 0:t.redirect)==null?void 0:f.universal)!==void 0&&((l=t==null?void 0:t.redirect)==null?void 0:l.universal)!==""&&((h=t==null?void 0:t.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Xe(this,"getAppLinkIfEnabled",(t,n)=>{var i;return this.isLinkModeEnabled(t,n)?(i=t==null?void 0:t.redirect)==null?void 0:i.universal:void 0}),Xe(this,"handleLinkModeMessage",({url:t})=>{if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const n=rv(t,"topic")||"",i=decodeURIComponent(rv(t,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:Ir.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),Xe(this,"registerLinkModeListeners",async()=>{var t;if(m1()||Ws()&&(t=this.client.metadata.redirect)!=null&&t.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Xe(this,"shouldSetTVF",(t,n)=>{if(!n||t!=="wc_sessionRequest")return!1;const{request:i}=n;return Object.keys(yy).includes(i.method)}),Xe(this,"getTVFParams",(t,n,i)=>{var s,a;try{const o=n.request.method,u=this.extractTxHashesFromResult(o,i);return kn(yr({correlationId:t,rpcMethods:[o],chainId:n.chainId},this.isValidContractData(n.request.params)&&{contractAddresses:[(a=(s=n.request.params)==null?void 0:s[0])==null?void 0:a.to]}),{txHashes:u})}catch(o){this.client.logger.warn("Error getting TVF params",o)}return{}}),Xe(this,"isValidContractData",t=>{var n;if(!t)return!1;try{const i=(t==null?void 0:t.data)||((n=t==null?void 0:t[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Xe(this,"extractTxHashesFromResult",(t,n)=>{try{const i=yy[t];if(typeof n=="string")return[n];const s=n[i.key];if(dc(s))return t==="solana_signAllTransactions"?s.map(a=>Ik(a)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(t))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ht("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(rn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:n,attestation:i,transportType:s}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(Xl)?this.client.auth.authKeys.get(Xl):{publicKey:void 0};try{const o=await this.client.core.crypto.decode(t,n,{receiverPublicKey:a,encoding:s===Ir.link_mode?Cs:Mi});P1(o)?(this.client.core.history.set(t,o),await this.onRelayEventRequest({topic:t,payload:o,attestation:i,transportType:s,encryptedId:Hi(n)})):Gd(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:t,payload:o,transportType:s}),this.client.core.history.delete(t,o.id)):await this.onRelayEventUnknownPayload({topic:t,payload:o,transportType:s}),await this.client.core.relayer.messages.ack(t,n)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(si.expired,async e=>{const{topic:t,id:n}=O4(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,ht("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,ht("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(ca.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(ca.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!jr(e,!1)){const{message:t}=ht("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=ht("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(Os(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=ht("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!jr(e,!1)){const{message:t}=ht("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=ht("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(Os(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=ht("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=ht("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(jr(e,!1)){const{message:t}=ht("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=ht("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!zO(e)){const{message:t}=ht("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=ht("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(Os(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=ht("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class IL extends Ca{constructor(e,t){super(e,t,fL,k1),this.core=e,this.logger=t}}class ML extends Ca{constructor(e,t){super(e,t,lL,k1),this.core=e,this.logger=t}}class PL extends Ca{constructor(e,t){super(e,t,hL,k1,n=>n.id),this.core=e,this.logger=t}}class RL extends Ca{constructor(e,t){super(e,t,mL,Jd,()=>Xl),this.core=e,this.logger=t}}class kL extends Ca{constructor(e,t){super(e,t,vL,Jd),this.core=e,this.logger=t}}class NL extends Ca{constructor(e,t){super(e,t,yL,Jd,n=>n.id),this.core=e,this.logger=t}}var OL=Object.defineProperty,CL=(r,e,t)=>e in r?OL(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ah=(r,e,t)=>CL(r,typeof e!="symbol"?e+"":e,t);class TL{constructor(e,t){this.core=e,this.logger=t,ah(this,"authKeys"),ah(this,"pairingTopics"),ah(this,"requests"),this.authKeys=new RL(this.core,this.logger),this.pairingTopics=new kL(this.core,this.logger),this.requests=new NL(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var DL=Object.defineProperty,BL=(r,e,t)=>e in r?DL(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Jt=(r,e,t)=>BL(r,typeof e!="symbol"?e+"":e,t);class xd extends wE{constructor(e){super(e),Jt(this,"protocol",C8),Jt(this,"version",T8),Jt(this,"name",ih.name),Jt(this,"metadata"),Jt(this,"core"),Jt(this,"logger"),Jt(this,"events",new Oi.EventEmitter),Jt(this,"engine"),Jt(this,"session"),Jt(this,"proposal"),Jt(this,"pendingRequest"),Jt(this,"auth"),Jt(this,"signConfig"),Jt(this,"on",(n,i)=>this.events.on(n,i)),Jt(this,"once",(n,i)=>this.events.once(n,i)),Jt(this,"off",(n,i)=>this.events.off(n,i)),Jt(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),Jt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Jt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Jt(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),Jt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),Jt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||ih.name,this.metadata=$R(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const t=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Ld(a1({level:(e==null?void 0:e.logger)||ih.logger}));this.core=(e==null?void 0:e.core)||new cL(e),this.logger=Tn(t,this.name),this.session=new ML(this.core,this.logger),this.proposal=new IL(this.core,this.logger),this.pendingRequest=new PL(this.core,this.logger),this.engine=new SL(this),this.auth=new TL(this.core,this.logger)}static async init(e){const t=new xd(e);return await t.initialize(),t}get context(){return Kn(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ft.toMiliseconds(ft.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}class vo extends Error{constructor(){super(),Object.setPrototypeOf(this,vo.prototype)}}class N1 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,N1.prototype)}}var Wg;(function(r){r.Mainnet="tron:0x2b6653dc",r.Shasta="tron:0x94a9059e",r.Nile="tron:0xcd8690dc"})(Wg||(Wg={}));var Do;(function(r){r.signTransaction="tron_signTransaction",r.signMessage="tron_signMessage"})(Do||(Do={}));const oh=(r,e)=>({requiredNamespaces:{tron:{chains:[r],methods:[Do.signTransaction,Do.signMessage],events:[]}},pairingTopic:e});class LL{constructor(e){this._options=e.options,this._network=e.network,this._modalConfig=e.web3ModalConfig||{},this.web3Modal=new fA({...this._modalConfig,projectId:this._options.projectId,chains:[this._network,...this._modalConfig.chains||[]]})}async connect(){const e=this._client??await xd.init(this._options),t=e.find(oh(this._network)).filter(n=>n.acknowledged);if(t.length){this._session=t[t.length-1],this._client=e,this._client=e;const n=Object.values(this._session.namespaces).map(i=>i.accounts).flat();return this.address=n[0].split(":")[2],{address:this.address}}else{const{uri:n,approval:i}=await e.connect(oh(this._network));return new Promise((s,a)=>{n&&(this.web3Modal.openModal({uri:n,chains:[this._network]}),this.web3Modal.subscribeModal(o=>{o.open===!1&&a(new N1("Modal is closed."))})),i().then(o=>{this._session=o,this._client=e;const u=Object.values(this._session.namespaces).map(c=>c.accounts).flat();this.address=u[0].split(":")[2],s({address:this.address})}).catch(a).finally(()=>{this.web3Modal.closeModal()})})}}async disconnect(){if(this._client&&this._session)await this._client.disconnect({topic:this._session.topic,reason:xr("USER_DISCONNECTED")}),this._session=void 0;else throw new vo}get client(){if(this._client)return Object.assign({},this._client,{off:this._client.removeListener});throw new vo}async checkConnectStatus(){const e=this._client??await xd.init(this._options),t=e.find(oh(this._network)).filter(n=>n.acknowledged);if(t.length){this._session=t[t.length-1],this._client=e;const n=Object.values(this._session.namespaces).map(i=>i.accounts).flat();return this.address=n[0].split(":")[2],{address:this.address}}else return{address:""}}async signTransaction(e){if(this._client&&this._session){const{result:t}=await this._client.request({chainId:this._network,topic:this._session.topic,request:{method:Do.signTransaction,params:{address:this.address,transaction:{...e}}}});return t}else throw new vo}async signMessage(e){if(this._client&&this._session){const{signature:t}=await this._client.request({chainId:this._network,topic:this._session.topic,request:{method:Do.signMessage,params:{address:this.address,message:e}}});return t}else throw new vo}}var Uc=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const $L="WalletConnect",FL=Object.keys(rg);class UL extends T7{constructor(e){if(super(),this.name=$L,this.url="https://walletconnect.org",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNjEuNDM4NTQsOTQuMDAzOGM0OC45MTEyMywtNDcuODg4MTcgMTI4LjIxMTk5LC00Ny44ODgxNyAxNzcuMTIzMjEsMGw1Ljg4NjU1LDUuNzYzNDJjMi40NDU1NiwyLjM5NDQxIDIuNDQ1NTYsNi4yNzY1MSAwLDguNjcwOTJsLTIwLjEzNjcsMTkuNzE1NWMtMS4yMjI3OCwxLjE5NzIxIC0zLjIwNTMsMS4xOTcyMSAtNC40MjgwOCwwbC04LjEwMDU4LC03LjkzMTE1Yy0zNC4xMjE2OSwtMzMuNDA3OTggLTg5LjQ0Mzg5LC0zMy40MDc5OCAtMTIzLjU2NTU4LDBsLTguNjc1MDYsOC40OTM2MWMtMS4yMjI3OCwxLjE5NzIgLTMuMjA1MywxLjE5NzIgLTQuNDI4MDgsMGwtMjAuMTM2NjksLTE5LjcxNTVjLTIuNDQ1NTYsLTIuMzk0NDEgLTIuNDQ1NTYsLTYuMjc2NTIgMCwtOC42NzA5Mmw2LjQ2MTAxLC02LjMyNTg4em0yMTguNzY3OCw0MC43NzM3NWwxNy45MjE3LDE3LjU0Njg5YzIuNDQ1NTQsMi4zOTQ0IDIuNDQ1NTYsNi4yNzY0OCAwLjAwMDAzLDguNjcwODlsLTgwLjgxMDE3LDc5LjEyMTE0Yy0yLjQ0NTU1LDIuMzk0NDIgLTYuNDEwNTksMi4zOTQ0NSAtOC44NTYxNiwwLjAwMDA2Yy0wLjAwMDAxLC0wLjAwMDAxIC0wLjAwMDAzLC0wLjAwMDAyIC0wLjAwMDA0LC0wLjAwMDAzbC01Ny4zNTQxNCwtNTYuMTU0NThjLTAuNjExMzksLTAuNTk4NiAtMS42MDI2NSwtMC41OTg2IC0yLjIxNDA0LDBjMCwwLjAwMDAxIC0wLjAwMDAxLDAuMDAwMDEgLTAuMDAwMDEsMC4wMDAwMmwtNTcuMzUyOTIsNTYuMTU0NTNjLTIuNDQ1NTQsMi4zOTQ0MyAtNi40MTA1OCwyLjM5NDQ3IC04Ljg1NjE2LDAuMDAwMDhjLTAuMDAwMDIsLTAuMDAwMDEgLTAuMDAwMDMsLTAuMDAwMDIgLTAuMDAwMDUsLTAuMDAwMDRsLTgwLjgxMjQyLC03OS4xMjIxOWMtMi40NDU1NiwtMi4zOTQ0IC0yLjQ0NTU2LC02LjI3NjUxIDAsLTguNjcwOTFsMTcuOTIxNzMsLTE3LjU0Njg3YzIuNDQ1NTYsLTIuMzk0NDEgNi40MTA2LC0yLjM5NDQxIDguODU2MTYsMGw1Ny4zNTQ5OCw1Ni4xNTUzNWMwLjYxMTM5LDAuNTk4NjEgMS42MDI2NSwwLjU5ODYxIDIuMjE0MDQsMGMwLjAwMDAxLDAgMC4wMDAwMiwtMC4wMDAwMSAwLjAwMDAzLC0wLjAwMDAybDU3LjM1MjEsLTU2LjE1NTMzYzIuNDQ1NSwtMi4zOTQ0NyA2LjQxMDU0LC0yLjM5NDU2IDguODU2MTYsLTAuMDAwMmMwLjAwMDAzLDAuMDAwMDMgMC4wMDAwNywwLjAwMDA3IDAuMDAwMSwwLjAwMDFsNTcuMzU0OSw1Ni4xNTU0M2MwLjYxMTM5LDAuNTk4NiAxLjYwMjY1LDAuNTk4NiAyLjIxNDA0LDBsNTcuMzUzOTgsLTU2LjE1NDMyYzIuNDQ1NTYsLTIuMzk0NDEgNi40MTA2LC0yLjM5NDQxIDguODU2MTYsMHoiIGZpbGw9IiMzYjk5ZmMiIGlkPSJzdmdfMSIvPjwvc3ZnPg==",this._readyState=tg.Found,this._state=zi.Disconnect,this._disconnected=()=>{const t=this._wallet;t&&(t.client.off("session_delete",this._disconnected),this._wallet=null,this._address=null,this._state=zi.Disconnect,this.emit("disconnect"),this.emit("stateChanged",this._state))},e=Object.assign({},e),!e||typeof e!="object")throw new Error("[WalletconnectAdapter] config is required.");if(e.network||(console.error(`[WalletconnectAdapter] config.network must be one of ${FL.join()} or a chainID such as 0x2b6653dc. Use Nile network instead.`),e.network="Nile"),!e.options)throw new Error("[WalletconnectAdapter] config.options is required.");this._connecting=!1,this._wallet=null,this._address=null,this._config=e}get address(){return this._address}get readyState(){return this._readyState}get state(){return this._state}get connecting(){return this._connecting}connect(){return Uc(this,void 0,void 0,function*(){try{if(this.connected||this.connecting)return;if(this.state===zi.NotFound)throw new D7;this._connecting=!0;let e,t;try{e=new LL({network:Wg[this._config.network]||`tron:${this._config.network}`,options:this._config.options,web3ModalConfig:this._config.web3ModalConfig}),{address:t}=yield e.connect()}catch(n){throw n.constructor.name==="Web3ModalError"?new U7:new B7(n==null?void 0:n.message,n)}e.client.on("session_delete",this._disconnected),this._wallet=e,this._address=t||"",this._state=zi.Connected,this.emit("stateChanged",this._state),this.emit("connect",t)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}})}disconnect(){return Uc(this,void 0,void 0,function*(){if(this.state===zi.NotFound)return;const e=this._wallet;if(e){e.client.off("session_delete",this._disconnected),this._wallet=null,this._address=null;try{yield e.disconnect()}catch(t){this.emit("error",new L7(t==null?void 0:t.message,t))}}this._state=zi.Disconnect,this.emit("disconnect"),this.emit("stateChanged",this._state)})}signTransaction(e){return Uc(this,void 0,void 0,function*(){if(this.state!==zi.Connected)throw new A0;try{const t=this._wallet;if(!t)throw new A0;try{return yield t.signTransaction({transaction:e})}catch(n){throw new F7(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}})}signMessage(e){return Uc(this,void 0,void 0,function*(){try{const t=this._wallet;if(!t)throw new A0;try{return yield t.signMessage(e)}catch(n){throw new $7(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}})}}var uh={exports:{}},ch={exports:{}},wy;function pc(){return wy||(wy=1,function(r){function e(t){"@babel/helpers - typeof";return r.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r.exports.__esModule=!0,r.exports.default=r.exports,e(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(ch)),ch.exports}var Ay;function qL(){return Ay||(Ay=1,function(r){var e=pc().default;function t(){r.exports=t=function(){return i},r.exports.__esModule=!0,r.exports.default=r.exports;var n,i={},s=Object.prototype,a=s.hasOwnProperty,o=Object.defineProperty||function(I,m,x){I[m]=x.value},u=typeof Symbol=="function"?Symbol:{},c=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function h(I,m,x){return Object.defineProperty(I,m,{value:x,enumerable:!0,configurable:!0,writable:!0}),I[m]}try{h({},"")}catch{h=function(x,E,D){return x[E]=D}}function y(I,m,x,E){var D=m&&m.prototype instanceof $?m:$,z=Object.create(D.prototype),P=new M(E||[]);return o(z,"_invoke",{value:b(I,x,P)}),z}function w(I,m,x){try{return{type:"normal",arg:I.call(m,x)}}catch(E){return{type:"throw",arg:E}}}i.wrap=y;var _="suspendedStart",v="suspendedYield",S="executing",k="completed",C={};function $(){}function W(){}function X(){}var ae={};h(ae,c,function(){return this});var ee=Object.getPrototypeOf,Q=ee&&ee(ee(N([])));Q&&Q!==s&&a.call(Q,c)&&(ae=Q);var fe=X.prototype=$.prototype=Object.create(ae);function j(I){["next","throw","return"].forEach(function(m){h(I,m,function(x){return this._invoke(m,x)})})}function g(I,m){function x(D,z,P,de){var Pe=w(I[D],I,z);if(Pe.type!=="throw"){var Me=Pe.arg,Oe=Me.value;return Oe&&e(Oe)=="object"&&a.call(Oe,"__await")?m.resolve(Oe.__await).then(function(K){x("next",K,P,de)},function(K){x("throw",K,P,de)}):m.resolve(Oe).then(function(K){Me.value=K,P(Me)},function(K){return x("throw",K,P,de)})}de(Pe.arg)}var E;o(this,"_invoke",{value:function(z,P){function de(){return new m(function(Pe,Me){x(z,P,Pe,Me)})}return E=E?E.then(de,de):de()}})}function b(I,m,x){var E=_;return function(D,z){if(E===S)throw Error("Generator is already running");if(E===k){if(D==="throw")throw z;return{value:n,done:!0}}for(x.method=D,x.arg=z;;){var P=x.delegate;if(P){var de=d(P,x);if(de){if(de===C)continue;return de}}if(x.method==="next")x.sent=x._sent=x.arg;else if(x.method==="throw"){if(E===_)throw E=k,x.arg;x.dispatchException(x.arg)}else x.method==="return"&&x.abrupt("return",x.arg);E=S;var Pe=w(I,m,x);if(Pe.type==="normal"){if(E=x.done?k:v,Pe.arg===C)continue;return{value:Pe.arg,done:x.done}}Pe.type==="throw"&&(E=k,x.method="throw",x.arg=Pe.arg)}}}function d(I,m){var x=m.method,E=I.iterator[x];if(E===n)return m.delegate=null,x==="throw"&&I.iterator.return&&(m.method="return",m.arg=n,d(I,m),m.method==="throw")||x!=="return"&&(m.method="throw",m.arg=new TypeError("The iterator does not provide a '"+x+"' method")),C;var D=w(E,I.iterator,m.arg);if(D.type==="throw")return m.method="throw",m.arg=D.arg,m.delegate=null,C;var z=D.arg;return z?z.done?(m[I.resultName]=z.value,m.next=I.nextLoc,m.method!=="return"&&(m.method="next",m.arg=n),m.delegate=null,C):z:(m.method="throw",m.arg=new TypeError("iterator result is not an object"),m.delegate=null,C)}function p(I){var m={tryLoc:I[0]};1 in I&&(m.catchLoc=I[1]),2 in I&&(m.finallyLoc=I[2],m.afterLoc=I[3]),this.tryEntries.push(m)}function A(I){var m=I.completion||{};m.type="normal",delete m.arg,I.completion=m}function M(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(p,this),this.reset(!0)}function N(I){if(I||I===""){var m=I[c];if(m)return m.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var x=-1,E=function D(){for(;++x<I.length;)if(a.call(I,x))return D.value=I[x],D.done=!1,D;return D.value=n,D.done=!0,D};return E.next=E}}throw new TypeError(e(I)+" is not iterable")}return W.prototype=X,o(fe,"constructor",{value:X,configurable:!0}),o(X,"constructor",{value:W,configurable:!0}),W.displayName=h(X,l,"GeneratorFunction"),i.isGeneratorFunction=function(I){var m=typeof I=="function"&&I.constructor;return!!m&&(m===W||(m.displayName||m.name)==="GeneratorFunction")},i.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,X):(I.__proto__=X,h(I,l,"GeneratorFunction")),I.prototype=Object.create(fe),I},i.awrap=function(I){return{__await:I}},j(g.prototype),h(g.prototype,f,function(){return this}),i.AsyncIterator=g,i.async=function(I,m,x,E,D){D===void 0&&(D=Promise);var z=new g(y(I,m,x,E),D);return i.isGeneratorFunction(m)?z:z.next().then(function(P){return P.done?P.value:z.next()})},j(fe),h(fe,l,"Generator"),h(fe,c,function(){return this}),h(fe,"toString",function(){return"[object Generator]"}),i.keys=function(I){var m=Object(I),x=[];for(var E in m)x.push(E);return x.reverse(),function D(){for(;x.length;){var z=x.pop();if(z in m)return D.value=z,D.done=!1,D}return D.done=!0,D}},i.values=N,M.prototype={constructor:M,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!m)for(var x in this)x.charAt(0)==="t"&&a.call(this,x)&&!isNaN(+x.slice(1))&&(this[x]=n)},stop:function(){this.done=!0;var m=this.tryEntries[0].completion;if(m.type==="throw")throw m.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var x=this;function E(Me,Oe){return P.type="throw",P.arg=m,x.next=Me,Oe&&(x.method="next",x.arg=n),!!Oe}for(var D=this.tryEntries.length-1;D>=0;--D){var z=this.tryEntries[D],P=z.completion;if(z.tryLoc==="root")return E("end");if(z.tryLoc<=this.prev){var de=a.call(z,"catchLoc"),Pe=a.call(z,"finallyLoc");if(de&&Pe){if(this.prev<z.catchLoc)return E(z.catchLoc,!0);if(this.prev<z.finallyLoc)return E(z.finallyLoc)}else if(de){if(this.prev<z.catchLoc)return E(z.catchLoc,!0)}else{if(!Pe)throw Error("try statement without catch or finally");if(this.prev<z.finallyLoc)return E(z.finallyLoc)}}}},abrupt:function(m,x){for(var E=this.tryEntries.length-1;E>=0;--E){var D=this.tryEntries[E];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var z=D;break}}z&&(m==="break"||m==="continue")&&z.tryLoc<=x&&x<=z.finallyLoc&&(z=null);var P=z?z.completion:{};return P.type=m,P.arg=x,z?(this.method="next",this.next=z.finallyLoc,C):this.complete(P)},complete:function(m,x){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&x&&(this.next=x),C},finish:function(m){for(var x=this.tryEntries.length-1;x>=0;--x){var E=this.tryEntries[x];if(E.finallyLoc===m)return this.complete(E.completion,E.afterLoc),A(E),C}},catch:function(m){for(var x=this.tryEntries.length-1;x>=0;--x){var E=this.tryEntries[x];if(E.tryLoc===m){var D=E.completion;if(D.type==="throw"){var z=D.arg;A(E)}return z}}throw Error("illegal catch attempt")},delegateYield:function(m,x,E){return this.delegate={iterator:N(m),resultName:x,nextLoc:E},this.method==="next"&&(this.arg=n),C}},i}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(uh)),uh.exports}var fh,_y;function jL(){if(_y)return fh;_y=1;var r=qL()();fh=r;try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}return fh}var lh={exports:{}},Ey;function zL(){return Ey||(Ey=1,function(r){function e(n,i,s,a,o,u,c){try{var f=n[u](c),l=f.value}catch(h){return void s(h)}f.done?i(l):Promise.resolve(l).then(a,o)}function t(n){return function(){var i=this,s=arguments;return new Promise(function(a,o){var u=n.apply(i,s);function c(l){e(u,a,o,c,f,"next",l)}function f(l){e(u,a,o,c,f,"throw",l)}c(void 0)})}}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(lh)),lh.exports}var dh={exports:{}},Sy;function WL(){return Sy||(Sy=1,function(r){function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(dh)),dh.exports}var hh={exports:{}},ph={exports:{}},gh={exports:{}},Iy;function KL(){return Iy||(Iy=1,function(r){var e=pc().default;function t(n,i){if(e(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,i||"default");if(e(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(gh)),gh.exports}var My;function B8(){return My||(My=1,function(r){var e=pc().default,t=KL();function n(i){var s=t(i,"string");return e(s)=="symbol"?s:s+""}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(ph)),ph.exports}var Py;function HL(){return Py||(Py=1,function(r){var e=B8();function t(i,s){for(var a=0;a<s.length;a++){var o=s[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,e(o.key),o)}}function n(i,s,a){return s&&t(i.prototype,s),a&&t(i,a),Object.defineProperty(i,"prototype",{writable:!1}),i}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(hh)),hh.exports}var bh={exports:{}},Ry;function VL(){return Ry||(Ry=1,function(r){var e=B8();function t(n,i,s){return(i=e(i))in n?Object.defineProperty(n,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[i]=s,n}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(bh)),bh.exports}var O1={exports:{}};const GL={},ZL=Object.freeze(Object.defineProperty({__proto__:null,default:GL},Symbol.toStringTag,{value:"Module"})),Yd=ws(ZL);O1.exports;(function(r){(function(e,t){function n(b,d){if(!b)throw new Error(d||"Assertion failed")}function i(b,d){b.super_=d;var p=function(){};p.prototype=d.prototype,b.prototype=new p,b.prototype.constructor=b}function s(b,d,p){if(s.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((d==="le"||d==="be")&&(p=d,d=10),this._init(b||0,d||10,p||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Yd.Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,p){return d.cmp(p)>0?d:p},s.min=function(d,p){return d.cmp(p)<0?d:p},s.prototype._init=function(d,p,A){if(typeof d=="number")return this._initNumber(d,p,A);if(typeof d=="object")return this._initArray(d,p,A);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),d=d.toString().replace(/\s+/g,"");var M=0;d[0]==="-"&&(M++,this.negative=1),M<d.length&&(p===16?this._parseHex(d,M,A):(this._parseBase(d,p,M),A==="le"&&this._initArray(this.toArray(),p,A)))},s.prototype._initNumber=function(d,p,A){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),p,A)},s.prototype._initArray=function(d,p,A){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var N,I,m=0;if(A==="be")for(M=d.length-1,N=0;M>=0;M-=3)I=d[M]|d[M-1]<<8|d[M-2]<<16,this.words[N]|=I<<m&67108863,this.words[N+1]=I>>>26-m&67108863,m+=24,m>=26&&(m-=26,N++);else if(A==="le")for(M=0,N=0;M<d.length;M+=3)I=d[M]|d[M+1]<<8|d[M+2]<<16,this.words[N]|=I<<m&67108863,this.words[N+1]=I>>>26-m&67108863,m+=24,m>=26&&(m-=26,N++);return this._strip()};function o(b,d){var p=b.charCodeAt(d);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+b)}function u(b,d,p){var A=o(b,p);return p-1>=d&&(A|=o(b,p-1)<<4),A}s.prototype._parseHex=function(d,p,A){this.length=Math.ceil((d.length-p)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var N=0,I=0,m;if(A==="be")for(M=d.length-1;M>=p;M-=2)m=u(d,p,M)<<N,this.words[I]|=m&67108863,N>=18?(N-=18,I+=1,this.words[I]|=m>>>26):N+=8;else{var x=d.length-p;for(M=x%2===0?p+1:p;M<d.length;M+=2)m=u(d,p,M)<<N,this.words[I]|=m&67108863,N>=18?(N-=18,I+=1,this.words[I]|=m>>>26):N+=8}this._strip()};function c(b,d,p,A){for(var M=0,N=0,I=Math.min(b.length,p),m=d;m<I;m++){var x=b.charCodeAt(m)-48;M*=A,x>=49?N=x-49+10:x>=17?N=x-17+10:N=x,n(x>=0&&N<A,"Invalid character"),M+=N}return M}s.prototype._parseBase=function(d,p,A){this.words=[0],this.length=1;for(var M=0,N=1;N<=67108863;N*=p)M++;M--,N=N/p|0;for(var I=d.length-A,m=I%M,x=Math.min(I,I-m)+A,E=0,D=A;D<x;D+=M)E=c(d,D,D+M,p),this.imuln(N),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(m!==0){var z=1;for(E=c(d,D,d.length,p),D=0;D<m;D++)z*=p;this.imuln(z),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var p=0;p<this.length;p++)d.words[p]=this.words[p];d.length=this.length,d.negative=this.negative,d.red=this.red};function f(b,d){b.words=d.words,b.length=d.length,b.negative=d.negative,b.red=d.red}if(s.prototype._move=function(d){f(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{s.prototype.inspect=l}else s.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,p){d=d||10,p=p|0||1;var A;if(d===16||d==="hex"){A="";for(var M=0,N=0,I=0;I<this.length;I++){var m=this.words[I],x=((m<<M|N)&16777215).toString(16);N=m>>>24-M&16777215,M+=2,M>=26&&(M-=26,I--),N!==0||I!==this.length-1?A=h[6-x.length]+x+A:A=x+A}for(N!==0&&(A=N.toString(16)+A);A.length%p!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(d===(d|0)&&d>=2&&d<=36){var E=y[d],D=w[d];A="";var z=this.clone();for(z.negative=0;!z.isZero();){var P=z.modrn(D).toString(d);z=z.idivn(D),z.isZero()?A=P+A:A=h[E-P.length]+P+A}for(this.isZero()&&(A="0"+A);A.length%p!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(d,p){return this.toArrayLike(a,d,p)}),s.prototype.toArray=function(d,p){return this.toArrayLike(Array,d,p)};var _=function(d,p){return d.allocUnsafe?d.allocUnsafe(p):new d(p)};s.prototype.toArrayLike=function(d,p,A){this._strip();var M=this.byteLength(),N=A||Math.max(1,M);n(M<=N,"byte array longer than desired length"),n(N>0,"Requested array length <= 0");var I=_(d,N),m=p==="le"?"LE":"BE";return this["_toArrayLike"+m](I,M),I},s.prototype._toArrayLikeLE=function(d,p){for(var A=0,M=0,N=0,I=0;N<this.length;N++){var m=this.words[N]<<I|M;d[A++]=m&255,A<d.length&&(d[A++]=m>>8&255),A<d.length&&(d[A++]=m>>16&255),I===6?(A<d.length&&(d[A++]=m>>24&255),M=0,I=0):(M=m>>>24,I+=2)}if(A<d.length)for(d[A++]=M;A<d.length;)d[A++]=0},s.prototype._toArrayLikeBE=function(d,p){for(var A=d.length-1,M=0,N=0,I=0;N<this.length;N++){var m=this.words[N]<<I|M;d[A--]=m&255,A>=0&&(d[A--]=m>>8&255),A>=0&&(d[A--]=m>>16&255),I===6?(A>=0&&(d[A--]=m>>24&255),M=0,I=0):(M=m>>>24,I+=2)}if(A>=0)for(d[A--]=M;A>=0;)d[A--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var p=d,A=0;return p>=4096&&(A+=13,p>>>=13),p>=64&&(A+=7,p>>>=7),p>=8&&(A+=4,p>>>=4),p>=2&&(A+=2,p>>>=2),A+p},s.prototype._zeroBits=function(d){if(d===0)return 26;var p=d,A=0;return p&8191||(A+=13,p>>>=13),p&127||(A+=7,p>>>=7),p&15||(A+=4,p>>>=4),p&3||(A+=2,p>>>=2),p&1||A++,A},s.prototype.bitLength=function(){var d=this.words[this.length-1],p=this._countBits(d);return(this.length-1)*26+p};function v(b){for(var d=new Array(b.bitLength()),p=0;p<d.length;p++){var A=p/26|0,M=p%26;d[p]=b.words[A]>>>M&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,p=0;p<this.length;p++){var A=this._zeroBits(this.words[p]);if(d+=A,A!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]|d.words[p];return this._strip()},s.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var p;this.length>d.length?p=d:p=this;for(var A=0;A<p.length;A++)this.words[A]=this.words[A]&d.words[A];return this.length=p.length,this._strip()},s.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var p,A;this.length>d.length?(p=this,A=d):(p=d,A=this);for(var M=0;M<A.length;M++)this.words[M]=p.words[M]^A.words[M];if(this!==p)for(;M<p.length;M++)this.words[M]=p.words[M];return this.length=p.length,this._strip()},s.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var p=Math.ceil(d/26)|0,A=d%26;this._expand(p),A>0&&p--;for(var M=0;M<p;M++)this.words[M]=~this.words[M]&67108863;return A>0&&(this.words[M]=~this.words[M]&67108863>>26-A),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,p){n(typeof d=="number"&&d>=0);var A=d/26|0,M=d%26;return this._expand(A+1),p?this.words[A]=this.words[A]|1<<M:this.words[A]=this.words[A]&~(1<<M),this._strip()},s.prototype.iadd=function(d){var p;if(this.negative!==0&&d.negative===0)return this.negative=0,p=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,p=this.isub(d),d.negative=1,p._normSign();var A,M;this.length>d.length?(A=this,M=d):(A=d,M=this);for(var N=0,I=0;I<M.length;I++)p=(A.words[I]|0)+(M.words[I]|0)+N,this.words[I]=p&67108863,N=p>>>26;for(;N!==0&&I<A.length;I++)p=(A.words[I]|0)+N,this.words[I]=p&67108863,N=p>>>26;if(this.length=A.length,N!==0)this.words[this.length]=N,this.length++;else if(A!==this)for(;I<A.length;I++)this.words[I]=A.words[I];return this},s.prototype.add=function(d){var p;return d.negative!==0&&this.negative===0?(d.negative=0,p=this.sub(d),d.negative^=1,p):d.negative===0&&this.negative!==0?(this.negative=0,p=d.sub(this),this.negative=1,p):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var p=this.iadd(d);return d.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var A=this.cmp(d);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,N;A>0?(M=this,N=d):(M=d,N=this);for(var I=0,m=0;m<N.length;m++)p=(M.words[m]|0)-(N.words[m]|0)+I,I=p>>26,this.words[m]=p&67108863;for(;I!==0&&m<M.length;m++)p=(M.words[m]|0)+I,I=p>>26,this.words[m]=p&67108863;if(I===0&&m<M.length&&M!==this)for(;m<M.length;m++)this.words[m]=M.words[m];return this.length=Math.max(this.length,m),M!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function S(b,d,p){p.negative=d.negative^b.negative;var A=b.length+d.length|0;p.length=A,A=A-1|0;var M=b.words[0]|0,N=d.words[0]|0,I=M*N,m=I&67108863,x=I/67108864|0;p.words[0]=m;for(var E=1;E<A;E++){for(var D=x>>>26,z=x&67108863,P=Math.min(E,d.length-1),de=Math.max(0,E-b.length+1);de<=P;de++){var Pe=E-de|0;M=b.words[Pe]|0,N=d.words[de]|0,I=M*N+z,D+=I/67108864|0,z=I&67108863}p.words[E]=z|0,x=D|0}return x!==0?p.words[E]=x|0:p.length--,p._strip()}var k=function(d,p,A){var M=d.words,N=p.words,I=A.words,m=0,x,E,D,z=M[0]|0,P=z&8191,de=z>>>13,Pe=M[1]|0,Me=Pe&8191,Oe=Pe>>>13,K=M[2]|0,te=K&8191,re=K>>>13,we=M[3]|0,ge=we&8191,xe=we>>>13,$e=M[4]|0,Ae=$e&8191,F=$e>>>13,G=M[5]|0,ne=G&8191,ye=G>>>13,Ne=M[6]|0,ke=Ne&8191,Ke=Ne>>>13,Ze=M[7]|0,nt=Ze&8191,U=Ze>>>13,R=M[8]|0,O=R&8191,oe=R>>>13,Ie=M[9]|0,Le=Ie&8191,Ue=Ie>>>13,ct=N[0]|0,gt=ct&8191,it=ct>>>13,ot=N[1]|0,bt=ot&8191,mt=ot>>>13,$t=N[2]|0,Ft=$t&8191,It=$t>>>13,yt=N[3]|0,Ct=yt&8191,wt=yt>>>13,At=N[4]|0,Qt=At&8191,Mt=At>>>13,kt=N[5]|0,Xt=kt&8191,Pt=kt>>>13,er=N[6]|0,Wt=er&8191,Et=er>>>13,Kt=N[7]|0,tr=Kt&8191,St=Kt>>>13,Ht=N[8]|0,qt=Ht&8191,_t=Ht>>>13,rr=N[9]|0,Vt=rr&8191,Gt=rr>>>13;A.negative=d.negative^p.negative,A.length=19,x=Math.imul(P,gt),E=Math.imul(P,it),E=E+Math.imul(de,gt)|0,D=Math.imul(de,it);var Gr=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,x=Math.imul(Me,gt),E=Math.imul(Me,it),E=E+Math.imul(Oe,gt)|0,D=Math.imul(Oe,it),x=x+Math.imul(P,bt)|0,E=E+Math.imul(P,mt)|0,E=E+Math.imul(de,bt)|0,D=D+Math.imul(de,mt)|0;var Zr=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,x=Math.imul(te,gt),E=Math.imul(te,it),E=E+Math.imul(re,gt)|0,D=Math.imul(re,it),x=x+Math.imul(Me,bt)|0,E=E+Math.imul(Me,mt)|0,E=E+Math.imul(Oe,bt)|0,D=D+Math.imul(Oe,mt)|0,x=x+Math.imul(P,Ft)|0,E=E+Math.imul(P,It)|0,E=E+Math.imul(de,Ft)|0,D=D+Math.imul(de,It)|0;var $r=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+($r>>>26)|0,$r&=67108863,x=Math.imul(ge,gt),E=Math.imul(ge,it),E=E+Math.imul(xe,gt)|0,D=Math.imul(xe,it),x=x+Math.imul(te,bt)|0,E=E+Math.imul(te,mt)|0,E=E+Math.imul(re,bt)|0,D=D+Math.imul(re,mt)|0,x=x+Math.imul(Me,Ft)|0,E=E+Math.imul(Me,It)|0,E=E+Math.imul(Oe,Ft)|0,D=D+Math.imul(Oe,It)|0,x=x+Math.imul(P,Ct)|0,E=E+Math.imul(P,wt)|0,E=E+Math.imul(de,Ct)|0,D=D+Math.imul(de,wt)|0;var zr=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(zr>>>26)|0,zr&=67108863,x=Math.imul(Ae,gt),E=Math.imul(Ae,it),E=E+Math.imul(F,gt)|0,D=Math.imul(F,it),x=x+Math.imul(ge,bt)|0,E=E+Math.imul(ge,mt)|0,E=E+Math.imul(xe,bt)|0,D=D+Math.imul(xe,mt)|0,x=x+Math.imul(te,Ft)|0,E=E+Math.imul(te,It)|0,E=E+Math.imul(re,Ft)|0,D=D+Math.imul(re,It)|0,x=x+Math.imul(Me,Ct)|0,E=E+Math.imul(Me,wt)|0,E=E+Math.imul(Oe,Ct)|0,D=D+Math.imul(Oe,wt)|0,x=x+Math.imul(P,Qt)|0,E=E+Math.imul(P,Mt)|0,E=E+Math.imul(de,Qt)|0,D=D+Math.imul(de,Mt)|0;var kr=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(kr>>>26)|0,kr&=67108863,x=Math.imul(ne,gt),E=Math.imul(ne,it),E=E+Math.imul(ye,gt)|0,D=Math.imul(ye,it),x=x+Math.imul(Ae,bt)|0,E=E+Math.imul(Ae,mt)|0,E=E+Math.imul(F,bt)|0,D=D+Math.imul(F,mt)|0,x=x+Math.imul(ge,Ft)|0,E=E+Math.imul(ge,It)|0,E=E+Math.imul(xe,Ft)|0,D=D+Math.imul(xe,It)|0,x=x+Math.imul(te,Ct)|0,E=E+Math.imul(te,wt)|0,E=E+Math.imul(re,Ct)|0,D=D+Math.imul(re,wt)|0,x=x+Math.imul(Me,Qt)|0,E=E+Math.imul(Me,Mt)|0,E=E+Math.imul(Oe,Qt)|0,D=D+Math.imul(Oe,Mt)|0,x=x+Math.imul(P,Xt)|0,E=E+Math.imul(P,Pt)|0,E=E+Math.imul(de,Xt)|0,D=D+Math.imul(de,Pt)|0;var un=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(un>>>26)|0,un&=67108863,x=Math.imul(ke,gt),E=Math.imul(ke,it),E=E+Math.imul(Ke,gt)|0,D=Math.imul(Ke,it),x=x+Math.imul(ne,bt)|0,E=E+Math.imul(ne,mt)|0,E=E+Math.imul(ye,bt)|0,D=D+Math.imul(ye,mt)|0,x=x+Math.imul(Ae,Ft)|0,E=E+Math.imul(Ae,It)|0,E=E+Math.imul(F,Ft)|0,D=D+Math.imul(F,It)|0,x=x+Math.imul(ge,Ct)|0,E=E+Math.imul(ge,wt)|0,E=E+Math.imul(xe,Ct)|0,D=D+Math.imul(xe,wt)|0,x=x+Math.imul(te,Qt)|0,E=E+Math.imul(te,Mt)|0,E=E+Math.imul(re,Qt)|0,D=D+Math.imul(re,Mt)|0,x=x+Math.imul(Me,Xt)|0,E=E+Math.imul(Me,Pt)|0,E=E+Math.imul(Oe,Xt)|0,D=D+Math.imul(Oe,Pt)|0,x=x+Math.imul(P,Wt)|0,E=E+Math.imul(P,Et)|0,E=E+Math.imul(de,Wt)|0,D=D+Math.imul(de,Et)|0;var be=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(be>>>26)|0,be&=67108863,x=Math.imul(nt,gt),E=Math.imul(nt,it),E=E+Math.imul(U,gt)|0,D=Math.imul(U,it),x=x+Math.imul(ke,bt)|0,E=E+Math.imul(ke,mt)|0,E=E+Math.imul(Ke,bt)|0,D=D+Math.imul(Ke,mt)|0,x=x+Math.imul(ne,Ft)|0,E=E+Math.imul(ne,It)|0,E=E+Math.imul(ye,Ft)|0,D=D+Math.imul(ye,It)|0,x=x+Math.imul(Ae,Ct)|0,E=E+Math.imul(Ae,wt)|0,E=E+Math.imul(F,Ct)|0,D=D+Math.imul(F,wt)|0,x=x+Math.imul(ge,Qt)|0,E=E+Math.imul(ge,Mt)|0,E=E+Math.imul(xe,Qt)|0,D=D+Math.imul(xe,Mt)|0,x=x+Math.imul(te,Xt)|0,E=E+Math.imul(te,Pt)|0,E=E+Math.imul(re,Xt)|0,D=D+Math.imul(re,Pt)|0,x=x+Math.imul(Me,Wt)|0,E=E+Math.imul(Me,Et)|0,E=E+Math.imul(Oe,Wt)|0,D=D+Math.imul(Oe,Et)|0,x=x+Math.imul(P,tr)|0,E=E+Math.imul(P,St)|0,E=E+Math.imul(de,tr)|0,D=D+Math.imul(de,St)|0;var le=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(le>>>26)|0,le&=67108863,x=Math.imul(O,gt),E=Math.imul(O,it),E=E+Math.imul(oe,gt)|0,D=Math.imul(oe,it),x=x+Math.imul(nt,bt)|0,E=E+Math.imul(nt,mt)|0,E=E+Math.imul(U,bt)|0,D=D+Math.imul(U,mt)|0,x=x+Math.imul(ke,Ft)|0,E=E+Math.imul(ke,It)|0,E=E+Math.imul(Ke,Ft)|0,D=D+Math.imul(Ke,It)|0,x=x+Math.imul(ne,Ct)|0,E=E+Math.imul(ne,wt)|0,E=E+Math.imul(ye,Ct)|0,D=D+Math.imul(ye,wt)|0,x=x+Math.imul(Ae,Qt)|0,E=E+Math.imul(Ae,Mt)|0,E=E+Math.imul(F,Qt)|0,D=D+Math.imul(F,Mt)|0,x=x+Math.imul(ge,Xt)|0,E=E+Math.imul(ge,Pt)|0,E=E+Math.imul(xe,Xt)|0,D=D+Math.imul(xe,Pt)|0,x=x+Math.imul(te,Wt)|0,E=E+Math.imul(te,Et)|0,E=E+Math.imul(re,Wt)|0,D=D+Math.imul(re,Et)|0,x=x+Math.imul(Me,tr)|0,E=E+Math.imul(Me,St)|0,E=E+Math.imul(Oe,tr)|0,D=D+Math.imul(Oe,St)|0,x=x+Math.imul(P,qt)|0,E=E+Math.imul(P,_t)|0,E=E+Math.imul(de,qt)|0,D=D+Math.imul(de,_t)|0;var je=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(je>>>26)|0,je&=67108863,x=Math.imul(Le,gt),E=Math.imul(Le,it),E=E+Math.imul(Ue,gt)|0,D=Math.imul(Ue,it),x=x+Math.imul(O,bt)|0,E=E+Math.imul(O,mt)|0,E=E+Math.imul(oe,bt)|0,D=D+Math.imul(oe,mt)|0,x=x+Math.imul(nt,Ft)|0,E=E+Math.imul(nt,It)|0,E=E+Math.imul(U,Ft)|0,D=D+Math.imul(U,It)|0,x=x+Math.imul(ke,Ct)|0,E=E+Math.imul(ke,wt)|0,E=E+Math.imul(Ke,Ct)|0,D=D+Math.imul(Ke,wt)|0,x=x+Math.imul(ne,Qt)|0,E=E+Math.imul(ne,Mt)|0,E=E+Math.imul(ye,Qt)|0,D=D+Math.imul(ye,Mt)|0,x=x+Math.imul(Ae,Xt)|0,E=E+Math.imul(Ae,Pt)|0,E=E+Math.imul(F,Xt)|0,D=D+Math.imul(F,Pt)|0,x=x+Math.imul(ge,Wt)|0,E=E+Math.imul(ge,Et)|0,E=E+Math.imul(xe,Wt)|0,D=D+Math.imul(xe,Et)|0,x=x+Math.imul(te,tr)|0,E=E+Math.imul(te,St)|0,E=E+Math.imul(re,tr)|0,D=D+Math.imul(re,St)|0,x=x+Math.imul(Me,qt)|0,E=E+Math.imul(Me,_t)|0,E=E+Math.imul(Oe,qt)|0,D=D+Math.imul(Oe,_t)|0,x=x+Math.imul(P,Vt)|0,E=E+Math.imul(P,Gt)|0,E=E+Math.imul(de,Vt)|0,D=D+Math.imul(de,Gt)|0;var Qe=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,x=Math.imul(Le,bt),E=Math.imul(Le,mt),E=E+Math.imul(Ue,bt)|0,D=Math.imul(Ue,mt),x=x+Math.imul(O,Ft)|0,E=E+Math.imul(O,It)|0,E=E+Math.imul(oe,Ft)|0,D=D+Math.imul(oe,It)|0,x=x+Math.imul(nt,Ct)|0,E=E+Math.imul(nt,wt)|0,E=E+Math.imul(U,Ct)|0,D=D+Math.imul(U,wt)|0,x=x+Math.imul(ke,Qt)|0,E=E+Math.imul(ke,Mt)|0,E=E+Math.imul(Ke,Qt)|0,D=D+Math.imul(Ke,Mt)|0,x=x+Math.imul(ne,Xt)|0,E=E+Math.imul(ne,Pt)|0,E=E+Math.imul(ye,Xt)|0,D=D+Math.imul(ye,Pt)|0,x=x+Math.imul(Ae,Wt)|0,E=E+Math.imul(Ae,Et)|0,E=E+Math.imul(F,Wt)|0,D=D+Math.imul(F,Et)|0,x=x+Math.imul(ge,tr)|0,E=E+Math.imul(ge,St)|0,E=E+Math.imul(xe,tr)|0,D=D+Math.imul(xe,St)|0,x=x+Math.imul(te,qt)|0,E=E+Math.imul(te,_t)|0,E=E+Math.imul(re,qt)|0,D=D+Math.imul(re,_t)|0,x=x+Math.imul(Me,Vt)|0,E=E+Math.imul(Me,Gt)|0,E=E+Math.imul(Oe,Vt)|0,D=D+Math.imul(Oe,Gt)|0;var Je=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(Le,Ft),E=Math.imul(Le,It),E=E+Math.imul(Ue,Ft)|0,D=Math.imul(Ue,It),x=x+Math.imul(O,Ct)|0,E=E+Math.imul(O,wt)|0,E=E+Math.imul(oe,Ct)|0,D=D+Math.imul(oe,wt)|0,x=x+Math.imul(nt,Qt)|0,E=E+Math.imul(nt,Mt)|0,E=E+Math.imul(U,Qt)|0,D=D+Math.imul(U,Mt)|0,x=x+Math.imul(ke,Xt)|0,E=E+Math.imul(ke,Pt)|0,E=E+Math.imul(Ke,Xt)|0,D=D+Math.imul(Ke,Pt)|0,x=x+Math.imul(ne,Wt)|0,E=E+Math.imul(ne,Et)|0,E=E+Math.imul(ye,Wt)|0,D=D+Math.imul(ye,Et)|0,x=x+Math.imul(Ae,tr)|0,E=E+Math.imul(Ae,St)|0,E=E+Math.imul(F,tr)|0,D=D+Math.imul(F,St)|0,x=x+Math.imul(ge,qt)|0,E=E+Math.imul(ge,_t)|0,E=E+Math.imul(xe,qt)|0,D=D+Math.imul(xe,_t)|0,x=x+Math.imul(te,Vt)|0,E=E+Math.imul(te,Gt)|0,E=E+Math.imul(re,Vt)|0,D=D+Math.imul(re,Gt)|0;var at=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(Le,Ct),E=Math.imul(Le,wt),E=E+Math.imul(Ue,Ct)|0,D=Math.imul(Ue,wt),x=x+Math.imul(O,Qt)|0,E=E+Math.imul(O,Mt)|0,E=E+Math.imul(oe,Qt)|0,D=D+Math.imul(oe,Mt)|0,x=x+Math.imul(nt,Xt)|0,E=E+Math.imul(nt,Pt)|0,E=E+Math.imul(U,Xt)|0,D=D+Math.imul(U,Pt)|0,x=x+Math.imul(ke,Wt)|0,E=E+Math.imul(ke,Et)|0,E=E+Math.imul(Ke,Wt)|0,D=D+Math.imul(Ke,Et)|0,x=x+Math.imul(ne,tr)|0,E=E+Math.imul(ne,St)|0,E=E+Math.imul(ye,tr)|0,D=D+Math.imul(ye,St)|0,x=x+Math.imul(Ae,qt)|0,E=E+Math.imul(Ae,_t)|0,E=E+Math.imul(F,qt)|0,D=D+Math.imul(F,_t)|0,x=x+Math.imul(ge,Vt)|0,E=E+Math.imul(ge,Gt)|0,E=E+Math.imul(xe,Vt)|0,D=D+Math.imul(xe,Gt)|0;var pt=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(pt>>>26)|0,pt&=67108863,x=Math.imul(Le,Qt),E=Math.imul(Le,Mt),E=E+Math.imul(Ue,Qt)|0,D=Math.imul(Ue,Mt),x=x+Math.imul(O,Xt)|0,E=E+Math.imul(O,Pt)|0,E=E+Math.imul(oe,Xt)|0,D=D+Math.imul(oe,Pt)|0,x=x+Math.imul(nt,Wt)|0,E=E+Math.imul(nt,Et)|0,E=E+Math.imul(U,Wt)|0,D=D+Math.imul(U,Et)|0,x=x+Math.imul(ke,tr)|0,E=E+Math.imul(ke,St)|0,E=E+Math.imul(Ke,tr)|0,D=D+Math.imul(Ke,St)|0,x=x+Math.imul(ne,qt)|0,E=E+Math.imul(ne,_t)|0,E=E+Math.imul(ye,qt)|0,D=D+Math.imul(ye,_t)|0,x=x+Math.imul(Ae,Vt)|0,E=E+Math.imul(Ae,Gt)|0,E=E+Math.imul(F,Vt)|0,D=D+Math.imul(F,Gt)|0;var xt=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(xt>>>26)|0,xt&=67108863,x=Math.imul(Le,Xt),E=Math.imul(Le,Pt),E=E+Math.imul(Ue,Xt)|0,D=Math.imul(Ue,Pt),x=x+Math.imul(O,Wt)|0,E=E+Math.imul(O,Et)|0,E=E+Math.imul(oe,Wt)|0,D=D+Math.imul(oe,Et)|0,x=x+Math.imul(nt,tr)|0,E=E+Math.imul(nt,St)|0,E=E+Math.imul(U,tr)|0,D=D+Math.imul(U,St)|0,x=x+Math.imul(ke,qt)|0,E=E+Math.imul(ke,_t)|0,E=E+Math.imul(Ke,qt)|0,D=D+Math.imul(Ke,_t)|0,x=x+Math.imul(ne,Vt)|0,E=E+Math.imul(ne,Gt)|0,E=E+Math.imul(ye,Vt)|0,D=D+Math.imul(ye,Gt)|0;var Nt=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,x=Math.imul(Le,Wt),E=Math.imul(Le,Et),E=E+Math.imul(Ue,Wt)|0,D=Math.imul(Ue,Et),x=x+Math.imul(O,tr)|0,E=E+Math.imul(O,St)|0,E=E+Math.imul(oe,tr)|0,D=D+Math.imul(oe,St)|0,x=x+Math.imul(nt,qt)|0,E=E+Math.imul(nt,_t)|0,E=E+Math.imul(U,qt)|0,D=D+Math.imul(U,_t)|0,x=x+Math.imul(ke,Vt)|0,E=E+Math.imul(ke,Gt)|0,E=E+Math.imul(Ke,Vt)|0,D=D+Math.imul(Ke,Gt)|0;var fr=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(fr>>>26)|0,fr&=67108863,x=Math.imul(Le,tr),E=Math.imul(Le,St),E=E+Math.imul(Ue,tr)|0,D=Math.imul(Ue,St),x=x+Math.imul(O,qt)|0,E=E+Math.imul(O,_t)|0,E=E+Math.imul(oe,qt)|0,D=D+Math.imul(oe,_t)|0,x=x+Math.imul(nt,Vt)|0,E=E+Math.imul(nt,Gt)|0,E=E+Math.imul(U,Vt)|0,D=D+Math.imul(U,Gt)|0;var Er=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(Er>>>26)|0,Er&=67108863,x=Math.imul(Le,qt),E=Math.imul(Le,_t),E=E+Math.imul(Ue,qt)|0,D=Math.imul(Ue,_t),x=x+Math.imul(O,Vt)|0,E=E+Math.imul(O,Gt)|0,E=E+Math.imul(oe,Vt)|0,D=D+Math.imul(oe,Gt)|0;var Jr=(m+x|0)+((E&8191)<<13)|0;m=(D+(E>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,x=Math.imul(Le,Vt),E=Math.imul(Le,Gt),E=E+Math.imul(Ue,Vt)|0,D=Math.imul(Ue,Gt);var Wr=(m+x|0)+((E&8191)<<13)|0;return m=(D+(E>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,I[0]=Gr,I[1]=Zr,I[2]=$r,I[3]=zr,I[4]=kr,I[5]=un,I[6]=be,I[7]=le,I[8]=je,I[9]=Qe,I[10]=Je,I[11]=at,I[12]=pt,I[13]=xt,I[14]=Nt,I[15]=fr,I[16]=Er,I[17]=Jr,I[18]=Wr,m!==0&&(I[19]=m,A.length++),A};Math.imul||(k=S);function C(b,d,p){p.negative=d.negative^b.negative,p.length=b.length+d.length;for(var A=0,M=0,N=0;N<p.length-1;N++){var I=M;M=0;for(var m=A&67108863,x=Math.min(N,d.length-1),E=Math.max(0,N-b.length+1);E<=x;E++){var D=N-E,z=b.words[D]|0,P=d.words[E]|0,de=z*P,Pe=de&67108863;I=I+(de/67108864|0)|0,Pe=Pe+m|0,m=Pe&67108863,I=I+(Pe>>>26)|0,M+=I>>>26,I&=67108863}p.words[N]=m,A=I,I=M}return A!==0?p.words[N]=A:p.length--,p._strip()}function $(b,d,p){return C(b,d,p)}s.prototype.mulTo=function(d,p){var A,M=this.length+d.length;return this.length===10&&d.length===10?A=k(this,d,p):M<63?A=S(this,d,p):M<1024?A=C(this,d,p):A=$(this,d,p),A},s.prototype.mul=function(d){var p=new s(null);return p.words=new Array(this.length+d.length),this.mulTo(d,p)},s.prototype.mulf=function(d){var p=new s(null);return p.words=new Array(this.length+d.length),$(this,d,p)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var p=d<0;p&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var A=0,M=0;M<this.length;M++){var N=(this.words[M]|0)*d,I=(N&67108863)+(A&67108863);A>>=26,A+=N/67108864|0,A+=I>>>26,this.words[M]=I&67108863}return A!==0&&(this.words[M]=A,this.length++),p?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var p=v(d);if(p.length===0)return new s(1);for(var A=this,M=0;M<p.length&&p[M]===0;M++,A=A.sqr());if(++M<p.length)for(var N=A.sqr();M<p.length;M++,N=N.sqr())p[M]!==0&&(A=A.mul(N));return A},s.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var p=d%26,A=(d-p)/26,M=67108863>>>26-p<<26-p,N;if(p!==0){var I=0;for(N=0;N<this.length;N++){var m=this.words[N]&M,x=(this.words[N]|0)-m<<p;this.words[N]=x|I,I=m>>>26-p}I&&(this.words[N]=I,this.length++)}if(A!==0){for(N=this.length-1;N>=0;N--)this.words[N+A]=this.words[N];for(N=0;N<A;N++)this.words[N]=0;this.length+=A}return this._strip()},s.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,p,A){n(typeof d=="number"&&d>=0);var M;p?M=(p-p%26)/26:M=0;var N=d%26,I=Math.min((d-N)/26,this.length),m=67108863^67108863>>>N<<N,x=A;if(M-=I,M=Math.max(0,M),x){for(var E=0;E<I;E++)x.words[E]=this.words[E];x.length=I}if(I!==0)if(this.length>I)for(this.length-=I,E=0;E<this.length;E++)this.words[E]=this.words[E+I];else this.words[0]=0,this.length=1;var D=0;for(E=this.length-1;E>=0&&(D!==0||E>=M);E--){var z=this.words[E]|0;this.words[E]=D<<26-N|z>>>N,D=z&m}return x&&D!==0&&(x.words[x.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,p,A){return n(this.negative===0),this.iushrn(d,p,A)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,A=(d-p)/26,M=1<<p;if(this.length<=A)return!1;var N=this.words[A];return!!(N&M)},s.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,A=(d-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(p!==0&&A++,this.length=Math.min(A,this.length),p!==0){var M=67108863^67108863>>>p<<p;this.words[this.length-1]&=M}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,p,A){var M=d.length+A,N;this._expand(M);var I,m=0;for(N=0;N<d.length;N++){I=(this.words[N+A]|0)+m;var x=(d.words[N]|0)*p;I-=x&67108863,m=(I>>26)-(x/67108864|0),this.words[N+A]=I&67108863}for(;N<this.length-A;N++)I=(this.words[N+A]|0)+m,m=I>>26,this.words[N+A]=I&67108863;if(m===0)return this._strip();for(n(m===-1),m=0,N=0;N<this.length;N++)I=-(this.words[N]|0)+m,m=I>>26,this.words[N]=I&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,p){var A=this.length-d.length,M=this.clone(),N=d,I=N.words[N.length-1]|0,m=this._countBits(I);A=26-m,A!==0&&(N=N.ushln(A),M.iushln(A),I=N.words[N.length-1]|0);var x=M.length-N.length,E;if(p!=="mod"){E=new s(null),E.length=x+1,E.words=new Array(E.length);for(var D=0;D<E.length;D++)E.words[D]=0}var z=M.clone()._ishlnsubmul(N,1,x);z.negative===0&&(M=z,E&&(E.words[x]=1));for(var P=x-1;P>=0;P--){var de=(M.words[N.length+P]|0)*67108864+(M.words[N.length+P-1]|0);for(de=Math.min(de/I|0,67108863),M._ishlnsubmul(N,de,P);M.negative!==0;)de--,M.negative=0,M._ishlnsubmul(N,1,P),M.isZero()||(M.negative^=1);E&&(E.words[P]=de)}return E&&E._strip(),M._strip(),p!=="div"&&A!==0&&M.iushrn(A),{div:E||null,mod:M}},s.prototype.divmod=function(d,p,A){if(n(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var M,N,I;return this.negative!==0&&d.negative===0?(I=this.neg().divmod(d,p),p!=="mod"&&(M=I.div.neg()),p!=="div"&&(N=I.mod.neg(),A&&N.negative!==0&&N.iadd(d)),{div:M,mod:N}):this.negative===0&&d.negative!==0?(I=this.divmod(d.neg(),p),p!=="mod"&&(M=I.div.neg()),{div:M,mod:I.mod}):this.negative&d.negative?(I=this.neg().divmod(d.neg(),p),p!=="div"&&(N=I.mod.neg(),A&&N.negative!==0&&N.isub(d)),{div:I.div,mod:N}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?p==="div"?{div:this.divn(d.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,p)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var p=this.divmod(d);if(p.mod.isZero())return p.div;var A=p.div.negative!==0?p.mod.isub(d):p.mod,M=d.ushrn(1),N=d.andln(1),I=A.cmp(M);return I<0||N===1&&I===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(d){var p=d<0;p&&(d=-d),n(d<=67108863);for(var A=(1<<26)%d,M=0,N=this.length-1;N>=0;N--)M=(A*M+(this.words[N]|0))%d;return p?-M:M},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var p=d<0;p&&(d=-d),n(d<=67108863);for(var A=0,M=this.length-1;M>=0;M--){var N=(this.words[M]|0)+A*67108864;this.words[M]=N/d|0,A=N%d}return this._strip(),p?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var p=this,A=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var M=new s(1),N=new s(0),I=new s(0),m=new s(1),x=0;p.isEven()&&A.isEven();)p.iushrn(1),A.iushrn(1),++x;for(var E=A.clone(),D=p.clone();!p.isZero();){for(var z=0,P=1;!(p.words[0]&P)&&z<26;++z,P<<=1);if(z>0)for(p.iushrn(z);z-- >0;)(M.isOdd()||N.isOdd())&&(M.iadd(E),N.isub(D)),M.iushrn(1),N.iushrn(1);for(var de=0,Pe=1;!(A.words[0]&Pe)&&de<26;++de,Pe<<=1);if(de>0)for(A.iushrn(de);de-- >0;)(I.isOdd()||m.isOdd())&&(I.iadd(E),m.isub(D)),I.iushrn(1),m.iushrn(1);p.cmp(A)>=0?(p.isub(A),M.isub(I),N.isub(m)):(A.isub(p),I.isub(M),m.isub(N))}return{a:I,b:m,gcd:A.iushln(x)}},s.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var p=this,A=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var M=new s(1),N=new s(0),I=A.clone();p.cmpn(1)>0&&A.cmpn(1)>0;){for(var m=0,x=1;!(p.words[0]&x)&&m<26;++m,x<<=1);if(m>0)for(p.iushrn(m);m-- >0;)M.isOdd()&&M.iadd(I),M.iushrn(1);for(var E=0,D=1;!(A.words[0]&D)&&E<26;++E,D<<=1);if(E>0)for(A.iushrn(E);E-- >0;)N.isOdd()&&N.iadd(I),N.iushrn(1);p.cmp(A)>=0?(p.isub(A),M.isub(N)):(A.isub(p),N.isub(M))}var z;return p.cmpn(1)===0?z=M:z=N,z.cmpn(0)<0&&z.iadd(d),z},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var p=this.clone(),A=d.clone();p.negative=0,A.negative=0;for(var M=0;p.isEven()&&A.isEven();M++)p.iushrn(1),A.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;A.isEven();)A.iushrn(1);var N=p.cmp(A);if(N<0){var I=p;p=A,A=I}else if(N===0||A.cmpn(1)===0)break;p.isub(A)}while(!0);return A.iushln(M)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){n(typeof d=="number");var p=d%26,A=(d-p)/26,M=1<<p;if(this.length<=A)return this._expand(A+1),this.words[A]|=M,this;for(var N=M,I=A;N!==0&&I<this.length;I++){var m=this.words[I]|0;m+=N,N=m>>>26,m&=67108863,this.words[I]=m}return N!==0&&(this.words[I]=N,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var p=d<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var A;if(this.length>1)A=1;else{p&&(d=-d),n(d<=67108863,"Number is too big");var M=this.words[0]|0;A=M===d?0:M<d?-1:1}return this.negative!==0?-A|0:A},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var p=this.ucmp(d);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var p=0,A=this.length-1;A>=0;A--){var M=this.words[A]|0,N=d.words[A]|0;if(M!==N){M<N?p=-1:M>N&&(p=1);break}}return p},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new j(d)},s.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var W={k256:null,p224:null,p192:null,p25519:null};function X(b,d){this.name=b,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},X.prototype.ireduce=function(d){var p=d,A;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),A=p.bitLength();while(A>this.n);var M=A<this.n?-1:p.ucmp(this.p);return M===0?(p.words[0]=0,p.length=1):M>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},X.prototype.split=function(d,p){d.iushrn(this.n,0,p)},X.prototype.imulK=function(d){return d.imul(this.k)};function ae(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ae,X),ae.prototype.split=function(d,p){for(var A=4194303,M=Math.min(d.length,9),N=0;N<M;N++)p.words[N]=d.words[N];if(p.length=M,d.length<=9){d.words[0]=0,d.length=1;return}var I=d.words[9];for(p.words[p.length++]=I&A,N=10;N<d.length;N++){var m=d.words[N]|0;d.words[N-10]=(m&A)<<4|I>>>22,I=m}I>>>=22,d.words[N-10]=I,I===0&&d.length>10?d.length-=10:d.length-=9},ae.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var p=0,A=0;A<d.length;A++){var M=d.words[A]|0;p+=M*977,d.words[A]=p&67108863,p=M*64+(p/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function ee(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ee,X);function Q(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Q,X);function fe(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(fe,X),fe.prototype.imulK=function(d){for(var p=0,A=0;A<d.length;A++){var M=(d.words[A]|0)*19+p,N=M&67108863;M>>>=26,d.words[A]=N,p=M}return p!==0&&(d.words[d.length++]=p),d},s._prime=function(d){if(W[d])return W[d];var p;if(d==="k256")p=new ae;else if(d==="p224")p=new ee;else if(d==="p192")p=new Q;else if(d==="p25519")p=new fe;else throw new Error("Unknown prime "+d);return W[d]=p,p};function j(b){if(typeof b=="string"){var d=s._prime(b);this.m=d.p,this.prime=d}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}j.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},j.prototype._verify2=function(d,p){n((d.negative|p.negative)===0,"red works only with positives"),n(d.red&&d.red===p.red,"red works only with red numbers")},j.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(f(d,d.umod(this.m)._forceRed(this)),d)},j.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},j.prototype.add=function(d,p){this._verify2(d,p);var A=d.add(p);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},j.prototype.iadd=function(d,p){this._verify2(d,p);var A=d.iadd(p);return A.cmp(this.m)>=0&&A.isub(this.m),A},j.prototype.sub=function(d,p){this._verify2(d,p);var A=d.sub(p);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},j.prototype.isub=function(d,p){this._verify2(d,p);var A=d.isub(p);return A.cmpn(0)<0&&A.iadd(this.m),A},j.prototype.shl=function(d,p){return this._verify1(d),this.imod(d.ushln(p))},j.prototype.imul=function(d,p){return this._verify2(d,p),this.imod(d.imul(p))},j.prototype.mul=function(d,p){return this._verify2(d,p),this.imod(d.mul(p))},j.prototype.isqr=function(d){return this.imul(d,d.clone())},j.prototype.sqr=function(d){return this.mul(d,d)},j.prototype.sqrt=function(d){if(d.isZero())return d.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var A=this.m.add(new s(1)).iushrn(2);return this.pow(d,A)}for(var M=this.m.subn(1),N=0;!M.isZero()&&M.andln(1)===0;)N++,M.iushrn(1);n(!M.isZero());var I=new s(1).toRed(this),m=I.redNeg(),x=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,x).cmp(m)!==0;)E.redIAdd(m);for(var D=this.pow(E,M),z=this.pow(d,M.addn(1).iushrn(1)),P=this.pow(d,M),de=N;P.cmp(I)!==0;){for(var Pe=P,Me=0;Pe.cmp(I)!==0;Me++)Pe=Pe.redSqr();n(Me<de);var Oe=this.pow(D,new s(1).iushln(de-Me-1));z=z.redMul(Oe),D=Oe.redSqr(),P=P.redMul(D),de=Me}return z},j.prototype.invm=function(d){var p=d._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},j.prototype.pow=function(d,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return d.clone();var A=4,M=new Array(1<<A);M[0]=new s(1).toRed(this),M[1]=d;for(var N=2;N<M.length;N++)M[N]=this.mul(M[N-1],d);var I=M[0],m=0,x=0,E=p.bitLength()%26;for(E===0&&(E=26),N=p.length-1;N>=0;N--){for(var D=p.words[N],z=E-1;z>=0;z--){var P=D>>z&1;if(I!==M[0]&&(I=this.sqr(I)),P===0&&m===0){x=0;continue}m<<=1,m|=P,x++,!(x!==A&&(N!==0||z!==0))&&(I=this.mul(I,M[m]),x=0,m=0)}E=26}return I},j.prototype.convertTo=function(d){var p=d.umod(this.m);return p===d?p.clone():p},j.prototype.convertFrom=function(d){var p=d.clone();return p.red=null,p},s.mont=function(d){return new g(d)};function g(b){j.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(g,j),g.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},g.prototype.convertFrom=function(d){var p=this.imod(d.mul(this.rinv));return p.red=null,p},g.prototype.imul=function(d,p){if(d.isZero()||p.isZero())return d.words[0]=0,d.length=1,d;var A=d.imul(p),M=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=A.isub(M).iushrn(this.shift),I=N;return N.cmp(this.m)>=0?I=N.isub(this.m):N.cmpn(0)<0&&(I=N.iadd(this.m)),I._forceRed(this)},g.prototype.mul=function(d,p){if(d.isZero()||p.isZero())return new s(0)._forceRed(this);var A=d.mul(p),M=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=A.isub(M).iushrn(this.shift),I=N;return N.cmp(this.m)>=0?I=N.isub(this.m):N.cmpn(0)<0&&(I=N.iadd(this.m)),I._forceRed(this)},g.prototype.invm=function(d){var p=this.imod(d._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(r,Ki)})(O1);var JL=O1.exports;const Ot=es(JL),YL="logger/5.8.0";let ky=!1,Ny=!1;const ed={debug:1,default:2,info:2,warning:3,error:4,off:5};let Oy=ed.default,mh=null;function QL(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(r){return r.message}return null}const Cy=QL();var wd;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(wd||(wd={}));var qn;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(qn||(qn={}));const Ty="0123456789abcdef";class Re{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();ed[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Oy>ed[n])&&console.log.apply(console,t)}debug(...e){this._log(Re.levels.DEBUG,e)}info(...e){this._log(Re.levels.INFO,e)}warn(...e){this._log(Re.levels.WARNING,e)}makeError(e,t,n){if(Ny)return this.makeError("censored error",t,{});t||(t=Re.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(u=>{const c=n[u];try{if(c instanceof Uint8Array){let f="";for(let l=0;l<c.length;l++)f+=Ty[c[l]>>4],f+=Ty[c[l]&15];i.push(u+"=Uint8Array(0x"+f+")")}else i.push(u+"="+JSON.stringify(c))}catch{i.push(u+"="+JSON.stringify(n[u].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let a="";switch(t){case qn.NUMERIC_FAULT:{a="NUMERIC_FAULT";const u=e;switch(u){case"overflow":case"underflow":case"division-by-zero":a+="-"+u;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case qn.CALL_EXCEPTION:case qn.INSUFFICIENT_FUNDS:case qn.MISSING_NEW:case qn.NONCE_EXPIRED:case qn.REPLACEMENT_UNDERPRICED:case qn.TRANSACTION_REPLACED:case qn.UNPREDICTABLE_GAS_LIMIT:a=t;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=s,o.code=t,Object.keys(n).forEach(function(u){o[u]=n[u]}),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Re.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){Cy&&this.throwError("platform missing String.prototype.normalize",Re.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Cy})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Re.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Re.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,Re.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Re.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Re.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Re.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Re.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return mh||(mh=new Re(YL)),mh}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Re.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ky){if(!e)return;this.globalLogger().throwError("error censorship permanent",Re.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ny=!!e,ky=!!t}static setLogLevel(e){const t=ed[e.toLowerCase()];if(t==null){Re.globalLogger().warn("invalid log level - "+e);return}Oy=t}static from(e){return new Re(e)}}Re.errors=qn;Re.levels=wd;const XL=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return qn},get LogLevel(){return wd},Logger:Re},Symbol.toStringTag,{value:"Module"})),e$="bytes/5.8.0",Nr=new Re(e$);function L8(r){return!!r.toHexString}function _o(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return _o(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Vo(r){return Lt(r)&&!(r.length%2)||As(r)}function Dy(r){return typeof r=="number"&&r==r&&r%1===0}function As(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Dy(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!Dy(t)||t<0||t>=256)return!1}return!0}function tt(r,e){if(e||(e={}),typeof r=="number"){Nr.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),_o(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),L8(r)&&(r=r.toHexString()),Lt(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Nr.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return _o(new Uint8Array(n))}return As(r)?_o(new Uint8Array(r)):Nr.throwArgumentError("invalid arrayify value","value",r)}function gr(r){const e=r.map(i=>tt(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),_o(n)}function Ri(r){let e=tt(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function Eo(r,e){r=tt(r),r.length>e&&Nr.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),_o(t)}function Lt(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const vh="0123456789abcdef";function st(r,e){if(e||(e={}),typeof r=="number"){Nr.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=vh[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),L8(r))return r.toHexString();if(Lt(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Nr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(As(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=vh[(i&240)>>4]+vh[i&15]}return t}return Nr.throwArgumentError("invalid hexlify value","value",r)}function ki(r){if(typeof r!="string")r=st(r);else if(!Lt(r)||r.length%2)return null;return(r.length-2)/2}function Or(r,e,t){return typeof r!="string"?r=st(r):(!Lt(r)||r.length%2)&&Nr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function En(r){let e="0x";return r.forEach(t=>{e+=st(t).substring(2)}),e}function Go(r){const e=C1(st(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function C1(r){typeof r!="string"&&(r=st(r)),Lt(r)||Nr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function br(r,e){for(typeof r!="string"?r=st(r):Lt(r)||Nr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Nr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function Ks(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Vo(r)){let t=tt(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=st(t.slice(0,32)),e.s=st(t.slice(32,64))):t.length===65?(e.r=st(t.slice(0,32)),e.s=st(t.slice(32,64)),e.v=t[64]):Nr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Nr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=st(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=Eo(tt(e._vs),32);e._vs=st(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Nr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const a=st(i);e.s==null?e.s=a:e.s!==a&&Nr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Nr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Nr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Lt(e.r)?Nr.throwArgumentError("signature missing or invalid r","signature",r):e.r=br(e.r,32),e.s==null||!Lt(e.s)?Nr.throwArgumentError("signature missing or invalid s","signature",r):e.s=br(e.s,32);const t=tt(e.s);t[0]>=128&&Nr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=st(t);e._vs&&(Lt(e._vs)||Nr.throwArgumentError("signature invalid _vs","signature",r),e._vs=br(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Nr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Ad(r){return r=Ks(r),st(gr([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const t$=Object.freeze(Object.defineProperty({__proto__:null,arrayify:tt,concat:gr,hexConcat:En,hexDataLength:ki,hexDataSlice:Or,hexStripZeros:C1,hexValue:Go,hexZeroPad:br,hexlify:st,isBytes:As,isBytesLike:Vo,isHexString:Lt,joinSignature:Ad,splitSignature:Ks,stripZeros:Ri,zeroPad:Eo},Symbol.toStringTag,{value:"Module"})),$8="bignumber/5.8.0";var zu=Ot.BN;const hs=new Re($8),yh={},r$=9007199254740991;function n$(r){return r!=null&&(et.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||Lt(r)||typeof r=="bigint"||As(r))}let By=!1;class et{constructor(e,t){e!==yh&&hs.throwError("cannot call constructor directly; use BigNumber.from",Re.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return $n(zt(this).fromTwos(e))}toTwos(e){return $n(zt(this).toTwos(e))}abs(){return this._hex[0]==="-"?et.from(this._hex.substring(1)):this}add(e){return $n(zt(this).add(zt(e)))}sub(e){return $n(zt(this).sub(zt(e)))}div(e){return et.from(e).isZero()&&ni("division-by-zero","div"),$n(zt(this).div(zt(e)))}mul(e){return $n(zt(this).mul(zt(e)))}mod(e){const t=zt(e);return t.isNeg()&&ni("division-by-zero","mod"),$n(zt(this).umod(t))}pow(e){const t=zt(e);return t.isNeg()&&ni("negative-power","pow"),$n(zt(this).pow(t))}and(e){const t=zt(e);return(this.isNegative()||t.isNeg())&&ni("unbound-bitwise-result","and"),$n(zt(this).and(t))}or(e){const t=zt(e);return(this.isNegative()||t.isNeg())&&ni("unbound-bitwise-result","or"),$n(zt(this).or(t))}xor(e){const t=zt(e);return(this.isNegative()||t.isNeg())&&ni("unbound-bitwise-result","xor"),$n(zt(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&ni("negative-width","mask"),$n(zt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ni("negative-width","shl"),$n(zt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ni("negative-width","shr"),$n(zt(this).shrn(e))}eq(e){return zt(this).eq(zt(e))}lt(e){return zt(this).lt(zt(e))}lte(e){return zt(this).lte(zt(e))}gt(e){return zt(this).gt(zt(e))}gte(e){return zt(this).gte(zt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return zt(this).isZero()}toNumber(){try{return zt(this).toNumber()}catch{ni("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return hs.throwError("this platform does not support BigInt",Re.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?By||(By=!0,hs.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?hs.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Re.errors.UNEXPECTED_ARGUMENT,{}):hs.throwError("BigNumber.toString does not accept parameters",Re.errors.UNEXPECTED_ARGUMENT,{})),zt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof et)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new et(yh,Wu(e)):e.match(/^-?[0-9]+$/)?new et(yh,Wu(new zu(e))):hs.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&ni("underflow","BigNumber.from",e),(e>=r$||e<=-9007199254740991)&&ni("overflow","BigNumber.from",e),et.from(String(e));const t=e;if(typeof t=="bigint")return et.from(t.toString());if(As(t))return et.from(st(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return et.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(Lt(n)||n[0]==="-"&&Lt(n.substring(1))))return et.from(n)}return hs.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Wu(r){if(typeof r!="string")return Wu(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&hs.throwArgumentError("invalid hex","value",r),r=Wu(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function $n(r){return et.from(Wu(r))}function zt(r){const e=et.from(r).toHexString();return e[0]==="-"?new zu("-"+e.substring(3),16):new zu(e.substring(2),16)}function ni(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),hs.throwError(r,Re.errors.NUMERIC_FAULT,n)}function F8(r){return new zu(r,36).toString(16)}function U8(r){return new zu(r,16).toString(36)}const On=new Re($8),Iu={},q8=et.from(0),j8=et.from(-1);function z8(r,e,t,n){const i={fault:e,operation:t};return n!==void 0&&(i.value=n),On.throwError(r,Re.errors.NUMERIC_FAULT,i)}let Mu="0";for(;Mu.length<256;)Mu+=Mu;function T1(r){if(typeof r!="number")try{r=et.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+Mu.substring(0,r):On.throwArgumentError("invalid decimal size","decimals",r)}function Pu(r,e){e==null&&(e=0);const t=T1(e);r=et.from(r);const n=r.lt(q8);n&&(r=r.mul(j8));let i=r.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=r.div(t).toString();return t.length===1?r=s:r=s+"."+i,n&&(r="-"+r),r}function Ai(r,e){e==null&&(e=0);const t=T1(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&On.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&On.throwArgumentError("missing value","value",r);const i=r.split(".");i.length>2&&On.throwArgumentError("too many decimal points","value",r);let s=i[0],a=i[1];for(s||(s="0"),a||(a="0");a[a.length-1]==="0";)a=a.substring(0,a.length-1);for(a.length>t.length-1&&z8("fractional component exceeds decimals","underflow","parseFixed"),a===""&&(a="0");a.length<t.length-1;)a+="0";const o=et.from(s),u=et.from(a);let c=o.mul(t).add(u);return n&&(c=c.mul(j8)),c}class ma{constructor(e,t,n,i){e!==Iu&&On.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=T1(i),Object.freeze(this)}static from(e){if(e instanceof ma)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||On.throwArgumentError("invalid fixed format","format",e),t=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(a,o,u)=>e[a]==null?u:(typeof e[a]!==o&&On.throwArgumentError("invalid fixed format ("+a+" not "+o+")","format."+a,e[a]),e[a]);t=s("signed","boolean",t),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&On.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&On.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new ma(Iu,t,n,i)}}class Ur{constructor(e,t,n,i){e!==Iu&&On.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&On.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Ai(this._value,this.format.decimals),n=Ai(e._value,e.format.decimals);return Ur.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Ai(this._value,this.format.decimals),n=Ai(e._value,e.format.decimals);return Ur.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Ai(this._value,this.format.decimals),n=Ai(e._value,e.format.decimals);return Ur.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Ai(this._value,this.format.decimals),n=Ai(e._value,e.format.decimals);return Ur.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Ur.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(Ly.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Ur.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(Ly.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&On.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=Ur.from("1"+Mu.substring(0,e),this.format),i=i$.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&On.throwArgumentError("invalid byte width","width",e);const t=et.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return br(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Ur.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!n$(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),Ur.fromString(Pu(e,t),ma.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=ma.from(t),i=Ai(e,n.decimals);!n.signed&&i.lt(q8)&&z8("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=br(s,n.width/8));const a=Pu(i,n.decimals);return new Ur(Iu,s,a,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=ma.from(t);if(tt(e).length>n.width/8)throw new Error("overflow");let i=et.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),a=Pu(i,n.decimals);return new Ur(Iu,s,a,n)}static from(e,t){if(typeof e=="string")return Ur.fromString(e,t);if(As(e))return Ur.fromBytes(e,t);try{return Ur.fromValue(e,0,t)}catch(n){if(n.code!==Re.errors.INVALID_ARGUMENT)throw n}return On.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const Ly=Ur.from(1),i$=Ur.from("0.5"),s$=Object.freeze(Object.defineProperty({__proto__:null,BigNumber:et,FixedFormat:ma,FixedNumber:Ur,_base16To36:U8,_base36To16:F8,formatFixed:Pu,parseFixed:Ai},Symbol.toStringTag,{value:"Module"})),a$="properties/5.8.0";var o$=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const _d=new Re(a$);function Ve(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function an(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function Rr(r){return o$(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Qd(r,e){(!r||typeof r!="object")&&_d.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||_d.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function wr(r){const e={};for(const t in r)e[t]=r[t];return e}const u$={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function W8(r){if(r==null||u$[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!W8(n))return!1}return!0}return _d.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function c$(r){if(W8(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>In(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&Ve(e,t,In(n))}return e}return _d.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function In(r){return c$(r)}class Hs{constructor(e){for(const t in e)this[t]=In(e[t])}}const f$=Object.freeze(Object.defineProperty({__proto__:null,Description:Hs,checkProperties:Qd,deepCopy:In,defineReadOnly:Ve,getStatic:an,resolveProperties:Rr,shallowCopy:wr},Symbol.toStringTag,{value:"Module"})),gc="abi/5.8.0",Yt=new Re(gc),Sa={};let $y={calldata:!0,memory:!0,storage:!0},l$={calldata:!0,memory:!0};function qc(r,e){if(r==="bytes"||r==="string"){if($y[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&l$[e])return!0;return($y[e]||e==="payable")&&Yt.throwArgumentError("invalid modifier","name",e),!1}function d$(r,e){let t=r;function n(o){Yt.throwArgumentError(`unexpected character at position ${o}`,"param",r)}r=r.replace(/\s/g," ");function i(o){let u={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(u.indexed=!1),u}let s={type:"",name:"",state:{allowType:!0}},a=s;for(let o=0;o<r.length;o++){let u=r[o];switch(u){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||n(o),a.state.allowType=!1,a.type=go(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),qc(a.type,a.name)&&(a.name=""),a.type=go(a.type);let c=a;a=a.parent,a||n(o),delete c.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),qc(a.type,a.name)&&(a.name=""),a.type=go(a.type);let f=i(a.parent);a.parent.components.push(f),delete a.parent,a=f;break;case" ":a.state.allowType&&a.type!==""&&(a.type=go(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||n(o),a.indexed&&n(o),a.indexed=!0,a.name=""):qc(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(o),a.type+=u,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(o),a.type+=u,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=u,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=u,delete a.state.allowArray):a.state.readArray?a.type+=u:n(o)}}return a.parent&&Yt.throwArgumentError("unexpected eof","param",r),delete s.state,a.name==="indexed"?(e||n(t.length-7),a.indexed&&n(t.length-7),a.indexed=!0,a.name=""):qc(a.type,a.name)&&(a.name=""),s.type=go(s.type),s}function td(r,e){for(let t in e)Ve(r,t,e[t])}const nr=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),h$=new RegExp(/^(.*)\[([0-9]*)\]$/);class Vr{constructor(e,t){e!==Sa&&Yt.throwError("use fromString",Re.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),td(this,t);let n=this.type.match(h$);n?td(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Vr.fromObject({type:n[1],components:this.components}),baseType:"array"}):td(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=nr.sighash),nr[e]||Yt.throwArgumentError("invalid format type","format",e),e===nr.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==nr.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===nr.full?", ":",")+")"):t+=this.type,e!==nr.sighash&&(this.indexed===!0&&(t+=" indexed"),e===nr.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?Vr.fromString(e,t):Vr.fromObject(e)}static fromObject(e){return Vr.isParamType(e)?e:new Vr(Sa,{name:e.name||null,type:go(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Vr.fromObject):null})}static fromString(e,t){function n(i){return Vr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(d$(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Ku(r,e){return g$(r).map(t=>Vr.fromString(t,e))}class Ji{constructor(e,t){e!==Sa&&Yt.throwError("use a static from method",Re.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),td(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Ji.isFragment(e)?e:typeof e=="string"?Ji.fromString(e):Ji.fromObject(e)}static fromObject(e){if(Ji.isFragment(e))return e;switch(e.type){case"function":return Si.fromObject(e);case"event":return Gi.fromObject(e);case"constructor":return Ei.fromObject(e);case"error":return ms.fromObject(e);case"fallback":case"receive":return null}return Yt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Gi.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Si.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Ei.fromString(e.trim()):e.split(" ")[0]==="error"?ms.fromString(e.substring(5).trim()):Yt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Gi extends Ji{format(e){if(e||(e=nr.sighash),nr[e]||Yt.throwArgumentError("invalid format type","format",e),e===nr.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==nr.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===nr.full?", ":",")+") ",e!==nr.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?Gi.fromString(e):Gi.fromObject(e)}static fromObject(e){if(Gi.isEventFragment(e))return e;e.type!=="event"&&Yt.throwArgumentError("invalid event object","value",e);const t={name:Hu(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Vr.fromObject):[],type:"event"};return new Gi(Sa,t)}static fromString(e){let t=e.match(Vu);t||Yt.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Yt.warn("unknown modifier: "+i)}}),Gi.fromObject({name:t[1].trim(),anonymous:n,inputs:Ku(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function K8(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&Yt.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||Yt.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=et.from(t[1]),t[0]):r}function H8(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function V8(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&Yt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&Yt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&Yt.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Yt.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&Yt.throwArgumentError("unable to determine stateMutability","value",r),e}class Ei extends Ji{format(e){if(e||(e=nr.sighash),nr[e]||Yt.throwArgumentError("invalid format type","format",e),e===nr.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===nr.sighash&&Yt.throwError("cannot format a constructor for sighash",Re.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===nr.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?Ei.fromString(e):Ei.fromObject(e)}static fromObject(e){if(Ei.isConstructorFragment(e))return e;e.type!=="constructor"&&Yt.throwArgumentError("invalid constructor object","value",e);let t=V8(e);t.constant&&Yt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Vr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?et.from(e.gas):null};return new Ei(Sa,n)}static fromString(e){let t={type:"constructor"};e=K8(e,t);let n=e.match(Vu);return(!n||n[1].trim()!=="constructor")&&Yt.throwArgumentError("invalid constructor string","value",e),t.inputs=Ku(n[2].trim(),!1),H8(n[3].trim(),t),Ei.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Si extends Ei{format(e){if(e||(e=nr.sighash),nr[e]||Yt.throwArgumentError("invalid format type","format",e),e===nr.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==nr.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===nr.full?", ":",")+") ",e!==nr.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?Si.fromString(e):Si.fromObject(e)}static fromObject(e){if(Si.isFunctionFragment(e))return e;e.type!=="function"&&Yt.throwArgumentError("invalid function object","value",e);let t=V8(e);const n={type:e.type,name:Hu(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Vr.fromObject):[],outputs:e.outputs?e.outputs.map(Vr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?et.from(e.gas):null};return new Si(Sa,n)}static fromString(e){let t={type:"function"};e=K8(e,t);let n=e.split(" returns ");n.length>2&&Yt.throwArgumentError("invalid function string","value",e);let i=n[0].match(Vu);if(i||Yt.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&Hu(t.name),t.inputs=Ku(i[2],!1),H8(i[3].trim(),t),n.length>1){let s=n[1].match(Vu);(s[1].trim()!=""||s[3].trim()!="")&&Yt.throwArgumentError("unexpected tokens","value",e),t.outputs=Ku(s[2],!1)}else t.outputs=[];return Si.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Fy(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Yt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class ms extends Ji{format(e){if(e||(e=nr.sighash),nr[e]||Yt.throwArgumentError("invalid format type","format",e),e===nr.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==nr.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===nr.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?ms.fromString(e):ms.fromObject(e)}static fromObject(e){if(ms.isErrorFragment(e))return e;e.type!=="error"&&Yt.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:Hu(e.name),inputs:e.inputs?e.inputs.map(Vr.fromObject):[]};return Fy(new ms(Sa,t))}static fromString(e){let t={type:"error"},n=e.match(Vu);return n||Yt.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&Hu(t.name),t.inputs=Ku(n[2],!1),Fy(ms.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function go(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const p$=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Hu(r){return(!r||!r.match(p$))&&Yt.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const Vu=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function g$(r){r=r.trim();let e=[],t="",n=0;for(let i=0;i<r.length;i++){let s=r[i];s===","&&n===0?(e.push(t),t=""):(t+=s,s==="("?n++:s===")"&&(n--,n===-1&&Yt.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const D1=new Re(gc);function G8(r){const e=[],t=function(n,i){if(Array.isArray(i))for(let s in i){const a=n.slice();a.push(s);try{t(a,i[s])}catch(o){e.push({path:a,error:o})}}};return t([],r),e}class _s{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){D1.throwArgumentError(e,this.localName,t)}}class Kg{constructor(e){Ve(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return En(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(gr(e._data))}writeBytes(e){let t=tt(e);const n=t.length%this.wordSize;return n&&(t=gr([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=tt(et.from(e));return t.length>this.wordSize&&D1.throwError("value out-of-bounds",Re.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=gr([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class Ed{constructor(e,t,n,i){Ve(this,"_data",tt(e)),Ve(this,"wordSize",t||32),Ve(this,"_coerceFunc",n),Ve(this,"allowLoose",i),this._offset=0}get data(){return st(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Ed.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:D1.throwError("data out-of-bounds",Re.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Ed(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return et.from(this.readBytes(this.wordSize))}}var Z8={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",a=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?i=Ki:s&&(i=self);var o=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),f=[31,7936,2031616,520093696],l=[4,1024,262144,67108864],h=[1,256,65536,16777216],y=[6,1536,393216,100663296],w=[0,8,16,24],_=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],v=[224,256,384,512],S=[128,256],k=["hex","buffer","arrayBuffer","array","digest"],C={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(P){return Object.prototype.toString.call(P)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(P){return typeof P=="object"&&P.buffer&&P.buffer.constructor===ArrayBuffer});for(var $=function(P,de,Pe){return function(Me){return new E(P,de,P).update(Me)[Pe]()}},W=function(P,de,Pe){return function(Me,Oe){return new E(P,de,Oe).update(Me)[Pe]()}},X=function(P,de,Pe){return function(Me,Oe,K,te){return d["cshake"+P].update(Me,Oe,K,te)[Pe]()}},ae=function(P,de,Pe){return function(Me,Oe,K,te){return d["kmac"+P].update(Me,Oe,K,te)[Pe]()}},ee=function(P,de,Pe,Me){for(var Oe=0;Oe<k.length;++Oe){var K=k[Oe];P[K]=de(Pe,Me,K)}return P},Q=function(P,de){var Pe=$(P,de,"hex");return Pe.create=function(){return new E(P,de,P)},Pe.update=function(Me){return Pe.create().update(Me)},ee(Pe,$,P,de)},fe=function(P,de){var Pe=W(P,de,"hex");return Pe.create=function(Me){return new E(P,de,Me)},Pe.update=function(Me,Oe){return Pe.create(Oe).update(Me)},ee(Pe,W,P,de)},j=function(P,de){var Pe=C[P],Me=X(P,de,"hex");return Me.create=function(Oe,K,te){return!K&&!te?d["shake"+P].create(Oe):new E(P,de,Oe).bytepad([K,te],Pe)},Me.update=function(Oe,K,te,re){return Me.create(K,te,re).update(Oe)},ee(Me,X,P,de)},g=function(P,de){var Pe=C[P],Me=ae(P,de,"hex");return Me.create=function(Oe,K,te){return new D(P,de,K).bytepad(["KMAC",te],Pe).bytepad([Oe],Pe)},Me.update=function(Oe,K,te,re){return Me.create(Oe,te,re).update(K)},ee(Me,ae,P,de)},b=[{name:"keccak",padding:h,bits:v,createMethod:Q},{name:"sha3",padding:y,bits:v,createMethod:Q},{name:"shake",padding:f,bits:S,createMethod:fe},{name:"cshake",padding:l,bits:S,createMethod:j},{name:"kmac",padding:l,bits:S,createMethod:g}],d={},p=[],A=0;A<b.length;++A)for(var M=b[A],N=M.bits,I=0;I<N.length;++I){var m=M.name+"_"+N[I];if(p.push(m),d[m]=M.createMethod(N[I],M.padding),M.name!=="sha3"){var x=M.name+N[I];p.push(x),d[x]=d[m]}}function E(P,de,Pe){this.blocks=[],this.s=[],this.padding=de,this.outputBits=Pe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(P<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Pe>>5,this.extraBytes=(Pe&31)>>3;for(var Me=0;Me<50;++Me)this.s[Me]=0}E.prototype.update=function(P){if(this.finalized)throw new Error(t);var de,Pe=typeof P;if(Pe!=="string"){if(Pe==="object"){if(P===null)throw new Error(e);if(u&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!u||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);de=!0}for(var Me=this.blocks,Oe=this.byteCount,K=P.length,te=this.blockCount,re=0,we=this.s,ge,xe;re<K;){if(this.reset)for(this.reset=!1,Me[0]=this.block,ge=1;ge<te+1;++ge)Me[ge]=0;if(de)for(ge=this.start;re<K&&ge<Oe;++re)Me[ge>>2]|=P[re]<<w[ge++&3];else for(ge=this.start;re<K&&ge<Oe;++re)xe=P.charCodeAt(re),xe<128?Me[ge>>2]|=xe<<w[ge++&3]:xe<2048?(Me[ge>>2]|=(192|xe>>6)<<w[ge++&3],Me[ge>>2]|=(128|xe&63)<<w[ge++&3]):xe<55296||xe>=57344?(Me[ge>>2]|=(224|xe>>12)<<w[ge++&3],Me[ge>>2]|=(128|xe>>6&63)<<w[ge++&3],Me[ge>>2]|=(128|xe&63)<<w[ge++&3]):(xe=65536+((xe&1023)<<10|P.charCodeAt(++re)&1023),Me[ge>>2]|=(240|xe>>18)<<w[ge++&3],Me[ge>>2]|=(128|xe>>12&63)<<w[ge++&3],Me[ge>>2]|=(128|xe>>6&63)<<w[ge++&3],Me[ge>>2]|=(128|xe&63)<<w[ge++&3]);if(this.lastByteIndex=ge,ge>=Oe){for(this.start=ge-Oe,this.block=Me[te],ge=0;ge<te;++ge)we[ge]^=Me[ge];z(we),this.reset=!0}else this.start=ge}return this},E.prototype.encode=function(P,de){var Pe=P&255,Me=1,Oe=[Pe];for(P=P>>8,Pe=P&255;Pe>0;)Oe.unshift(Pe),P=P>>8,Pe=P&255,++Me;return de?Oe.push(Me):Oe.unshift(Me),this.update(Oe),Oe.length},E.prototype.encodeString=function(P){var de,Pe=typeof P;if(Pe!=="string"){if(Pe==="object"){if(P===null)throw new Error(e);if(u&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!u||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);de=!0}var Me=0,Oe=P.length;if(de)Me=Oe;else for(var K=0;K<P.length;++K){var te=P.charCodeAt(K);te<128?Me+=1:te<2048?Me+=2:te<55296||te>=57344?Me+=3:(te=65536+((te&1023)<<10|P.charCodeAt(++K)&1023),Me+=4)}return Me+=this.encode(Me*8),this.update(P),Me},E.prototype.bytepad=function(P,de){for(var Pe=this.encode(de),Me=0;Me<P.length;++Me)Pe+=this.encodeString(P[Me]);var Oe=de-Pe%de,K=[];return K.length=Oe,this.update(K),this},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var P=this.blocks,de=this.lastByteIndex,Pe=this.blockCount,Me=this.s;if(P[de>>2]|=this.padding[de&3],this.lastByteIndex===this.byteCount)for(P[0]=P[Pe],de=1;de<Pe+1;++de)P[de]=0;for(P[Pe-1]|=2147483648,de=0;de<Pe;++de)Me[de]^=P[de];z(Me)}},E.prototype.toString=E.prototype.hex=function(){this.finalize();for(var P=this.blockCount,de=this.s,Pe=this.outputBlocks,Me=this.extraBytes,Oe=0,K=0,te="",re;K<Pe;){for(Oe=0;Oe<P&&K<Pe;++Oe,++K)re=de[Oe],te+=c[re>>4&15]+c[re&15]+c[re>>12&15]+c[re>>8&15]+c[re>>20&15]+c[re>>16&15]+c[re>>28&15]+c[re>>24&15];K%P===0&&(z(de),Oe=0)}return Me&&(re=de[Oe],te+=c[re>>4&15]+c[re&15],Me>1&&(te+=c[re>>12&15]+c[re>>8&15]),Me>2&&(te+=c[re>>20&15]+c[re>>16&15])),te},E.prototype.arrayBuffer=function(){this.finalize();var P=this.blockCount,de=this.s,Pe=this.outputBlocks,Me=this.extraBytes,Oe=0,K=0,te=this.outputBits>>3,re;Me?re=new ArrayBuffer(Pe+1<<2):re=new ArrayBuffer(te);for(var we=new Uint32Array(re);K<Pe;){for(Oe=0;Oe<P&&K<Pe;++Oe,++K)we[K]=de[Oe];K%P===0&&z(de)}return Me&&(we[Oe]=de[Oe],re=re.slice(0,te)),re},E.prototype.buffer=E.prototype.arrayBuffer,E.prototype.digest=E.prototype.array=function(){this.finalize();for(var P=this.blockCount,de=this.s,Pe=this.outputBlocks,Me=this.extraBytes,Oe=0,K=0,te=[],re,we;K<Pe;){for(Oe=0;Oe<P&&K<Pe;++Oe,++K)re=K<<2,we=de[Oe],te[re]=we&255,te[re+1]=we>>8&255,te[re+2]=we>>16&255,te[re+3]=we>>24&255;K%P===0&&z(de)}return Me&&(re=K<<2,we=de[Oe],te[re]=we&255,Me>1&&(te[re+1]=we>>8&255),Me>2&&(te[re+2]=we>>16&255)),te};function D(P,de,Pe){E.call(this,P,de,Pe)}D.prototype=new E,D.prototype.finalize=function(){return this.encode(this.outputBits,!0),E.prototype.finalize.call(this)};var z=function(P){var de,Pe,Me,Oe,K,te,re,we,ge,xe,$e,Ae,F,G,ne,ye,Ne,ke,Ke,Ze,nt,U,R,O,oe,Ie,Le,Ue,ct,gt,it,ot,bt,mt,$t,Ft,It,yt,Ct,wt,At,Qt,Mt,kt,Xt,Pt,er,Wt,Et,Kt,tr,St,Ht,qt,_t,rr,Vt,Gt,Gr,Zr,$r,zr,kr;for(Me=0;Me<48;Me+=2)Oe=P[0]^P[10]^P[20]^P[30]^P[40],K=P[1]^P[11]^P[21]^P[31]^P[41],te=P[2]^P[12]^P[22]^P[32]^P[42],re=P[3]^P[13]^P[23]^P[33]^P[43],we=P[4]^P[14]^P[24]^P[34]^P[44],ge=P[5]^P[15]^P[25]^P[35]^P[45],xe=P[6]^P[16]^P[26]^P[36]^P[46],$e=P[7]^P[17]^P[27]^P[37]^P[47],Ae=P[8]^P[18]^P[28]^P[38]^P[48],F=P[9]^P[19]^P[29]^P[39]^P[49],de=Ae^(te<<1|re>>>31),Pe=F^(re<<1|te>>>31),P[0]^=de,P[1]^=Pe,P[10]^=de,P[11]^=Pe,P[20]^=de,P[21]^=Pe,P[30]^=de,P[31]^=Pe,P[40]^=de,P[41]^=Pe,de=Oe^(we<<1|ge>>>31),Pe=K^(ge<<1|we>>>31),P[2]^=de,P[3]^=Pe,P[12]^=de,P[13]^=Pe,P[22]^=de,P[23]^=Pe,P[32]^=de,P[33]^=Pe,P[42]^=de,P[43]^=Pe,de=te^(xe<<1|$e>>>31),Pe=re^($e<<1|xe>>>31),P[4]^=de,P[5]^=Pe,P[14]^=de,P[15]^=Pe,P[24]^=de,P[25]^=Pe,P[34]^=de,P[35]^=Pe,P[44]^=de,P[45]^=Pe,de=we^(Ae<<1|F>>>31),Pe=ge^(F<<1|Ae>>>31),P[6]^=de,P[7]^=Pe,P[16]^=de,P[17]^=Pe,P[26]^=de,P[27]^=Pe,P[36]^=de,P[37]^=Pe,P[46]^=de,P[47]^=Pe,de=xe^(Oe<<1|K>>>31),Pe=$e^(K<<1|Oe>>>31),P[8]^=de,P[9]^=Pe,P[18]^=de,P[19]^=Pe,P[28]^=de,P[29]^=Pe,P[38]^=de,P[39]^=Pe,P[48]^=de,P[49]^=Pe,G=P[0],ne=P[1],Pt=P[11]<<4|P[10]>>>28,er=P[10]<<4|P[11]>>>28,Ue=P[20]<<3|P[21]>>>29,ct=P[21]<<3|P[20]>>>29,Zr=P[31]<<9|P[30]>>>23,$r=P[30]<<9|P[31]>>>23,Qt=P[40]<<18|P[41]>>>14,Mt=P[41]<<18|P[40]>>>14,mt=P[2]<<1|P[3]>>>31,$t=P[3]<<1|P[2]>>>31,ye=P[13]<<12|P[12]>>>20,Ne=P[12]<<12|P[13]>>>20,Wt=P[22]<<10|P[23]>>>22,Et=P[23]<<10|P[22]>>>22,gt=P[33]<<13|P[32]>>>19,it=P[32]<<13|P[33]>>>19,zr=P[42]<<2|P[43]>>>30,kr=P[43]<<2|P[42]>>>30,qt=P[5]<<30|P[4]>>>2,_t=P[4]<<30|P[5]>>>2,Ft=P[14]<<6|P[15]>>>26,It=P[15]<<6|P[14]>>>26,ke=P[25]<<11|P[24]>>>21,Ke=P[24]<<11|P[25]>>>21,Kt=P[34]<<15|P[35]>>>17,tr=P[35]<<15|P[34]>>>17,ot=P[45]<<29|P[44]>>>3,bt=P[44]<<29|P[45]>>>3,O=P[6]<<28|P[7]>>>4,oe=P[7]<<28|P[6]>>>4,rr=P[17]<<23|P[16]>>>9,Vt=P[16]<<23|P[17]>>>9,yt=P[26]<<25|P[27]>>>7,Ct=P[27]<<25|P[26]>>>7,Ze=P[36]<<21|P[37]>>>11,nt=P[37]<<21|P[36]>>>11,St=P[47]<<24|P[46]>>>8,Ht=P[46]<<24|P[47]>>>8,kt=P[8]<<27|P[9]>>>5,Xt=P[9]<<27|P[8]>>>5,Ie=P[18]<<20|P[19]>>>12,Le=P[19]<<20|P[18]>>>12,Gt=P[29]<<7|P[28]>>>25,Gr=P[28]<<7|P[29]>>>25,wt=P[38]<<8|P[39]>>>24,At=P[39]<<8|P[38]>>>24,U=P[48]<<14|P[49]>>>18,R=P[49]<<14|P[48]>>>18,P[0]=G^~ye&ke,P[1]=ne^~Ne&Ke,P[10]=O^~Ie&Ue,P[11]=oe^~Le&ct,P[20]=mt^~Ft&yt,P[21]=$t^~It&Ct,P[30]=kt^~Pt&Wt,P[31]=Xt^~er&Et,P[40]=qt^~rr&Gt,P[41]=_t^~Vt&Gr,P[2]=ye^~ke&Ze,P[3]=Ne^~Ke&nt,P[12]=Ie^~Ue&gt,P[13]=Le^~ct&it,P[22]=Ft^~yt&wt,P[23]=It^~Ct&At,P[32]=Pt^~Wt&Kt,P[33]=er^~Et&tr,P[42]=rr^~Gt&Zr,P[43]=Vt^~Gr&$r,P[4]=ke^~Ze&U,P[5]=Ke^~nt&R,P[14]=Ue^~gt&ot,P[15]=ct^~it&bt,P[24]=yt^~wt&Qt,P[25]=Ct^~At&Mt,P[34]=Wt^~Kt&St,P[35]=Et^~tr&Ht,P[44]=Gt^~Zr&zr,P[45]=Gr^~$r&kr,P[6]=Ze^~U&G,P[7]=nt^~R&ne,P[16]=gt^~ot&O,P[17]=it^~bt&oe,P[26]=wt^~Qt&mt,P[27]=At^~Mt&$t,P[36]=Kt^~St&kt,P[37]=tr^~Ht&Xt,P[46]=Zr^~zr&qt,P[47]=$r^~kr&_t,P[8]=U^~G&ye,P[9]=R^~ne&Ne,P[18]=ot^~O&Ie,P[19]=bt^~oe&Le,P[28]=Qt^~mt&Ft,P[29]=Mt^~$t&It,P[38]=St^~kt&Pt,P[39]=Ht^~Xt&er,P[48]=zr^~qt&rr,P[49]=kr^~_t&Vt,P[0]^=_[Me],P[1]^=_[Me+1]};if(o)r.exports=d;else for(A=0;A<p.length;++A)i[p[A]]=d[p[A]]})()})(Z8);var b$=Z8.exports;const m$=es(b$);function lr(r){return"0x"+m$.keccak_256(tt(r))}const v$=Object.freeze(Object.defineProperty({__proto__:null,keccak256:lr},Symbol.toStringTag,{value:"Module"})),y$="rlp/5.8.0",Wi=new Re(y$);function Uy(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function qy(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function J8(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(J8(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=Uy(n.length);return i.unshift(247+i.length),i.concat(n)}Vo(r)||Wi.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(tt(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Uy(e.length);return t.unshift(183+t.length),t.concat(e)}function Ia(r){return st(J8(r))}function jy(r,e,t,n){const i=[];for(;t<e+1+n;){const s=Y8(r,t);i.push(s.result),t+=s.consumed,t>e+1+n&&Wi.throwError("child data too short",Re.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Y8(r,e){if(r.length===0&&Wi.throwError("data too short",Re.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&Wi.throwError("data short segment too short",Re.errors.BUFFER_OVERRUN,{});const n=qy(r,e+1,t);return e+1+t+n>r.length&&Wi.throwError("data long segment too short",Re.errors.BUFFER_OVERRUN,{}),jy(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&Wi.throwError("data array too short",Re.errors.BUFFER_OVERRUN,{}),jy(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&Wi.throwError("data array too short",Re.errors.BUFFER_OVERRUN,{});const n=qy(r,e+1,t);e+1+t+n>r.length&&Wi.throwError("data array too short",Re.errors.BUFFER_OVERRUN,{});const i=st(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:i}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&Wi.throwError("data too short",Re.errors.BUFFER_OVERRUN,{});const n=st(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:st(r[e])}}function Xd(r){const e=tt(r),t=Y8(e,0);return t.consumed!==e.length&&Wi.throwArgumentError("invalid rlp data","data",r),t.result}const x$=Object.freeze(Object.defineProperty({__proto__:null,decode:Xd,encode:Ia},Symbol.toStringTag,{value:"Module"})),w$="address/5.8.0",Ls=new Re(w$);function zy(r){Lt(r,20)||Ls.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=tt(lr(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const A$=9007199254740991;function _$(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const B1={};for(let r=0;r<10;r++)B1[String(r)]=String(r);for(let r=0;r<26;r++)B1[String.fromCharCode(65+r)]=String(10+r);const Wy=Math.floor(_$(A$));function Q8(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>B1[n]).join("");for(;e.length>=Wy;){let n=e.substring(0,Wy);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function dr(r){let e=null;if(typeof r!="string"&&Ls.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=zy(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Ls.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==Q8(r)&&Ls.throwArgumentError("bad icap checksum","address",r),e=F8(r.substring(4));e.length<40;)e="0"+e;e=zy("0x"+e)}else Ls.throwArgumentError("invalid address","address",r);return e}function E$(r){try{return dr(r),!0}catch{}return!1}function S$(r){let e=U8(dr(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Q8("XE00"+e)+e}function e0(r){let e=null;try{e=dr(r.from)}catch{Ls.throwArgumentError("missing from address","transaction",r)}const t=Ri(tt(et.from(r.nonce).toHexString()));return dr(Or(lr(Ia([e,t])),12))}function I$(r,e,t){return ki(e)!==32&&Ls.throwArgumentError("salt must be 32 bytes","salt",e),ki(t)!==32&&Ls.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),dr(Or(lr(gr(["0xff",dr(r),e,t])),12))}class M$ extends _s{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=dr(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return dr(br(e.readValue().toHexString(),20))}}class P$ extends _s{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const yo=new Re(gc);function X8(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let u={};n=e.map(c=>{const f=c.localName;return f||yo.throwError("cannot encode object for signature with missing names",Re.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:t}),u[f]&&yo.throwError("cannot encode object for signature with duplicate names",Re.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:t}),u[f]=!0,t[f]})}else yo.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&yo.throwArgumentError("types/value length mismatch","tuple",t);let i=new Kg(r.wordSize),s=new Kg(r.wordSize),a=[];e.forEach((u,c)=>{let f=n[c];if(u.dynamic){let l=s.length;u.encode(s,f);let h=i.writeUpdatableValue();a.push(y=>{h(y+l)})}else u.encode(i,f)}),a.forEach(u=>{u(i.length)});let o=r.appendWriter(i);return o+=r.appendWriter(s),o}function e5(r,e){let t=[],n=r.subReader(0);e.forEach(s=>{let a=null;if(s.dynamic){let o=r.readValue(),u=n.subReader(o.toNumber());try{a=s.decode(u)}catch(c){if(c.code===Re.errors.BUFFER_OVERRUN)throw c;a=c,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(r)}catch(o){if(o.code===Re.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=s.name,a.name=s.localName,a.type=s.type}a!=null&&t.push(a)});const i=e.reduce((s,a)=>{const o=a.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});e.forEach((s,a)=>{let o=s.localName;if(!o||i[o]!==1||(o==="length"&&(o="_length"),t[o]!=null))return;const u=t[a];u instanceof Error?Object.defineProperty(t,o,{enumerable:!0,get:()=>{throw u}}):t[o]=u});for(let s=0;s<t.length;s++){const a=t[s];a instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(t)}class R$ extends _s{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),yo.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return X8(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&yo.throwError("insufficient data length",Re.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new P$(this.coder));return e.coerce(this.name,e5(e,n))}}class k$ extends _s{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class t5 extends _s{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=tt(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class N$ extends t5{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,st(super.decode(e)))}}class O$ extends _s{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=tt(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,st(e.readBytes(this.size)))}}class C$ extends _s{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const r5="0x0000000000000000000000000000000000000000",n5=et.from(-1),L1=et.from(0),i5=et.from(1),T$=et.from(2),D$=et.from("1000000000000000000"),s5=et.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),B$=et.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),L$=et.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),$1="0x0000000000000000000000000000000000000000000000000000000000000000",$$="Ξ",a5=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:r5,EtherSymbol:$$,HashZero:$1,MaxInt256:L$,MaxUint256:s5,MinInt256:B$,NegativeOne:n5,One:i5,Two:T$,WeiPerEther:D$,Zero:L1},Symbol.toStringTag,{value:"Module"}));class F$ extends _s{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=et.from(t),i=s5.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(i5).mul(n5)))&&this._throwError("value out-of-bounds",t)}else(n.lt(L1)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const U$="strings/5.8.0",o5=new Re(U$);var Ni;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Ni||(Ni={}));var Nn;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(Nn||(Nn={}));function q$(r,e,t,n,i){return o5.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function u5(r,e,t,n,i){if(r===Nn.BAD_PREFIX||r===Nn.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)s++;return s}return r===Nn.OVERRUN?t.length-e-1:0}function j$(r,e,t,n,i){return r===Nn.OVERLONG?(n.push(i),0):(n.push(65533),u5(r,e,t))}const F1=Object.freeze({error:q$,ignore:u5,replace:j$});function U1(r,e){e==null&&(e=F1.error),r=tt(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(!(i>>7)){t.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(Nn.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(Nn.BAD_PREFIX,n-1,r,t);continue}if(n-1+s>=r.length){n+=e(Nn.OVERRUN,n-1,r,t);continue}let o=i&(1<<8-s-1)-1;for(let u=0;u<s;u++){let c=r[n];if((c&192)!=128){n+=e(Nn.MISSING_CONTINUE,n,r,t),o=null;break}o=o<<6|c&63,n++}if(o!==null){if(o>1114111){n+=e(Nn.OUT_OF_RANGE,n-1-s,r,t,o);continue}if(o>=55296&&o<=57343){n+=e(Nn.UTF16_SURROGATE,n-1-s,r,t,o);continue}if(o<=a){n+=e(Nn.OVERLONG,n-1-s,r,t,o);continue}t.push(o)}}return t}function Cr(r,e=Ni.current){e!=Ni.current&&(o5.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((i&1023)<<10)+(s&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return tt(t)}function xh(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function c5(r,e){return'"'+U1(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?xh(t):(t-=65536,xh((t>>10&1023)+55296)+xh((t&1023)+56320))}).join("")+'"'}function Hg(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Vs(r,e){return Hg(U1(r,e))}function Gu(r,e=Ni.current){return U1(Cr(r,e))}function f5(r){const e=Cr(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return st(gr([e,$1]).slice(0,32))}function l5(r){const e=tt(r);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return Vs(e.slice(0,t))}function z$(r){if(r.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function q1(r,e){e||(e=function(i){return[parseInt(i,16)]});let t=0,n={};return r.split(",").forEach(i=>{let s=i.split(":");t+=parseInt(s[0],16),n[t]=e(s[1])}),n}function d5(r){let e=0;return r.split(",").map(t=>{let n=t.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function j1(r,e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];if(t+=i.l,r>=t&&r<=t+i.h&&(r-t)%(i.d||1)===0){if(i.e&&i.e.indexOf(r-t)!==-1)continue;return i}}return null}const W$=d5("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),K$="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),H$=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],V$=q1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),G$=q1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Z$=q1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",z$),J$=d5("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Y$(r){return r.reduce((e,t)=>(t.forEach(n=>{e.push(n)}),e),[])}function Q$(r){return!!j1(r,W$)}function X$(r){let e=j1(r,H$);if(e)return[r+e.s];let t=V$[r];if(t)return t;let n=G$[r];if(n)return[r+n[0]];let i=Z$[r];return i||null}function eF(r){return!!j1(r,J$)}function h5(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=Gu(r);e=Y$(e.map(n=>{if(K$.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=X$(n);return i||[n]})),e=Gu(Hg(e),Ni.NFKC),e.forEach(n=>{if(eF(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(Q$(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=Hg(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}const tF=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return Ni},Utf8ErrorFuncs:F1,get Utf8ErrorReason(){return Nn},_toEscapedUtf8String:c5,formatBytes32String:f5,nameprep:h5,parseBytes32String:l5,toUtf8Bytes:Cr,toUtf8CodePoints:Gu,toUtf8String:Vs},Symbol.toStringTag,{value:"Module"}));class rF extends t5{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Cr(t))}decode(e){return Vs(super.decode(e))}}class jc extends _s{constructor(e,t){let n=!1;const i=[];e.forEach(a=>{a.dynamic&&(n=!0),i.push(a.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return X8(e,this.coders,t)}decode(e){return e.coerce(this.name,e5(e,this.coders))}}const zc=new Re(gc),nF=new RegExp(/^bytes([0-9]*)$/),iF=new RegExp(/^(u?int)([0-9]*)$/);class p5{constructor(e){Ve(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new M$(e.name);case"bool":return new k$(e.name);case"string":return new rF(e.name);case"bytes":return new N$(e.name);case"array":return new R$(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new jc((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new C$(e.name)}let t=e.type.match(iF);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&zc.throwArgumentError("invalid "+t[1]+" bit length","param",e),new F$(n/8,t[1]==="int",e.name)}if(t=e.type.match(nF),t){let n=parseInt(t[1]);return(n===0||n>32)&&zc.throwArgumentError("invalid bytes length","param",e),new O$(n,e.name)}return zc.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Ed(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Kg(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(Vr.from(i)));return new jc(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&zc.throwError("types/values length mismatch",Re.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(a=>this._getCoder(Vr.from(a))),i=new jc(n,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,n){const i=e.map(a=>this._getCoder(Vr.from(a)));return new jc(i,"_").decode(this._getReader(tt(t),n))}}const g5=new p5;function $s(r){return lr(Cr(r))}const b5="hash/5.8.0";function z1(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return tt(e)}function W1(r){r=tt(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}const sF=Object.freeze(Object.defineProperty({__proto__:null,decode:z1,encode:W1},Symbol.toStringTag,{value:"Module"}));function m5(r,e){e==null&&(e=1);const t=[],n=t.forEach,i=function(s,a){n.call(s,function(o){a>0&&Array.isArray(o)?i(o,a-1):t.push(o)})};return i(r,e),t}function aF(r){const e={};for(let t=0;t<r.length;t++){const n=r[t];e[n[0]]=n[1]}return e}function oF(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),i=1,s=[0,1];for(let W=1;W<n;W++)s.push(i+=t());let a=t(),o=e;e+=a;let u=0,c=0;function f(){return u==0&&(c=c<<8|r[e++],u=8),c>>--u&1}const l=31,h=Math.pow(2,l),y=h>>>1,w=y>>1,_=h-1;let v=0;for(let W=0;W<l;W++)v=v<<1|f();let S=[],k=0,C=h;for(;;){let W=Math.floor(((v-k+1)*i-1)/C),X=0,ae=n;for(;ae-X>1;){let fe=X+ae>>>1;W<s[fe]?ae=fe:X=fe}if(X==0)break;S.push(X);let ee=k+Math.floor(C*s[X]/i),Q=k+Math.floor(C*s[X+1]/i)-1;for(;!((ee^Q)&y);)v=v<<1&_|f(),ee=ee<<1&_,Q=Q<<1&_|1;for(;ee&~Q&w;)v=v&y|v<<1&_>>>1|f(),ee=ee<<1^y,Q=(Q^y)<<1|y|1;k=ee,C=1+Q-ee}let $=n-4;return S.map(W=>{switch(W-$){case 3:return $+65792+(r[o++]<<16|r[o++]<<8|r[o++]);case 2:return $+256+(r[o++]<<8|r[o++]);case 1:return $+r[o++];default:return W-1}})}function uF(r){let e=0;return()=>r[e++]}function cF(r){return uF(oF(r))}function fF(r){return r&1?~r>>1:r>>1}function lF(r,e){let t=Array(r);for(let n=0;n<r;n++)t[n]=1+e();return t}function Ky(r,e){let t=Array(r);for(let n=0,i=-1;n<r;n++)t[n]=i+=1+e();return t}function dF(r,e){let t=Array(r);for(let n=0,i=0;n<r;n++)t[n]=i+=fF(e());return t}function Sd(r,e){let t=Ky(r(),r),n=r(),i=Ky(n,r),s=lF(n,r);for(let a=0;a<n;a++)for(let o=0;o<s[a];o++)t.push(i[a]+o);return e?t.map(a=>e[a]):t}function hF(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(gF(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(bF(t,r))}return aF(m5(e))}function pF(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function v5(r,e,t){let n=Array(r).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)dF(r,t).forEach((s,a)=>n[a].push(s));return n}function gF(r,e){let t=1+e(),n=e(),i=pF(e),s=v5(i.length,1+r,e);return m5(s.map((a,o)=>{const u=a[0],c=a.slice(1);return Array(i[o]).fill(void 0).map((f,l)=>{let h=l*n;return[u+l*t,c.map(y=>y+h)]})}))}function bF(r,e){let t=1+e();return v5(t,1+r,e).map(i=>[i[0],i.slice(1)])}function mF(r){let e=Sd(r).sort((n,i)=>n-i);return t();function t(){let n=[];for(;;){let c=Sd(r,e);if(c.length==0)break;n.push({set:new Set(c),node:t()})}n.sort((c,f)=>f.set.size-c.set.size);let i=r(),s=i%3;i=i/3|0;let a=!!(i&1);i>>=1;let o=i==1,u=i==2;return{branches:n,valid:s,fe0f:a,save:o,check:u}}}function vF(){return cF(z1("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const t0=vF(),yF=new Set(Sd(t0)),xF=new Set(Sd(t0)),wF=hF(t0),AF=mF(t0),Hy=45,Vy=95;function y5(r){return Gu(r)}function _F(r){return r.filter(e=>e!=65039)}function x5(r){for(let e of r.split(".")){let t=y5(e);try{for(let n=t.lastIndexOf(Vy)-1;n>=0;n--)if(t[n]!==Vy)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(n=>n<128)&&t[2]===Hy&&t[3]===Hy)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return r}function EF(r){return x5(SF(r,_F))}function SF(r,e){let t=y5(r).reverse(),n=[];for(;t.length;){let i=MF(t);if(i){n.push(...e(i));continue}let s=t.pop();if(yF.has(s)){n.push(s);continue}if(xF.has(s))continue;let a=wF[s];if(a){n.push(...a);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return x5(IF(String.fromCodePoint(...n)))}function IF(r){return r.normalize("NFC")}function MF(r,e){var t;let n=AF,i,s,a=[],o=r.length;for(;o;){let u=r[--o];if(n=(t=n.branches.find(c=>c.set.has(u)))===null||t===void 0?void 0:t.node,!n)break;if(n.save)s=u;else if(n.check&&u===s)break;a.push(u),n.fe0f&&(a.push(65039),o>0&&r[o-1]==65039&&o--),n.valid&&(i=a.slice(),n.valid==2&&i.splice(1,1),r.length=o)}return i}const PF=new Re(b5),w5=new Uint8Array(32);w5.fill(0);function Gy(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function K1(r){const e=Cr(EF(r)),t=[];if(r.length===0)return t;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(Gy(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return t.push(Gy(e.slice(n))),t}function RF(r){try{return K1(r).length!==0}catch{}return!1}function Ru(r){typeof r!="string"&&PF.throwArgumentError("invalid ENS name; not a string","name",r);let e=w5;const t=K1(r);for(;t.length;)e=lr(gr([e,lr(t.pop())]));return st(e)}function A5(r){return st(gr(K1(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const kF=`Ethereum Signed Message:
`;function H1(r){return typeof r=="string"&&(r=Cr(r)),lr(gr([Cr(kF),Cr(String(r.length)),r]))}var NF=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const Pr=new Re(b5),_5=new Uint8Array(32);_5.fill(0);const OF=et.from(-1),E5=et.from(0),S5=et.from(1),CF=et.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function TF(r){const e=tt(r),t=e.length%32;return t?En([e,_5.slice(t)]):st(e)}const DF=br(S5.toHexString(),32),BF=br(E5.toHexString(),32),Zy={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},wh=["name","version","chainId","verifyingContract","salt"];function Jy(r){return function(e){return typeof e!="string"&&Pr.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const LF={name:Jy("name"),version:Jy("version"),chainId:function(r){try{return et.from(r).toString()}catch{}return Pr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return dr(r).toLowerCase()}catch{}return Pr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=tt(r);if(e.length!==32)throw new Error("bad length");return st(e)}catch{}return Pr.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function Ah(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Pr.throwArgumentError("invalid numeric width","type",r);const i=CF.mask(t?n-1:n),s=t?i.add(S5).mul(OF):E5;return function(a){const o=et.from(a);return(o.lt(s)||o.gt(i))&&Pr.throwArgumentError(`value out-of-bounds for ${r}`,"value",a),br(o.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&Pr.throwArgumentError("invalid bytes width","type",r),function(n){return tt(n).length!==t&&Pr.throwArgumentError(`invalid length for ${r}`,"value",n),TF(n)}}}switch(r){case"address":return function(e){return br(dr(e),32)};case"bool":return function(e){return e?DF:BF};case"bytes":return function(e){return lr(e)};case"string":return function(e){return $s(e)}}return null}function Yy(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class dn{constructor(e){Ve(this,"types",Object.freeze(In(e))),Ve(this,"_encoderCache",{}),Ve(this,"_types",{});const t={},n={},i={};Object.keys(e).forEach(o=>{t[o]={},n[o]=[],i[o]={}});for(const o in e){const u={};e[o].forEach(c=>{u[c.name]&&Pr.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(o)}`,"types",e),u[c.name]=!0;const f=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];f===o&&Pr.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e),!Ah(f)&&(n[f]||Pr.throwArgumentError(`unknown type ${JSON.stringify(f)}`,"types",e),n[f].push(o),t[o][f]=!0)})}const s=Object.keys(n).filter(o=>n[o].length===0);s.length===0?Pr.throwArgumentError("missing primary type","types",e):s.length>1&&Pr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),Ve(this,"primaryType",s[0]);function a(o,u){u[o]&&Pr.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),u[o]=!0,Object.keys(t[o]).forEach(c=>{n[c]&&(a(c,u),Object.keys(u).forEach(f=>{i[f][c]=!0}))}),delete u[o]}a(this.primaryType,{});for(const o in i){const u=Object.keys(i[o]);u.sort(),this._types[o]=Yy(o,e[o])+u.map(c=>Yy(c,e[c])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=Ah(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i),a=parseInt(t[3]);return o=>{a>=0&&o.length!==a&&Pr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let u=o.map(s);return this._types[i]&&(u=u.map(lr)),lr(En(u))}}const n=this.types[e];if(n){const i=$s(this._types[e]);return s=>{const a=n.map(({name:o,type:u})=>{const c=this.getEncoder(u)(s[o]);return this._types[u]?lr(c):c});return a.unshift(i),En(a)}}return Pr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Pr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return lr(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Ah(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const a=i[1],o=parseInt(i[3]);return o>=0&&t.length!==o&&Pr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(u=>this._visit(a,u,n))}const s=this.types[e];return s?s.reduce((a,{name:o,type:u})=>(a[o]=this._visit(u,t[o],n),a),{}):Pr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new dn(e)}static getPrimaryType(e){return dn.from(e).primaryType}static hashStruct(e,t,n){return dn.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const i=Zy[n];i||Pr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>wh.indexOf(n.name)-wh.indexOf(i.name)),dn.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return En(["0x1901",dn.hashDomain(e),dn.from(t).hash(n)])}static hash(e,t,n){return lr(dn.encode(e,t,n))}static resolveNames(e,t,n,i){return NF(this,void 0,void 0,function*(){e=wr(e);const s={};e.verifyingContract&&!Lt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=dn.from(t);a.visit(n,(o,u)=>(o==="address"&&!Lt(u,20)&&(s[u]="0x"),u));for(const o in s)s[o]=yield i(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(o,u)=>o==="address"&&s[u]?s[u]:u),{domain:e,value:n}})}static getPayload(e,t,n){dn.hashDomain(e);const i={},s=[];wh.forEach(u=>{const c=e[u];c!=null&&(i[u]=LF[u](c),s.push({name:u,type:Zy[u]}))});const a=dn.from(t),o=wr(t);return o.EIP712Domain?Pr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):o.EIP712Domain=s,a.encode(n),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(n,(u,c)=>{if(u.match(/^bytes(\d*)/))return st(tt(c));if(u.match(/^u?int/))return et.from(c).toString();switch(u){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Pr.throwArgumentError("invalid string","value",c),c}return Pr.throwArgumentError("unsupported type","type",u)})}}}const Mr=new Re(gc);class I5 extends Hs{}class M5 extends Hs{}class $F extends Hs{}class Id extends Hs{static isIndexed(e){return!!(e&&e._isIndexed)}}const FF={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Qy(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class Vg{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,Ve(this,"fragments",t.map(n=>Ji.from(n)).filter(n=>n!=null)),Ve(this,"_abiCoder",an(new.target,"getAbiCoder")()),Ve(this,"functions",{}),Ve(this,"errors",{}),Ve(this,"events",{}),Ve(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Mr.warn("duplicate definition - constructor");return}Ve(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Mr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||Ve(this,"deploy",Ei.from({payable:!1,type:"constructor"})),Ve(this,"_isInterface",!0)}format(e){e||(e=nr.full),e===nr.sighash&&Mr.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===nr.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return g5}static getAddress(e){return dr(e)}static getSighash(e){return Or($s(e.format()),0,4)}static getEventTopic(e){return $s(e.format())}getFunction(e){if(Lt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Mr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Mr.throwArgumentError("no matching function","name",n):i.length>1&&Mr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const t=this.functions[Si.fromString(e).format()];return t||Mr.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Lt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Mr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Mr.throwArgumentError("no matching event","name",n):i.length>1&&Mr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const t=this.events[Gi.fromString(e).format()];return t||Mr.throwArgumentError("no matching event","signature",e),t}getError(e){if(Lt(e)){const n=an(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Mr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Mr.throwArgumentError("no matching error","name",n):i.length>1&&Mr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const t=this.errors[Si.fromString(e).format()];return t||Mr.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return an(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),an(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=tt(t);return st(n.slice(0,4))!==this.getSighash(e)&&Mr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",st(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),st(gr([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=tt(t);return st(n.slice(0,4))!==this.getSighash(e)&&Mr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",st(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),st(gr([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=tt(t),i=null,s="",a=null,o=null,u=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const c=st(n.slice(0,4)),f=FF[c];if(f)a=this._abiCoder.decode(f.inputs,n.slice(4)),o=f.name,u=f.signature,f.reason&&(i=a[0]),o==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const l=this.getError(c);a=this._abiCoder.decode(l.inputs,n.slice(4)),o=l.name,u=l.format()}catch{}break}}return Mr.throwError("call revert exception"+s,Re.errors.CALL_EXCEPTION,{method:e.format(),data:st(t),errorArgs:a,errorName:o,errorSignature:u,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),st(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Mr.throwError("too many arguments for "+e.format(),Re.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,a)=>s.type==="string"?$s(a):s.type==="bytes"?lr(st(a)):(s.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),s.type.match(/^u?int/)&&(a=et.from(a).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[a]),br(st(a),32));for(t.forEach((s,a)=>{let o=e.inputs[a];if(!o.indexed){s!=null&&Mr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?Mr.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?n.push(s.map(u=>i(o,u))):n.push(i(o,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Mr.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((a,o)=>{const u=t[o];if(a.indexed)if(a.type==="string")n.push($s(u));else if(a.type==="bytes")n.push(lr(u));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([a.type],[u]))}else i.push(a),s.push(u)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let h=this.getEventTopic(e);(!Lt(n[0],32)||n[0].toLowerCase()!==h)&&Mr.throwError("fragment/topic mismatch",Re.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:n[0]}),n=n.slice(1)}let i=[],s=[],a=[];e.inputs.forEach((h,y)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(Vr.fromObject({type:"bytes32",name:h.name})),a.push(!0)):(i.push(h),a.push(!1)):(s.push(h),a.push(!1))});let o=n!=null?this._abiCoder.decode(i,gr(n)):null,u=this._abiCoder.decode(s,t,!0),c=[],f=0,l=0;e.inputs.forEach((h,y)=>{if(h.indexed)if(o==null)c[y]=new Id({_isIndexed:!0,hash:null});else if(a[y])c[y]=new Id({_isIndexed:!0,hash:o[l++]});else try{c[y]=o[l++]}catch(w){c[y]=w}else try{c[y]=u[f++]}catch(w){c[y]=w}if(h.name&&c[h.name]==null){const w=c[y];w instanceof Error?Object.defineProperty(c,h.name,{enumerable:!0,get:()=>{throw Qy(`property ${JSON.stringify(h.name)}`,w)}}):c[h.name]=w}});for(let h=0;h<c.length;h++){const y=c[h];y instanceof Error&&Object.defineProperty(c,h,{enumerable:!0,get:()=>{throw Qy(`index ${h}`,y)}})}return Object.freeze(c)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new M5({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:et.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new I5({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=st(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new $F({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const UF="abstract-provider/5.8.0";var qF=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const jF=new Re(UF);class zF extends Hs{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Ta{constructor(){jF.checkAbstract(new.target,Ta),Ve(this,"_isProvider",!0)}getFeeData(){return qF(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield Rr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=et.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const WF="abstract-signer/5.8.0";var yi=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const ii=new Re(WF),KF=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],HF=[Re.errors.INSUFFICIENT_FUNDS,Re.errors.NONCE_EXPIRED,Re.errors.REPLACEMENT_UNDERPRICED];class Es{constructor(){ii.checkAbstract(new.target,Es),Ve(this,"_isSigner",!0)}getBalance(e){return yi(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return yi(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return yi(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield Rr(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return yi(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Rr(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return yi(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return yi(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return yi(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return yi(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return yi(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)KF.indexOf(n)===-1&&ii.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=wr(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&ii.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return yi(this,void 0,void 0,function*(){const t=yield Rr(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>yi(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&ii.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),t.to.catch(i=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?ii.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&ii.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&ii.throwError("network does not support EIP-1559",Re.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):ii.throwError("failed to get consistent fee data",Re.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(HF.indexOf(i.code)>=0)throw i;return ii.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Re.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&ii.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Rr(t)})}_checkProvider(e){this.provider||ii.throwError("missing provider",Re.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class bc extends Es{constructor(e,t){super(),Ve(this,"address",e),Ve(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{ii.throwError(e,Re.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new bc(this.address,e)}}var _h={},hr={},Eh,Xy;function Da(){if(Xy)return Eh;Xy=1,Eh=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,n,i){if(t!=n)throw new Error(i||"Assertion failed: "+t+" != "+n)},Eh}var Wc={exports:{}},e2;function r0(){return e2||(e2=1,typeof Object.create=="function"?Wc.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Wc.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Wc.exports}var t2;function ts(){if(t2)return hr;t2=1;var r=Da(),e=r0();hr.inherits=e;function t(g,b){return(g.charCodeAt(b)&64512)!==55296||b<0||b+1>=g.length?!1:(g.charCodeAt(b+1)&64512)===56320}function n(g,b){if(Array.isArray(g))return g.slice();if(!g)return[];var d=[];if(typeof g=="string")if(b){if(b==="hex")for(g=g.replace(/[^a-z0-9]+/ig,""),g.length%2!==0&&(g="0"+g),A=0;A<g.length;A+=2)d.push(parseInt(g[A]+g[A+1],16))}else for(var p=0,A=0;A<g.length;A++){var M=g.charCodeAt(A);M<128?d[p++]=M:M<2048?(d[p++]=M>>6|192,d[p++]=M&63|128):t(g,A)?(M=65536+((M&1023)<<10)+(g.charCodeAt(++A)&1023),d[p++]=M>>18|240,d[p++]=M>>12&63|128,d[p++]=M>>6&63|128,d[p++]=M&63|128):(d[p++]=M>>12|224,d[p++]=M>>6&63|128,d[p++]=M&63|128)}else for(A=0;A<g.length;A++)d[A]=g[A]|0;return d}hr.toArray=n;function i(g){for(var b="",d=0;d<g.length;d++)b+=o(g[d].toString(16));return b}hr.toHex=i;function s(g){var b=g>>>24|g>>>8&65280|g<<8&16711680|(g&255)<<24;return b>>>0}hr.htonl=s;function a(g,b){for(var d="",p=0;p<g.length;p++){var A=g[p];b==="little"&&(A=s(A)),d+=u(A.toString(16))}return d}hr.toHex32=a;function o(g){return g.length===1?"0"+g:g}hr.zero2=o;function u(g){return g.length===7?"0"+g:g.length===6?"00"+g:g.length===5?"000"+g:g.length===4?"0000"+g:g.length===3?"00000"+g:g.length===2?"000000"+g:g.length===1?"0000000"+g:g}hr.zero8=u;function c(g,b,d,p){var A=d-b;r(A%4===0);for(var M=new Array(A/4),N=0,I=b;N<M.length;N++,I+=4){var m;p==="big"?m=g[I]<<24|g[I+1]<<16|g[I+2]<<8|g[I+3]:m=g[I+3]<<24|g[I+2]<<16|g[I+1]<<8|g[I],M[N]=m>>>0}return M}hr.join32=c;function f(g,b){for(var d=new Array(g.length*4),p=0,A=0;p<g.length;p++,A+=4){var M=g[p];b==="big"?(d[A]=M>>>24,d[A+1]=M>>>16&255,d[A+2]=M>>>8&255,d[A+3]=M&255):(d[A+3]=M>>>24,d[A+2]=M>>>16&255,d[A+1]=M>>>8&255,d[A]=M&255)}return d}hr.split32=f;function l(g,b){return g>>>b|g<<32-b}hr.rotr32=l;function h(g,b){return g<<b|g>>>32-b}hr.rotl32=h;function y(g,b){return g+b>>>0}hr.sum32=y;function w(g,b,d){return g+b+d>>>0}hr.sum32_3=w;function _(g,b,d,p){return g+b+d+p>>>0}hr.sum32_4=_;function v(g,b,d,p,A){return g+b+d+p+A>>>0}hr.sum32_5=v;function S(g,b,d,p){var A=g[b],M=g[b+1],N=p+M>>>0,I=(N<p?1:0)+d+A;g[b]=I>>>0,g[b+1]=N}hr.sum64=S;function k(g,b,d,p){var A=b+p>>>0,M=(A<b?1:0)+g+d;return M>>>0}hr.sum64_hi=k;function C(g,b,d,p){var A=b+p;return A>>>0}hr.sum64_lo=C;function $(g,b,d,p,A,M,N,I){var m=0,x=b;x=x+p>>>0,m+=x<b?1:0,x=x+M>>>0,m+=x<M?1:0,x=x+I>>>0,m+=x<I?1:0;var E=g+d+A+N+m;return E>>>0}hr.sum64_4_hi=$;function W(g,b,d,p,A,M,N,I){var m=b+p+M+I;return m>>>0}hr.sum64_4_lo=W;function X(g,b,d,p,A,M,N,I,m,x){var E=0,D=b;D=D+p>>>0,E+=D<b?1:0,D=D+M>>>0,E+=D<M?1:0,D=D+I>>>0,E+=D<I?1:0,D=D+x>>>0,E+=D<x?1:0;var z=g+d+A+N+m+E;return z>>>0}hr.sum64_5_hi=X;function ae(g,b,d,p,A,M,N,I,m,x){var E=b+p+M+I+x;return E>>>0}hr.sum64_5_lo=ae;function ee(g,b,d){var p=b<<32-d|g>>>d;return p>>>0}hr.rotr64_hi=ee;function Q(g,b,d){var p=g<<32-d|b>>>d;return p>>>0}hr.rotr64_lo=Q;function fe(g,b,d){return g>>>d}hr.shr64_hi=fe;function j(g,b,d){var p=g<<32-d|b>>>d;return p>>>0}return hr.shr64_lo=j,hr}var Sh={},r2;function mc(){if(r2)return Sh;r2=1;var r=ts(),e=Da();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Sh.BlockHash=t,t.prototype.update=function(i,s){if(i=r.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=r.join32(i,0,i.length-a,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},t.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},t.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,a=s-(i+this.padLength)%s,o=new Array(a+this.padLength);o[0]=128;for(var u=1;u<a;u++)o[u]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)o[u++]=0;o[u++]=0,o[u++]=0,o[u++]=0,o[u++]=0,o[u++]=i>>>24&255,o[u++]=i>>>16&255,o[u++]=i>>>8&255,o[u++]=i&255}else for(o[u++]=i&255,o[u++]=i>>>8&255,o[u++]=i>>>16&255,o[u++]=i>>>24&255,o[u++]=0,o[u++]=0,o[u++]=0,o[u++]=0,c=8;c<this.padLength;c++)o[u++]=0;return o},Sh}var ia={},Fi={},n2;function P5(){if(n2)return Fi;n2=1;var r=ts(),e=r.rotr32;function t(f,l,h,y){if(f===0)return n(l,h,y);if(f===1||f===3)return s(l,h,y);if(f===2)return i(l,h,y)}Fi.ft_1=t;function n(f,l,h){return f&l^~f&h}Fi.ch32=n;function i(f,l,h){return f&l^f&h^l&h}Fi.maj32=i;function s(f,l,h){return f^l^h}Fi.p32=s;function a(f){return e(f,2)^e(f,13)^e(f,22)}Fi.s0_256=a;function o(f){return e(f,6)^e(f,11)^e(f,25)}Fi.s1_256=o;function u(f){return e(f,7)^e(f,18)^f>>>3}Fi.g0_256=u;function c(f){return e(f,17)^e(f,19)^f>>>10}return Fi.g1_256=c,Fi}var Ih,i2;function VF(){if(i2)return Ih;i2=1;var r=ts(),e=mc(),t=P5(),n=r.rotl32,i=r.sum32,s=r.sum32_5,a=t.ft_1,o=e.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(c,o),Ih=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(l,h){for(var y=this.W,w=0;w<16;w++)y[w]=l[h+w];for(;w<y.length;w++)y[w]=n(y[w-3]^y[w-8]^y[w-14]^y[w-16],1);var _=this.h[0],v=this.h[1],S=this.h[2],k=this.h[3],C=this.h[4];for(w=0;w<y.length;w++){var $=~~(w/20),W=s(n(_,5),a($,v,S,k),C,y[w],u[$]);C=k,k=S,S=n(v,30),v=_,_=W}this.h[0]=i(this.h[0],_),this.h[1]=i(this.h[1],v),this.h[2]=i(this.h[2],S),this.h[3]=i(this.h[3],k),this.h[4]=i(this.h[4],C)},c.prototype._digest=function(l){return l==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},Ih}var Mh,s2;function R5(){if(s2)return Mh;s2=1;var r=ts(),e=mc(),t=P5(),n=Da(),i=r.sum32,s=r.sum32_4,a=r.sum32_5,o=t.ch32,u=t.maj32,c=t.s0_256,f=t.s1_256,l=t.g0_256,h=t.g1_256,y=e.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}return r.inherits(_,y),Mh=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(S,k){for(var C=this.W,$=0;$<16;$++)C[$]=S[k+$];for(;$<C.length;$++)C[$]=s(h(C[$-2]),C[$-7],l(C[$-15]),C[$-16]);var W=this.h[0],X=this.h[1],ae=this.h[2],ee=this.h[3],Q=this.h[4],fe=this.h[5],j=this.h[6],g=this.h[7];for(n(this.k.length===C.length),$=0;$<C.length;$++){var b=a(g,f(Q),o(Q,fe,j),this.k[$],C[$]),d=i(c(W),u(W,X,ae));g=j,j=fe,fe=Q,Q=i(ee,b),ee=ae,ae=X,X=W,W=i(b,d)}this.h[0]=i(this.h[0],W),this.h[1]=i(this.h[1],X),this.h[2]=i(this.h[2],ae),this.h[3]=i(this.h[3],ee),this.h[4]=i(this.h[4],Q),this.h[5]=i(this.h[5],fe),this.h[6]=i(this.h[6],j),this.h[7]=i(this.h[7],g)},_.prototype._digest=function(S){return S==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},Mh}var Ph,a2;function GF(){if(a2)return Ph;a2=1;var r=ts(),e=R5();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),Ph=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},Ph}var Rh,o2;function k5(){if(o2)return Rh;o2=1;var r=ts(),e=mc(),t=Da(),n=r.rotr64_hi,i=r.rotr64_lo,s=r.shr64_hi,a=r.shr64_lo,o=r.sum64,u=r.sum64_hi,c=r.sum64_lo,f=r.sum64_4_hi,l=r.sum64_4_lo,h=r.sum64_5_hi,y=r.sum64_5_lo,w=e.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}r.inherits(v,w),Rh=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(d,p){for(var A=this.W,M=0;M<32;M++)A[M]=d[p+M];for(;M<A.length;M+=2){var N=j(A[M-4],A[M-3]),I=g(A[M-4],A[M-3]),m=A[M-14],x=A[M-13],E=Q(A[M-30],A[M-29]),D=fe(A[M-30],A[M-29]),z=A[M-32],P=A[M-31];A[M]=f(N,I,m,x,E,D,z,P),A[M+1]=l(N,I,m,x,E,D,z,P)}},v.prototype._update=function(d,p){this._prepareBlock(d,p);var A=this.W,M=this.h[0],N=this.h[1],I=this.h[2],m=this.h[3],x=this.h[4],E=this.h[5],D=this.h[6],z=this.h[7],P=this.h[8],de=this.h[9],Pe=this.h[10],Me=this.h[11],Oe=this.h[12],K=this.h[13],te=this.h[14],re=this.h[15];t(this.k.length===A.length);for(var we=0;we<A.length;we+=2){var ge=te,xe=re,$e=ae(P,de),Ae=ee(P,de),F=S(P,de,Pe,Me,Oe),G=k(P,de,Pe,Me,Oe,K),ne=this.k[we],ye=this.k[we+1],Ne=A[we],ke=A[we+1],Ke=h(ge,xe,$e,Ae,F,G,ne,ye,Ne,ke),Ze=y(ge,xe,$e,Ae,F,G,ne,ye,Ne,ke);ge=W(M,N),xe=X(M,N),$e=C(M,N,I,m,x),Ae=$(M,N,I,m,x,E);var nt=u(ge,xe,$e,Ae),U=c(ge,xe,$e,Ae);te=Oe,re=K,Oe=Pe,K=Me,Pe=P,Me=de,P=u(D,z,Ke,Ze),de=c(z,z,Ke,Ze),D=x,z=E,x=I,E=m,I=M,m=N,M=u(Ke,Ze,nt,U),N=c(Ke,Ze,nt,U)}o(this.h,0,M,N),o(this.h,2,I,m),o(this.h,4,x,E),o(this.h,6,D,z),o(this.h,8,P,de),o(this.h,10,Pe,Me),o(this.h,12,Oe,K),o(this.h,14,te,re)},v.prototype._digest=function(d){return d==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function S(b,d,p,A,M){var N=b&p^~b&M;return N<0&&(N+=4294967296),N}function k(b,d,p,A,M,N){var I=d&A^~d&N;return I<0&&(I+=4294967296),I}function C(b,d,p,A,M){var N=b&p^b&M^p&M;return N<0&&(N+=4294967296),N}function $(b,d,p,A,M,N){var I=d&A^d&N^A&N;return I<0&&(I+=4294967296),I}function W(b,d){var p=n(b,d,28),A=n(d,b,2),M=n(d,b,7),N=p^A^M;return N<0&&(N+=4294967296),N}function X(b,d){var p=i(b,d,28),A=i(d,b,2),M=i(d,b,7),N=p^A^M;return N<0&&(N+=4294967296),N}function ae(b,d){var p=n(b,d,14),A=n(b,d,18),M=n(d,b,9),N=p^A^M;return N<0&&(N+=4294967296),N}function ee(b,d){var p=i(b,d,14),A=i(b,d,18),M=i(d,b,9),N=p^A^M;return N<0&&(N+=4294967296),N}function Q(b,d){var p=n(b,d,1),A=n(b,d,8),M=s(b,d,7),N=p^A^M;return N<0&&(N+=4294967296),N}function fe(b,d){var p=i(b,d,1),A=i(b,d,8),M=a(b,d,7),N=p^A^M;return N<0&&(N+=4294967296),N}function j(b,d){var p=n(b,d,19),A=n(d,b,29),M=s(b,d,6),N=p^A^M;return N<0&&(N+=4294967296),N}function g(b,d){var p=i(b,d,19),A=i(d,b,29),M=a(b,d,6),N=p^A^M;return N<0&&(N+=4294967296),N}return Rh}var kh,u2;function ZF(){if(u2)return kh;u2=1;var r=ts(),e=k5();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),kh=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},kh}var c2;function JF(){return c2||(c2=1,ia.sha1=VF(),ia.sha224=GF(),ia.sha256=R5(),ia.sha384=ZF(),ia.sha512=k5()),ia}var Nh={},f2;function YF(){if(f2)return Nh;f2=1;var r=ts(),e=mc(),t=r.rotl32,n=r.sum32,i=r.sum32_3,s=r.sum32_4,a=e.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(o,a),Nh.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(v,S){for(var k=this.h[0],C=this.h[1],$=this.h[2],W=this.h[3],X=this.h[4],ae=k,ee=C,Q=$,fe=W,j=X,g=0;g<80;g++){var b=n(t(s(k,u(g,C,$,W),v[l[g]+S],c(g)),y[g]),X);k=X,X=W,W=t($,10),$=C,C=b,b=n(t(s(ae,u(79-g,ee,Q,fe),v[h[g]+S],f(g)),w[g]),j),ae=j,j=fe,fe=t(Q,10),Q=ee,ee=b}b=i(this.h[1],$,fe),this.h[1]=i(this.h[2],W,j),this.h[2]=i(this.h[3],X,ae),this.h[3]=i(this.h[4],k,ee),this.h[4]=i(this.h[0],C,Q),this.h[0]=b},o.prototype._digest=function(v){return v==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function u(_,v,S,k){return _<=15?v^S^k:_<=31?v&S|~v&k:_<=47?(v|~S)^k:_<=63?v&k|S&~k:v^(S|~k)}function c(_){return _<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838}function f(_){return _<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0}var l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Nh}var Oh,l2;function QF(){if(l2)return Oh;l2=1;var r=ts(),e=Da();function t(n,i,s){if(!(this instanceof t))return new t(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(i,s))}return Oh=t,t.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},t.prototype.update=function(i,s){return this.inner.update(i,s),this},t.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Oh}var d2;function n0(){return d2||(d2=1,function(r){var e=r;e.utils=ts(),e.common=mc(),e.sha=JF(),e.ripemd=YF(),e.hmac=QF(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(_h)),_h}var XF=n0();const jn=es(XF);function Zo(r,e,t){return t={path:e,exports:{},require:function(n,i){return eU(n,i??t.path)}},r(t,t.exports),t.exports}function eU(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var V1=N5;function N5(r,e){if(!r)throw new Error(e||"Assertion failed")}N5.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Pi=Zo(function(r,e){var t=e;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var u=[];if(typeof a!="string"){for(var c=0;c<a.length;c++)u[c]=a[c]|0;return u}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var c=0;c<a.length;c+=2)u.push(parseInt(a[c]+a[c+1],16))}else for(var c=0;c<a.length;c++){var f=a.charCodeAt(c),l=f>>8,h=f&255;l?u.push(l,h):u.push(h)}return u}t.toArray=n;function i(a){return a.length===1?"0"+a:a}t.zero2=i;function s(a){for(var o="",u=0;u<a.length;u++)o+=i(a[u].toString(16));return o}t.toHex=s,t.encode=function(o,u){return u==="hex"?s(o):o}}),ti=Zo(function(r,e){var t=e;t.assert=V1,t.toArray=Pi.toArray,t.zero2=Pi.zero2,t.toHex=Pi.toHex,t.encode=Pi.encode;function n(u,c,f){var l=new Array(Math.max(u.bitLength(),f)+1),h;for(h=0;h<l.length;h+=1)l[h]=0;var y=1<<c+1,w=u.clone();for(h=0;h<l.length;h++){var _,v=w.andln(y-1);w.isOdd()?(v>(y>>1)-1?_=(y>>1)-v:_=v,w.isubn(_)):_=0,l[h]=_,w.iushrn(1)}return l}t.getNAF=n;function i(u,c){var f=[[],[]];u=u.clone(),c=c.clone();for(var l=0,h=0,y;u.cmpn(-l)>0||c.cmpn(-h)>0;){var w=u.andln(3)+l&3,_=c.andln(3)+h&3;w===3&&(w=-1),_===3&&(_=-1);var v;w&1?(y=u.andln(7)+l&7,(y===3||y===5)&&_===2?v=-w:v=w):v=0,f[0].push(v);var S;_&1?(y=c.andln(7)+h&7,(y===3||y===5)&&w===2?S=-_:S=_):S=0,f[1].push(S),2*l===v+1&&(l=1-l),2*h===S+1&&(h=1-h),u.iushrn(1),c.iushrn(1)}return f}t.getJSF=i;function s(u,c,f){var l="_"+c;u.prototype[c]=function(){return this[l]!==void 0?this[l]:this[l]=f.call(this)}}t.cachedProperty=s;function a(u){return typeof u=="string"?t.toArray(u,"hex"):u}t.parseBytes=a;function o(u){return new Ot(u,"hex","le")}t.intFromLE=o}),Md=ti.getNAF,tU=ti.getJSF,Pd=ti.assert;function Gs(r,e){this.type=r,this.p=new Ot(e.p,16),this.red=e.prime?Ot.red(e.prime):Ot.mont(this.p),this.zero=new Ot(0).toRed(this.red),this.one=new Ot(1).toRed(this.red),this.two=new Ot(2).toRed(this.red),this.n=e.n&&new Ot(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ba=Gs;Gs.prototype.point=function(){throw new Error("Not implemented")};Gs.prototype.validate=function(){throw new Error("Not implemented")};Gs.prototype._fixedNafMul=function(e,t){Pd(e.precomputed);var n=e._getDoubles(),i=Md(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],o,u;for(o=0;o<i.length;o+=n.step){u=0;for(var c=o+n.step-1;c>=o;c--)u=(u<<1)+i[c];a.push(u)}for(var f=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=s;h>0;h--){for(o=0;o<a.length;o++)u=a[o],u===h?l=l.mixedAdd(n.points[o]):u===-h&&(l=l.mixedAdd(n.points[o].neg()));f=f.add(l)}return f.toP()};Gs.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=Md(t,n,this._bitLength),o=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var c=0;u>=0&&a[u]===0;u--)c++;if(u>=0&&c++,o=o.dblp(c),u<0)break;var f=a[u];Pd(f!==0),e.type==="affine"?f>0?o=o.mixedAdd(s[f-1>>1]):o=o.mixedAdd(s[-f-1>>1].neg()):f>0?o=o.add(s[f-1>>1]):o=o.add(s[-f-1>>1].neg())}return e.type==="affine"?o.toP():o};Gs.prototype._wnafMulAdd=function(e,t,n,i,s){var a=this._wnafT1,o=this._wnafT2,u=this._wnafT3,c=0,f,l,h;for(f=0;f<i;f++){h=t[f];var y=h._getNAFPoints(e);a[f]=y.wnd,o[f]=y.points}for(f=i-1;f>=1;f-=2){var w=f-1,_=f;if(a[w]!==1||a[_]!==1){u[w]=Md(n[w],a[w],this._bitLength),u[_]=Md(n[_],a[_],this._bitLength),c=Math.max(u[w].length,c),c=Math.max(u[_].length,c);continue}var v=[t[w],null,null,t[_]];t[w].y.cmp(t[_].y)===0?(v[1]=t[w].add(t[_]),v[2]=t[w].toJ().mixedAdd(t[_].neg())):t[w].y.cmp(t[_].y.redNeg())===0?(v[1]=t[w].toJ().mixedAdd(t[_]),v[2]=t[w].add(t[_].neg())):(v[1]=t[w].toJ().mixedAdd(t[_]),v[2]=t[w].toJ().mixedAdd(t[_].neg()));var S=[-3,-1,-5,-7,0,7,5,1,3],k=tU(n[w],n[_]);for(c=Math.max(k[0].length,c),u[w]=new Array(c),u[_]=new Array(c),l=0;l<c;l++){var C=k[0][l]|0,$=k[1][l]|0;u[w][l]=S[(C+1)*3+($+1)],u[_][l]=0,o[w]=v}}var W=this.jpoint(null,null,null),X=this._wnafT4;for(f=c;f>=0;f--){for(var ae=0;f>=0;){var ee=!0;for(l=0;l<i;l++)X[l]=u[l][f]|0,X[l]!==0&&(ee=!1);if(!ee)break;ae++,f--}if(f>=0&&ae++,W=W.dblp(ae),f<0)break;for(l=0;l<i;l++){var Q=X[l];Q!==0&&(Q>0?h=o[l][Q-1>>1]:Q<0&&(h=o[l][-Q-1>>1].neg()),h.type==="affine"?W=W.mixedAdd(h):W=W.add(h))}}for(f=0;f<i;f++)o[f]=null;return s?W:W.toP()};function fi(r,e){this.curve=r,this.type=e,this.precomputed=null}Gs.BasePoint=fi;fi.prototype.eq=function(){throw new Error("Not implemented")};fi.prototype.validate=function(){return this.curve.validate(this)};Gs.prototype.decodePoint=function(e,t){e=ti.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Pd(e[e.length-1]%2===0):e[0]===7&&Pd(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};fi.prototype.encodeCompressed=function(e){return this.encode(e,!0)};fi.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};fi.prototype.encode=function(e,t){return ti.encode(this._encode(t),e)};fi.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};fi.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};fi.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<t;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}};fi.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};fi.prototype._getBeta=function(){return null};fi.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var G1=Zo(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),rU=ti.assert;function li(r){Ba.call(this,"short",r),this.a=new Ot(r.a,16).toRed(this.red),this.b=new Ot(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}G1(li,Ba);var nU=li;li.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Ot(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new Ot(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?n=s[0]:(n=s[1],rU(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new Ot(o.a,16),b:new Ot(o.b,16)}}):a=this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}};li.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ot.mont(e),n=new Ot(2).toRed(t).redInvm(),i=n.redNeg(),s=new Ot(3).toRed(t).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[a,o]};li.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Ot(1),a=new Ot(0),o=new Ot(0),u=new Ot(1),c,f,l,h,y,w,_,v=0,S,k;n.cmpn(0)!==0;){var C=i.div(n);S=i.sub(C.mul(n)),k=o.sub(C.mul(s));var $=u.sub(C.mul(a));if(!l&&S.cmp(t)<0)c=_.neg(),f=s,l=S.neg(),h=k;else if(l&&++v===2)break;_=S,i=n,n=S,o=s,s=k,u=a,a=$}y=S.neg(),w=k;var W=l.sqr().add(h.sqr()),X=y.sqr().add(w.sqr());return X.cmp(W)>=0&&(y=c,w=f),l.negative&&(l=l.neg(),h=h.neg()),y.negative&&(y=y.neg(),w=w.neg()),[{a:l,b:h},{a:y,b:w}]};li.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=s.mul(n.a),u=a.mul(i.a),c=s.mul(n.b),f=a.mul(i.b),l=e.sub(o).sub(u),h=c.add(f).neg();return{k1:l,k2:h}};li.prototype.pointFromX=function(e,t){e=new Ot(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};li.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};li.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),u=e[a],c=u._getBeta();o.k1.negative&&(o.k1.ineg(),u=u.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[a*2]=u,i[a*2+1]=c,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var f=this._wnafMulAdd(1,i,s,a*2,n),l=0;l<a*2;l++)i[l]=null,s[l]=null;return f};function on(r,e,t,n){Ba.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ot(e,16),this.y=new Ot(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}G1(on,Ba.BasePoint);li.prototype.point=function(e,t,n){return new on(this,e,t,n)};li.prototype.pointFromJSON=function(e,t){return on.fromJSON(this,e,t)};on.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};on.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};on.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function s(o){return e.point(o[0],o[1],n)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i};on.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};on.prototype.isInfinity=function(){return this.inf};on.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};on.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};on.prototype.getX=function(){return this.x.fromRed()};on.prototype.getY=function(){return this.y.fromRed()};on.prototype.mul=function(e){return e=new Ot(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};on.prototype.mulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};on.prototype.jmulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};on.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};on.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};on.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function mn(r,e,t,n){Ba.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ot(0)):(this.x=new Ot(e,16),this.y=new Ot(t,16),this.z=new Ot(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}G1(mn,Ba.BasePoint);li.prototype.jpoint=function(e,t,n){return new mn(this,e,t,n)};mn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};mn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};mn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),u=i.redSub(s),c=a.redSub(o);if(u.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=u.redSqr(),l=f.redMul(u),h=i.redMul(f),y=c.redSqr().redIAdd(l).redISub(h).redISub(h),w=c.redMul(h.redISub(y)).redISub(a.redMul(l)),_=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(y,w,_)};mn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),s=this.y,a=e.y.redMul(t).redMul(this.z),o=n.redSub(i),u=s.redSub(a);if(o.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),f=c.redMul(o),l=n.redMul(c),h=u.redSqr().redIAdd(f).redISub(l).redISub(l),y=u.redMul(l.redISub(h)).redISub(s.redMul(f)),w=this.z.redMul(o);return this.curve.jpoint(h,y,w)};mn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,u=this.z,c=u.redSqr().redSqr(),f=o.redAdd(o);for(t=0;t<e;t++){var l=a.redSqr(),h=f.redSqr(),y=h.redSqr(),w=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c)),_=a.redMul(h),v=w.redSqr().redISub(_.redAdd(_)),S=_.redISub(v),k=w.redMul(S);k=k.redIAdd(k).redISub(y);var C=f.redMul(u);t+1<e&&(c=c.redMul(y)),a=v,u=C,f=k}return this.curve.jpoint(a,f.redMul(s),u)};mn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};mn.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var u=i.redAdd(i).redIAdd(i),c=u.redSqr().redISub(o).redISub(o),f=a.redIAdd(a);f=f.redIAdd(f),f=f.redIAdd(f),e=c,t=u.redMul(o.redISub(c)).redISub(f),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),y=h.redSqr(),w=this.x.redAdd(h).redSqr().redISub(l).redISub(y);w=w.redIAdd(w);var _=l.redAdd(l).redIAdd(l),v=_.redSqr(),S=y.redIAdd(y);S=S.redIAdd(S),S=S.redIAdd(S),e=v.redISub(w).redISub(w),t=_.redMul(w.redISub(e)).redISub(S),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};mn.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=u.redSqr().redISub(o).redISub(o);e=c;var f=a.redIAdd(a);f=f.redIAdd(f),f=f.redIAdd(f),t=u.redMul(o.redISub(c)).redISub(f),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),y=this.x.redMul(h),w=this.x.redSub(l).redMul(this.x.redAdd(l));w=w.redAdd(w).redIAdd(w);var _=y.redIAdd(y);_=_.redIAdd(_);var v=_.redAdd(_);e=w.redSqr().redISub(v),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var S=h.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S),t=w.redMul(_.redISub(e)).redISub(S)}return this.curve.jpoint(e,t,n)};mn.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=t.redSqr(),o=n.redSqr(),u=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),c=t.redAdd(t);c=c.redIAdd(c);var f=c.redMul(o),l=u.redSqr().redISub(f.redAdd(f)),h=f.redISub(l),y=o.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var w=u.redMul(h).redISub(y),_=n.redAdd(n).redMul(i);return this.curve.jpoint(l,w,_)};mn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var u=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var f=s.redIAdd(o).redSqr().redISub(a).redISub(u).redISub(c),l=t.redMul(f);l=l.redIAdd(l),l=l.redIAdd(l);var h=this.x.redMul(u).redISub(l);h=h.redIAdd(h),h=h.redIAdd(h);var y=this.y.redMul(f.redMul(c.redISub(f)).redISub(o.redMul(u)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var w=this.z.redAdd(o).redSqr().redISub(n).redISub(u);return this.curve.jpoint(h,y,w)};mn.prototype.mul=function(e,t){return e=new Ot(e,t),this.curve._wnafMul(this,e)};mn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};mn.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};mn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};mn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var rd=Zo(function(r,e){var t=e;t.base=Ba,t.short=nU,t.mont=null,t.edwards=null}),nd=Zo(function(r,e){var t=e,n=ti.assert;function i(o){o.type==="short"?this.curve=new rd.short(o):o.type==="edwards"?this.curve=new rd.edwards(o):this.curve=new rd.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(o,u){Object.defineProperty(t,o,{configurable:!0,enumerable:!0,get:function(){var c=new i(u);return Object.defineProperty(t,o,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:jn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:jn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:jn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:jn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:jn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:jn.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:jn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:jn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function qs(r){if(!(this instanceof qs))return new qs(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Pi.toArray(r.entropy,r.entropyEnc||"hex"),t=Pi.toArray(r.nonce,r.nonceEnc||"hex"),n=Pi.toArray(r.pers,r.persEnc||"hex");V1(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var O5=qs;qs.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};qs.prototype._hmac=function(){return new jn.hmac(this.hash,this.K)};qs.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};qs.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=Pi.toArray(e,t),n=Pi.toArray(n,i),V1(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};qs.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=Pi.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,Pi.encode(a,t)};var Gg=ti.assert;function Mn(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Z1=Mn;Mn.fromPublic=function(e,t,n){return t instanceof Mn?t:new Mn(e,{pub:t,pubEnc:n})};Mn.fromPrivate=function(e,t,n){return t instanceof Mn?t:new Mn(e,{priv:t,privEnc:n})};Mn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Mn.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Mn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Mn.prototype._importPrivate=function(e,t){this.priv=new Ot(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Mn.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Gg(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Gg(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Mn.prototype.derive=function(e){return e.validate()||Gg(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Mn.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Mn.prototype.verify=function(e,t,n){return this.ec.verify(e,t,this,void 0,n)};Mn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var iU=ti.assert;function i0(r,e){if(r instanceof i0)return r;this._importDER(r,e)||(iU(r.r&&r.s,"Signature without r or s"),this.r=new Ot(r.r,16),this.s=new Ot(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var s0=i0;function sU(){this.place=0}function Ch(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4||r[e.place]===0)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=r[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function h2(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}i0.prototype._importDER=function(e,t){e=ti.toArray(e,t);var n=new sU;if(e[n.place++]!==48)return!1;var i=Ch(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Ch(e,n);if(s===!1||e[n.place]&128)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var o=Ch(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var u=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new Ot(a),this.s=new Ot(u),this.recoveryParam=null,!0};function Th(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}i0.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=h2(t),n=h2(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Th(i,t.length),i=i.concat(t),i.push(2),Th(i,n.length);var s=i.concat(n),a=[48];return Th(a,s.length),a=a.concat(s),ti.encode(a,e)};var aU=function(){throw new Error("unsupported")},fa=ti.assert;function ci(r){if(!(this instanceof ci))return new ci(r);typeof r=="string"&&(fa(Object.prototype.hasOwnProperty.call(nd,r),"Unknown curve "+r),r=nd[r]),r instanceof nd.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var oU=ci;ci.prototype.keyPair=function(e){return new Z1(this,e)};ci.prototype.keyFromPrivate=function(e,t){return Z1.fromPrivate(this,e,t)};ci.prototype.keyFromPublic=function(e,t){return Z1.fromPublic(this,e,t)};ci.prototype.genKeyPair=function(e){e||(e={});for(var t=new O5({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||aU(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ot(2));;){var s=new Ot(t.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ci.prototype._truncateToN=function(e,t,n){var i;if(Ot.isBN(e)||typeof e=="number")e=new Ot(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Ot(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Ot(s,16)}typeof n!="number"&&(n=i*8);var a=n-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};ci.prototype.sign=function(e,t,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Ot.isBN(e)){fa(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),fa(e.length>>>0===e.length);for(var s=0;s<e.length;s++)fa((e[s]&255)===e[s])}t=this.keyFromPrivate(t,n),e=this._truncateToN(e,!1,i.msgBitLength),fa(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),o=t.getPrivate().toArray("be",a),u=e.toArray("be",a);fa(new Ot(u).eq(e),"Can not sign message");for(var c=new O5({hash:this.hash,entropy:o,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Ot(1)),l=0;;l++){var h=i.k?i.k(l):new Ot(c.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(f)>=0)){var y=this.g.mul(h);if(!y.isInfinity()){var w=y.getX(),_=w.umod(this.n);if(_.cmpn(0)!==0){var v=h.invm(this.n).mul(_.mul(t.getPrivate()).iadd(e));if(v=v.umod(this.n),v.cmpn(0)!==0){var S=(y.getY().isOdd()?1:0)|(w.cmp(_)!==0?2:0);return i.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),S^=1),new s0({r:_,s:v,recoveryParam:S})}}}}}};ci.prototype.verify=function(e,t,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),t=new s0(t,"hex");var a=t.r,o=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var u=o.invm(this.n),c=u.mul(e).umod(this.n),f=u.mul(a).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.eqXToP(a)):(l=this.g.mulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.getX().umod(this.n).cmp(a)===0)};ci.prototype.recoverPubKey=function(r,e,t,n){fa((3&t)===t,"The recovery param is more than two bits"),e=new s0(e,n);var i=this.n,s=new Ot(r),a=e.r,o=e.s,u=t&1,c=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?a=this.curve.pointFromX(a.add(this.curve.n),u):a=this.curve.pointFromX(a,u);var f=e.r.invm(i),l=i.sub(s).mul(f).umod(i),h=o.mul(f).umod(i);return this.g.mulAdd(l,a,h)};ci.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new s0(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var uU=Zo(function(r,e){var t=e;t.version="6.6.1",t.utils=ti,t.rand=function(){throw new Error("unsupported")},t.curve=rd,t.curves=nd,t.ec=oU,t.eddsa=null}),cU=uU.ec;const fU="signing-key/5.8.0",Zg=new Re(fU);let Dh=null;function Vi(){return Dh||(Dh=new cU("secp256k1")),Dh}class va{constructor(e){Ve(this,"curve","secp256k1"),Ve(this,"privateKey",st(e)),ki(this.privateKey)!==32&&Zg.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Vi().keyFromPrivate(tt(this.privateKey));Ve(this,"publicKey","0x"+t.getPublic(!1,"hex")),Ve(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Ve(this,"_isSigningKey",!0)}_addPoint(e){const t=Vi().keyFromPublic(tt(this.publicKey)),n=Vi().keyFromPublic(tt(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=Vi().keyFromPrivate(tt(this.privateKey)),n=tt(e);n.length!==32&&Zg.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return Ks({recoveryParam:i.recoveryParam,r:br("0x"+i.r.toString(16),32),s:br("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=Vi().keyFromPrivate(tt(this.privateKey)),n=Vi().keyFromPublic(tt(J1(e)));return br("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function C5(r,e){const t=Ks(e),n={r:tt(t.r),s:tt(t.s)};return"0x"+Vi().recoverPubKey(tt(r),n,t.recoveryParam).encode("hex",!1)}function J1(r,e){const t=tt(r);if(t.length===32){const n=new va(t);return e?"0x"+Vi().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?st(t):"0x"+Vi().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+Vi().keyFromPublic(t).getPublic(!0,"hex"):st(t)}return Zg.throwArgumentError("invalid public or private key","key","[REDACTED]")}const lU="transactions/5.8.0",Sn=new Re(lU);var Jg;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(Jg||(Jg={}));function Y1(r){return r==="0x"?null:dr(r)}function _n(r){return r==="0x"?L1:et.from(r)}const dU=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],hU={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Us(r){const e=J1(r);return dr(Or(lr(Or(e,1)),12))}function vc(r,e){return Us(C5(tt(r),e))}function Qn(r,e){const t=Ri(et.from(r).toHexString());return t.length>32&&Sn.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function Bh(r,e){return{address:dr(r),storageKeys:(e||[]).map((t,n)=>(ki(t)!==32&&Sn.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function Zs(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&Sn.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),Bh(t[0],t[1])):Bh(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,s)=>(i[s]=!0,i),{});return Bh(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function T5(r){return Zs(r).map(e=>[e.address,e.storageKeys])}function D5(r,e){if(r.gasPrice!=null){const n=et.from(r.gasPrice),i=et.from(r.maxFeePerGas||0);n.eq(i)||Sn.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const t=[Qn(r.chainId||0,"chainId"),Qn(r.nonce||0,"nonce"),Qn(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Qn(r.maxFeePerGas||0,"maxFeePerGas"),Qn(r.gasLimit||0,"gasLimit"),r.to!=null?dr(r.to):"0x",Qn(r.value||0,"value"),r.data||"0x",T5(r.accessList||[])];if(e){const n=Ks(e);t.push(Qn(n.recoveryParam,"recoveryParam")),t.push(Ri(n.r)),t.push(Ri(n.s))}return En(["0x02",Ia(t)])}function B5(r,e){const t=[Qn(r.chainId||0,"chainId"),Qn(r.nonce||0,"nonce"),Qn(r.gasPrice||0,"gasPrice"),Qn(r.gasLimit||0,"gasLimit"),r.to!=null?dr(r.to):"0x",Qn(r.value||0,"value"),r.data||"0x",T5(r.accessList||[])];if(e){const n=Ks(e);t.push(Qn(n.recoveryParam,"recoveryParam")),t.push(Ri(n.r)),t.push(Ri(n.s))}return En(["0x01",Ia(t)])}function pU(r,e){Qd(r,hU);const t=[];dU.forEach(function(a){let o=r[a.name]||[];const u={};a.numeric&&(u.hexPad="left"),o=tt(st(o,u)),a.length&&o.length!==a.length&&o.length>0&&Sn.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o),a.maxLength&&(o=Ri(o),o.length>a.maxLength&&Sn.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o)),t.push(st(o))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&Sn.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!Vo(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(st(n)),t.push("0x"),t.push("0x")),!e)return Ia(t);const i=Ks(e);let s=27+i.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Sn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Sn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(st(s)),t.push(Ri(tt(i.r))),t.push(Ri(tt(i.s))),Ia(t)}function Yg(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&Sn.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),pU(r,e);switch(r.type){case 1:return B5(r,e);case 2:return D5(r,e)}return Sn.throwError(`unsupported transaction type: ${r.type}`,Re.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function L5(r,e,t){try{const n=_n(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{Sn.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=br(e[1],32),r.s=br(e[2],32);try{const n=lr(t(r));r.from=vc(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function gU(r){const e=Xd(r.slice(1));e.length!==9&&e.length!==12&&Sn.throwArgumentError("invalid component count for transaction type: 2","payload",st(r));const t=_n(e[2]),n=_n(e[3]),i={type:2,chainId:_n(e[0]).toNumber(),nonce:_n(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:_n(e[4]),to:Y1(e[5]),value:_n(e[6]),data:e[7],accessList:Zs(e[8])};return e.length===9||(i.hash=lr(r),L5(i,e.slice(9),D5)),i}function bU(r){const e=Xd(r.slice(1));e.length!==8&&e.length!==11&&Sn.throwArgumentError("invalid component count for transaction type: 1","payload",st(r));const t={type:1,chainId:_n(e[0]).toNumber(),nonce:_n(e[1]).toNumber(),gasPrice:_n(e[2]),gasLimit:_n(e[3]),to:Y1(e[4]),value:_n(e[5]),data:e[6],accessList:Zs(e[7])};return e.length===8||(t.hash=lr(r),L5(t,e.slice(8),B5)),t}function mU(r){const e=Xd(r);e.length!==9&&e.length!==6&&Sn.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:_n(e[0]).toNumber(),gasPrice:_n(e[1]),gasLimit:_n(e[2]),to:Y1(e[3]),value:_n(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=et.from(e[6]).toNumber()}catch{return t}if(t.r=br(e[7],32),t.s=br(e[8],32),et.from(t.r).isZero()&&et.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(st(t.chainId)),i.push("0x"),i.push("0x"),n-=t.chainId*2+8);const s=lr(Ia(i));try{t.from=vc(s,{r:st(t.r),s:st(t.s),recoveryParam:n})}catch{}t.hash=lr(r)}return t.type=null,t}function $5(r){const e=tt(r);if(e[0]>127)return mU(e);switch(e[0]){case 1:return bU(e);case 2:return gU(e)}return Sn.throwError(`unsupported transaction type: ${e[0]}`,Re.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const vU="contracts/5.8.0";var js=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const pr=new Re(vU),yU={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Rd(r,e){return js(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&pr.throwArgumentError("invalid address or ENS name","name",t);try{return dr(t)}catch{}r||pr.throwError("a provider or signer is needed to resolve ENS names",Re.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&pr.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function ku(r,e,t){return js(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,i)=>ku(r,Array.isArray(e)?e[i]:e[n.name],n))):t.type==="address"?yield Rd(r,e):t.type==="tuple"?yield ku(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>ku(r,n,t.arrayChildren))):Promise.reject(pr.makeError("invalid value for array",Re.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function a0(r,e,t){return js(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=wr(t.pop())),pr.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=Rr({override:Rd(r.signer,n.from),signer:r.signer.getAddress()}).then(c=>js(this,void 0,void 0,function*(){return dr(c.signer)!==c.override&&pr.throwError("Contract with a Signer cannot override from",Re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),c.override})):n.from=r.signer.getAddress():n.from&&(n.from=Rd(r.provider,n.from));const i=yield Rr({args:ku(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:Rr(n)||{}}),s=r.interface.encodeFunctionData(e,i.args),a={data:s,to:i.address},o=i.overrides;if(o.nonce!=null&&(a.nonce=et.from(o.nonce).toNumber()),o.gasLimit!=null&&(a.gasLimit=et.from(o.gasLimit)),o.gasPrice!=null&&(a.gasPrice=et.from(o.gasPrice)),o.maxFeePerGas!=null&&(a.maxFeePerGas=et.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=et.from(o.maxPriorityFeePerGas)),o.from!=null&&(a.from=o.from),o.type!=null&&(a.type=o.type),o.accessList!=null&&(a.accessList=Zs(o.accessList)),a.gasLimit==null&&e.gas!=null){let c=21e3;const f=tt(s);for(let l=0;l<f.length;l++)c+=4,f[l]&&(c+=64);a.gasLimit=et.from(e.gas).add(c)}if(o.value){const c=et.from(o.value);!c.isZero()&&!e.payable&&pr.throwError("non-payable method cannot override value",Re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),a.value=c}o.customData&&(a.customData=wr(o.customData)),o.ccipReadEnabled&&(a.ccipReadEnabled=!!o.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter(c=>n[c]!=null);return u.length&&pr.throwError(`cannot override ${u.map(c=>JSON.stringify(c)).join(",")}`,Re.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),a})}function xU(r,e){return function(...t){return a0(r,e,t)}}function wU(r,e){const t=r.signer||r.provider;return function(...n){return js(this,void 0,void 0,function*(){t||pr.throwError("estimate require a provider or signer",Re.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield a0(r,e,n);return yield t.estimateGas(i)})}}function F5(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(i=>(i.events=i.logs.map(s=>{let a=In(s),o=null;try{o=r.interface.parseLog(s)}catch{}return o&&(a.args=o.args,a.decode=(u,c)=>r.interface.decodeEventLog(o.eventFragment,u,c),a.event=o.name,a.eventSignature=o.signature),a.removeListener=()=>r.provider,a.getBlock=()=>r.provider.getBlock(i.blockHash),a.getTransaction=()=>r.provider.getTransaction(i.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(i),a}),i))}function U5(r,e,t){const n=r.signer||r.provider;return function(...i){return js(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const u=wr(i.pop());u.blockTag!=null&&(s=yield u.blockTag),delete u.blockTag,i.push(u)}r.deployTransaction!=null&&(yield r._deployed(s));const a=yield a0(r,e,i),o=yield n.call(a,s);try{let u=r.interface.decodeFunctionResult(e,o);return t&&e.outputs.length===1&&(u=u[0]),u}catch(u){throw u.code===Re.errors.CALL_EXCEPTION&&(u.address=r.address,u.args=i,u.transaction=a),u}})}}function AU(r,e){return function(...t){return js(this,void 0,void 0,function*(){r.signer||pr.throwError("sending a transaction requires a signer",Re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield a0(r,e,t),i=yield r.signer.sendTransaction(n);return F5(r,i),i})}}function p2(r,e,t){return e.constant?U5(r,e,t):AU(r,e)}function q5(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Zu{constructor(e,t){Ve(this,"tag",e),Ve(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class _U extends Zu{constructor(){super("error",null)}}class g2 extends Zu{constructor(e,t,n,i){const s={address:e};let a=t.getEventTopic(n);i?(a!==i[0]&&pr.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[a],super(q5(s),s),Ve(this,"address",e),Ve(this,"interface",t),Ve(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=G8(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class b2 extends Zu{constructor(e,t){super("*",{address:e}),Ve(this,"address",e),Ve(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,i)=>this.interface.decodeEventLog(t.eventFragment,n,i),e.args=t.args}catch{}}}class Q1{constructor(e,t,n){Ve(this,"interface",an(new.target,"getInterface")(t)),n==null?(Ve(this,"provider",null),Ve(this,"signer",null)):Es.isSigner(n)?(Ve(this,"provider",n.provider||null),Ve(this,"signer",n)):Ta.isProvider(n)?(Ve(this,"provider",n),Ve(this,"signer",null)):pr.throwArgumentError("invalid signer or provider","signerOrProvider",n),Ve(this,"callStatic",{}),Ve(this,"estimateGas",{}),Ve(this,"functions",{}),Ve(this,"populateTransaction",{}),Ve(this,"filters",{});{const a={};Object.keys(this.interface.events).forEach(o=>{const u=this.interface.events[o];Ve(this.filters,o,(...c)=>({address:this.address,topics:this.interface.encodeFilterTopics(u,c)})),a[u.name]||(a[u.name]=[]),a[u.name].push(o)}),Object.keys(a).forEach(o=>{const u=a[o];u.length===1?Ve(this.filters,o,this.filters[u[0]]):pr.warn(`Duplicate definition of ${o} (${u.join(", ")})`)})}if(Ve(this,"_runningEvents",{}),Ve(this,"_wrappedEmits",{}),e==null&&pr.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Ve(this,"address",e),this.provider)Ve(this,"resolvedAddress",Rd(this.provider,e));else try{Ve(this,"resolvedAddress",Promise.resolve(dr(e)))}catch{pr.throwError("provider is required to use ENS name as contract address",Re.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});const i={},s={};Object.keys(this.interface.functions).forEach(a=>{const o=this.interface.functions[a];if(s[a]){pr.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}s[a]=!0;{const u=o.name;i[`%${u}`]||(i[`%${u}`]=[]),i[`%${u}`].push(a)}this[a]==null&&Ve(this,a,p2(this,o,!0)),this.functions[a]==null&&Ve(this.functions,a,p2(this,o,!1)),this.callStatic[a]==null&&Ve(this.callStatic,a,U5(this,o,!0)),this.populateTransaction[a]==null&&Ve(this.populateTransaction,a,xU(this,o)),this.estimateGas[a]==null&&Ve(this.estimateGas,a,wU(this,o))}),Object.keys(i).forEach(a=>{const o=i[a];if(o.length>1)return;a=a.substring(1);const u=o[0];try{this[a]==null&&Ve(this,a,this[u])}catch{}this.functions[a]==null&&Ve(this.functions,a,this.functions[u]),this.callStatic[a]==null&&Ve(this.callStatic,a,this.callStatic[u]),this.populateTransaction[a]==null&&Ve(this.populateTransaction,a,this.populateTransaction[u]),this.estimateGas[a]==null&&Ve(this.estimateGas,a,this.estimateGas[u])})}static getContractAddress(e){return e0(e)}static getInterface(e){return Vg.isInterface(e)?e:new Vg(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&pr.throwError("contract not deployed",Re.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||pr.throwError("sending a transactions require a signer",Re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=wr(e||{});return["from","to"].forEach(function(n){t[n]!=null&&pr.throwError("cannot override "+n,Re.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new bc(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Ve(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Id.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new _U);if(e==="event")return this._normalizeRunningEvent(new Zu("event",null));if(e==="*")return this._normalizeRunningEvent(new b2(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new g2(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new g2(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Zu(q5(t),t))}return this._normalizeRunningEvent(new b2(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const i=In(t);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,n){if(this.provider||pr.throwError("events require a provider or a signer with a provider",Re.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let a=this._wrapEvent(e,s,t);if(a.decodeError==null)try{const o=e.getEmit(a);this.emit(e.filter,...o)}catch(o){a.decodeError=o.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,n){const i=this._getRunningEvent(e),s=wr(i.filter);return typeof t=="string"&&Lt(t,32)?(n!=null&&pr.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(a=>a.map(o=>this._wrapEvent(i,o,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class kd extends Q1{}class j5{constructor(e,t,n){let i=null;typeof t=="string"?i=t:As(t)?i=st(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!Lt(i)||i.length%2)&&pr.throwArgumentError("invalid bytecode","bytecode",t),n&&!Es.isSigner(n)&&pr.throwArgumentError("invalid signer","signer",n),Ve(this,"bytecode",i),Ve(this,"interface",an(new.target,"getInterface")(e)),Ve(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=wr(e.pop());for(const n in t)if(!yU[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{t[n]!=null&&pr.throwError("cannot override "+n,Re.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.value&&!et.from(t.value).isZero()&&!this.interface.deploy.payable&&pr.throwError("non-payable constructor cannot override value",Re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),pr.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=st(gr([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return js(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),pr.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield ku(this.signer,e,this.interface.deploy.inputs);n.push(t);const i=this.getDeployTransaction(...n),s=yield this.signer.sendTransaction(i),a=an(this.constructor,"getContractAddress")(s),o=an(this.constructor,"getContract")(a,this.interface,this.signer);return F5(o,s),Ve(o,"deployTransaction",s),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&pr.throwError("missing compiler output",Re.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,t)}static getInterface(e){return kd.getInterface(e)}static getContractAddress(e){return e0(e)}static getContract(e,t,n){return new kd(e,t,n)}}class z5{constructor(e){Ve(this,"alphabet",e),Ve(this,"base",e.length),Ve(this,"_alphabetMap",{}),Ve(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=tt(e);if(t.length===0)return"";let n=[0];for(let s=0;s<t.length;++s){let a=t[s];for(let o=0;o<n.length;++o)a+=n[o]<<8,n[o]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;t[s]===0&&s<t.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<t.length;++a)s+=t[a]*this.base,t[a]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return tt(new Uint8Array(t.reverse()))}}new z5("abcdefghijklmnopqrstuvwxyz234567");const Bo=new z5("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Lo;(function(r){r.sha256="sha256",r.sha512="sha512"})(Lo||(Lo={}));const EU="sha2/5.8.0",SU=new Re(EU);function W5(r){return"0x"+jn.ripemd160().update(tt(r)).digest("hex")}function xs(r){return"0x"+jn.sha256().update(tt(r)).digest("hex")}function IU(r){return"0x"+jn.sha512().update(tt(r)).digest("hex")}function Ju(r,e,t){return Lo[r]||SU.throwError("unsupported algorithm "+r,Re.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+jn.hmac(jn[r],tt(e)).update(tt(t)).digest("hex")}function X1(r,e,t,n,i){r=tt(r),e=tt(e);let s,a=1;const o=new Uint8Array(n),u=new Uint8Array(e.length+4);u.set(e);let c,f;for(let l=1;l<=a;l++){u[e.length]=l>>24&255,u[e.length+1]=l>>16&255,u[e.length+2]=l>>8&255,u[e.length+3]=l&255;let h=tt(Ju(i,r,u));s||(s=h.length,f=new Uint8Array(s),a=Math.ceil(n/s),c=n-(a-1)*s),f.set(h);for(let _=1;_<t;_++){h=tt(Ju(i,r,h));for(let v=0;v<s;v++)f[v]^=h[v]}const y=(l-1)*s,w=l===a?c:s;o.set(tt(f).slice(0,w),y)}return st(o)}const MU="wordlists/5.8.0",PU=new Re(MU);class La{constructor(e){PU.checkAbstract(new.target,La),Ve(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";t.push(i)}return $s(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const RU="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Nu=null;function m2(r){if(Nu==null&&(Nu=RU.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),La.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Nu=null,new Error("BIP39 Wordlist for en (English) FAILED")}class kU extends La{constructor(){super("en")}getWord(e){return m2(this),Nu[e]}getWordIndex(e){return m2(this),Nu.indexOf(e)}}const K5=new kU;La.register(K5);const Nd={en:K5},NU="hdnode/5.8.0",Yu=new Re(NU),OU=et.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),CU=Cr("Bitcoin seed"),vu=2147483648;function H5(r){return(1<<r)-1<<8-r}function TU(r){return(1<<r)-1}function Kc(r){return br(st(r),32)}function v2(r){return Bo.encode(gr([r,Or(xs(xs(r)),0,4)]))}function eb(r){if(r==null)return Nd.en;if(typeof r=="string"){const e=Nd[r];return e==null&&Yu.throwArgumentError("unknown locale","wordlist",r),e}return r}const Za={},$o="m/44'/60'/0'/0/0";class Xn{constructor(e,t,n,i,s,a,o,u){if(e!==Za)throw new Error("HDNode constructor cannot be called directly");if(t){const c=new va(t);Ve(this,"privateKey",c.privateKey),Ve(this,"publicKey",c.compressedPublicKey)}else Ve(this,"privateKey",null),Ve(this,"publicKey",st(n));Ve(this,"parentFingerprint",i),Ve(this,"fingerprint",Or(W5(xs(this.publicKey)),0,4)),Ve(this,"address",Us(this.publicKey)),Ve(this,"chainCode",s),Ve(this,"index",a),Ve(this,"depth",o),u==null?(Ve(this,"mnemonic",null),Ve(this,"path",null)):typeof u=="string"?(Ve(this,"mnemonic",null),Ve(this,"path",u)):(Ve(this,"mnemonic",u),Ve(this,"path",u.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return v2(gr([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",st(this.depth),this.parentFingerprint,br(st(this.index),4),this.chainCode,this.privateKey!=null?gr(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Xn(Za,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&2147483647));const n=new Uint8Array(37);if(e&vu){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(tt(this.privateKey),1),t&&(t+="'")}else n.set(tt(this.publicKey));for(let l=24;l>=0;l-=8)n[33+(l>>3)]=e>>24-l&255;const i=tt(Ju(Lo.sha512,this.chainCode,n)),s=i.slice(0,32),a=i.slice(32);let o=null,u=null;this.privateKey?o=Kc(et.from(s).add(this.privateKey).mod(OU)):u=new va(st(s))._addPoint(this.publicKey);let c=t;const f=this.mnemonic;return f&&(c=Object.freeze({phrase:f.phrase,path:t,locale:f.locale||"en"})),new Xn(Za,o,u,this.fingerprint,Kc(a),e,this.depth+1,c)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const a=parseInt(s.substring(0,s.length-1));if(a>=vu)throw new Error("invalid path index - "+s);n=n._derive(vu+a)}else if(s.match(/^[0-9]+$/)){const a=parseInt(s);if(a>=vu)throw new Error("invalid path index - "+s);n=n._derive(a)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,t){const n=tt(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=tt(Ju(Lo.sha512,CU,n));return new Xn(Za,Kc(i.slice(0,32)),null,"0x00000000",Kc(i.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=eb(n),e=u0(o0(e,n),n),Xn._fromSeed(V5(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Xn._fromSeed(e,null)}static fromExtendedKey(e){const t=Bo.decode(e);(t.length!==82||v2(t.slice(0,78))!==e)&&Yu.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],i=st(t.slice(5,9)),s=parseInt(st(t.slice(9,13)).substring(2),16),a=st(t.slice(13,45)),o=t.slice(45,78);switch(st(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Xn(Za,null,st(o),i,a,s,n,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new Xn(Za,st(o.slice(1)),null,i,a,s,n,null)}return Yu.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function V5(r,e){e||(e="");const t=Cr("mnemonic"+e,Ni.NFKD);return X1(Cr(r,Ni.NFKD),t,2048,64,"sha512")}function o0(r,e){e=eb(e),Yu.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const n=tt(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let c=0;c<t.length;c++){let f=e.getWordIndex(t[c].normalize("NFKD"));if(f===-1)throw new Error("invalid mnemonic");for(let l=0;l<11;l++)f&1<<10-l&&(n[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,a=t.length/3,o=H5(a);if((tt(xs(n.slice(0,s/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return st(n.slice(0,s/8))}function u0(r,e){if(e=eb(e),r=tt(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let a=0;a<r.length;a++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[a],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[a]>>8-n,t.push(r[a]&TU(8-n)),n+=3);const i=r.length/4,s=tt(xs(r))[0]&H5(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(a=>e.getWord(a)))}function DU(r,e){try{return o0(r,e),!0}catch{}return!1}function BU(r){return(typeof r!="number"||r<0||r>=vu||r%1)&&Yu.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const LU="random/5.8.0",Qg=new Re(LU);function $U(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const y2=$U();let id=y2.crypto||y2.msCrypto;(!id||!id.getRandomValues)&&(Qg.warn("WARNING: Missing strong random number source"),id={getRandomValues:function(r){return Qg.throwError("no secure random source avaialble",Re.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function xo(r){(r<=0||r>1024||r%1||r!=r)&&Qg.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return id.getRandomValues(e),tt(e)}function G5(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}return r}var Z5={exports:{}};(function(r,e){(function(t){function n(x){return parseInt(x)===x}function i(x){if(!n(x.length))return!1;for(var E=0;E<x.length;E++)if(!n(x[E])||x[E]<0||x[E]>255)return!1;return!0}function s(x,E){if(x.buffer&&ArrayBuffer.isView(x)&&x.name==="Uint8Array")return E&&(x.slice?x=x.slice():x=Array.prototype.slice.call(x)),x;if(Array.isArray(x)){if(!i(x))throw new Error("Array contains invalid value: "+x);return new Uint8Array(x)}if(n(x.length)&&i(x))return new Uint8Array(x);throw new Error("unsupported array-like object")}function a(x){return new Uint8Array(x)}function o(x,E,D,z,P){(z!=null||P!=null)&&(x.slice?x=x.slice(z,P):x=Array.prototype.slice.call(x,z,P)),E.set(x,D)}var u=function(){function x(D){var z=[],P=0;for(D=encodeURI(D);P<D.length;){var de=D.charCodeAt(P++);de===37?(z.push(parseInt(D.substr(P,2),16)),P+=2):z.push(de)}return s(z)}function E(D){for(var z=[],P=0;P<D.length;){var de=D[P];de<128?(z.push(String.fromCharCode(de)),P++):de>191&&de<224?(z.push(String.fromCharCode((de&31)<<6|D[P+1]&63)),P+=2):(z.push(String.fromCharCode((de&15)<<12|(D[P+1]&63)<<6|D[P+2]&63)),P+=3)}return z.join("")}return{toBytes:x,fromBytes:E}}(),c=function(){function x(z){for(var P=[],de=0;de<z.length;de+=2)P.push(parseInt(z.substr(de,2),16));return P}var E="0123456789abcdef";function D(z){for(var P=[],de=0;de<z.length;de++){var Pe=z[de];P.push(E[(Pe&240)>>4]+E[Pe&15])}return P.join("")}return{toBytes:x,fromBytes:D}}(),f={16:10,24:12,32:14},l=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],y=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],w=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],_=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],v=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],S=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],k=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],C=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],$=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],W=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],X=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],ae=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],ee=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Q=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function fe(x){for(var E=[],D=0;D<x.length;D+=4)E.push(x[D]<<24|x[D+1]<<16|x[D+2]<<8|x[D+3]);return E}var j=function(x){if(!(this instanceof j))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(x,!0)}),this._prepare()};j.prototype._prepare=function(){var x=f[this.key.length];if(x==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var E=0;E<=x;E++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var D=(x+1)*4,z=this.key.length/4,P=fe(this.key),de,E=0;E<z;E++)de=E>>2,this._Ke[de][E%4]=P[E],this._Kd[x-de][E%4]=P[E];for(var Pe=0,Me=z,Oe;Me<D;){if(Oe=P[z-1],P[0]^=h[Oe>>16&255]<<24^h[Oe>>8&255]<<16^h[Oe&255]<<8^h[Oe>>24&255]^l[Pe]<<24,Pe+=1,z!=8)for(var E=1;E<z;E++)P[E]^=P[E-1];else{for(var E=1;E<z/2;E++)P[E]^=P[E-1];Oe=P[z/2-1],P[z/2]^=h[Oe&255]^h[Oe>>8&255]<<8^h[Oe>>16&255]<<16^h[Oe>>24&255]<<24;for(var E=z/2+1;E<z;E++)P[E]^=P[E-1]}for(var E=0,K,te;E<z&&Me<D;)K=Me>>2,te=Me%4,this._Ke[K][te]=P[E],this._Kd[x-K][te]=P[E++],Me++}for(var K=1;K<x;K++)for(var te=0;te<4;te++)Oe=this._Kd[K][te],this._Kd[K][te]=X[Oe>>24&255]^ae[Oe>>16&255]^ee[Oe>>8&255]^Q[Oe&255]},j.prototype.encrypt=function(x){if(x.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var E=this._Ke.length-1,D=[0,0,0,0],z=fe(x),P=0;P<4;P++)z[P]^=this._Ke[0][P];for(var de=1;de<E;de++){for(var P=0;P<4;P++)D[P]=w[z[P]>>24&255]^_[z[(P+1)%4]>>16&255]^v[z[(P+2)%4]>>8&255]^S[z[(P+3)%4]&255]^this._Ke[de][P];z=D.slice()}for(var Pe=a(16),Me,P=0;P<4;P++)Me=this._Ke[E][P],Pe[4*P]=(h[z[P]>>24&255]^Me>>24)&255,Pe[4*P+1]=(h[z[(P+1)%4]>>16&255]^Me>>16)&255,Pe[4*P+2]=(h[z[(P+2)%4]>>8&255]^Me>>8)&255,Pe[4*P+3]=(h[z[(P+3)%4]&255]^Me)&255;return Pe},j.prototype.decrypt=function(x){if(x.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var E=this._Kd.length-1,D=[0,0,0,0],z=fe(x),P=0;P<4;P++)z[P]^=this._Kd[0][P];for(var de=1;de<E;de++){for(var P=0;P<4;P++)D[P]=k[z[P]>>24&255]^C[z[(P+3)%4]>>16&255]^$[z[(P+2)%4]>>8&255]^W[z[(P+1)%4]&255]^this._Kd[de][P];z=D.slice()}for(var Pe=a(16),Me,P=0;P<4;P++)Me=this._Kd[E][P],Pe[4*P]=(y[z[P]>>24&255]^Me>>24)&255,Pe[4*P+1]=(y[z[(P+3)%4]>>16&255]^Me>>16)&255,Pe[4*P+2]=(y[z[(P+2)%4]>>8&255]^Me>>8)&255,Pe[4*P+3]=(y[z[(P+1)%4]&255]^Me)&255;return Pe};var g=function(x){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new j(x)};g.prototype.encrypt=function(x){if(x=s(x),x.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var E=a(x.length),D=a(16),z=0;z<x.length;z+=16)o(x,D,0,z,z+16),D=this._aes.encrypt(D),o(D,E,z);return E},g.prototype.decrypt=function(x){if(x=s(x),x.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var E=a(x.length),D=a(16),z=0;z<x.length;z+=16)o(x,D,0,z,z+16),D=this._aes.decrypt(D),o(D,E,z);return E};var b=function(x,E){if(!(this instanceof b))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!E)E=a(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(E,!0),this._aes=new j(x)};b.prototype.encrypt=function(x){if(x=s(x),x.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var E=a(x.length),D=a(16),z=0;z<x.length;z+=16){o(x,D,0,z,z+16);for(var P=0;P<16;P++)D[P]^=this._lastCipherblock[P];this._lastCipherblock=this._aes.encrypt(D),o(this._lastCipherblock,E,z)}return E},b.prototype.decrypt=function(x){if(x=s(x),x.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var E=a(x.length),D=a(16),z=0;z<x.length;z+=16){o(x,D,0,z,z+16),D=this._aes.decrypt(D);for(var P=0;P<16;P++)E[z+P]=D[P]^this._lastCipherblock[P];o(x,this._lastCipherblock,0,z,z+16)}return E};var d=function(x,E,D){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!E)E=a(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");D||(D=1),this.segmentSize=D,this._shiftRegister=s(E,!0),this._aes=new j(x)};d.prototype.encrypt=function(x){if(x.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var E=s(x,!0),D,z=0;z<E.length;z+=this.segmentSize){D=this._aes.encrypt(this._shiftRegister);for(var P=0;P<this.segmentSize;P++)E[z+P]^=D[P];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(E,this._shiftRegister,16-this.segmentSize,z,z+this.segmentSize)}return E},d.prototype.decrypt=function(x){if(x.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var E=s(x,!0),D,z=0;z<E.length;z+=this.segmentSize){D=this._aes.encrypt(this._shiftRegister);for(var P=0;P<this.segmentSize;P++)E[z+P]^=D[P];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(x,this._shiftRegister,16-this.segmentSize,z,z+this.segmentSize)}return E};var p=function(x,E){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!E)E=a(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(E,!0),this._lastPrecipherIndex=16,this._aes=new j(x)};p.prototype.encrypt=function(x){for(var E=s(x,!0),D=0;D<E.length;D++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),E[D]^=this._lastPrecipher[this._lastPrecipherIndex++];return E},p.prototype.decrypt=p.prototype.encrypt;var A=function(x){if(!(this instanceof A))throw Error("Counter must be instanitated with `new`");x!==0&&!x&&(x=1),typeof x=="number"?(this._counter=a(16),this.setValue(x)):this.setBytes(x)};A.prototype.setValue=function(x){if(typeof x!="number"||parseInt(x)!=x)throw new Error("invalid counter value (must be an integer)");for(var E=15;E>=0;--E)this._counter[E]=x%256,x=x>>8},A.prototype.setBytes=function(x){if(x=s(x,!0),x.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=x},A.prototype.increment=function(){for(var x=15;x>=0;x--)if(this._counter[x]===255)this._counter[x]=0;else{this._counter[x]++;break}};var M=function(x,E){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",E instanceof A||(E=new A(E)),this._counter=E,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new j(x)};M.prototype.encrypt=function(x){for(var E=s(x,!0),D=0;D<E.length;D++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),E[D]^=this._remainingCounter[this._remainingCounterIndex++];return E},M.prototype.decrypt=M.prototype.encrypt;function N(x){x=s(x,!0);var E=16-x.length%16,D=a(x.length+E);o(x,D);for(var z=x.length;z<D.length;z++)D[z]=E;return D}function I(x){if(x=s(x,!0),x.length<16)throw new Error("PKCS#7 invalid length");var E=x[x.length-1];if(E>16)throw new Error("PKCS#7 padding byte out of range");for(var D=x.length-E,z=0;z<E;z++)if(x[D+z]!==E)throw new Error("PKCS#7 invalid padding byte");var P=a(D);return o(x,P,0,0,D),P}var m={AES:j,Counter:A,ModeOfOperation:{ecb:g,cbc:b,cfb:d,ofb:p,ctr:M},utils:{hex:c,utf8:u},padding:{pkcs7:{pad:N,strip:I}},_arrayTest:{coerceArray:s,createArray:a,copyArray:o}};r.exports=m})()})(Z5);var FU=Z5.exports;const Yi=es(FU),J5="json-wallets/5.8.0";function ya(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),tt(r)}function lu(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function tb(r){return typeof r=="string"?Cr(r,Ni.NFKC):tt(r)}function Dr(r,e){let t=r;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const a in t)if(a.toLowerCase()===n[i]){s=t[a];break}if(s===null)return null;t=s}return t}function UU(r){const e=tt(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=st(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const qU=new Re(J5);class jU extends Hs{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Y5(r,e){const t=JSON.parse(r);e=tb(e);const n=dr(Dr(t,"ethaddr")),i=ya(Dr(t,"encseed"));(!i||i.length%16!==0)&&qU.throwArgumentError("invalid encseed","json",r);const s=tt(X1(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),o=i.slice(16),u=new Yi.ModeOfOperation.cbc(s,a),c=Yi.padding.pkcs7.strip(tt(u.decrypt(o)));let f="";for(let y=0;y<c.length;y++)f+=String.fromCharCode(c[y]);const l=Cr(f),h=lr(l);return new jU({_isCrowdsaleAccount:!0,address:n,privateKey:h})}function rb(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function nb(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function zU(r){if(rb(r))try{return dr(JSON.parse(r).ethaddr)}catch{return null}if(nb(r))try{return dr(JSON.parse(r).address)}catch{return null}return null}var Q5={exports:{}};(function(r,e){(function(t){function i(_){const v=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let S=1779033703,k=3144134277,C=1013904242,$=2773480762,W=1359893119,X=2600822924,ae=528734635,ee=1541459225;const Q=new Uint32Array(64);function fe(M){let N=0,I=M.length;for(;I>=64;){let m=S,x=k,E=C,D=$,z=W,P=X,de=ae,Pe=ee,Me,Oe,K,te,re;for(Oe=0;Oe<16;Oe++)K=N+Oe*4,Q[Oe]=(M[K]&255)<<24|(M[K+1]&255)<<16|(M[K+2]&255)<<8|M[K+3]&255;for(Oe=16;Oe<64;Oe++)Me=Q[Oe-2],te=(Me>>>17|Me<<15)^(Me>>>19|Me<<13)^Me>>>10,Me=Q[Oe-15],re=(Me>>>7|Me<<25)^(Me>>>18|Me<<14)^Me>>>3,Q[Oe]=(te+Q[Oe-7]|0)+(re+Q[Oe-16]|0)|0;for(Oe=0;Oe<64;Oe++)te=(((z>>>6|z<<26)^(z>>>11|z<<21)^(z>>>25|z<<7))+(z&P^~z&de)|0)+(Pe+(v[Oe]+Q[Oe]|0)|0)|0,re=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&x^m&E^x&E)|0,Pe=de,de=P,P=z,z=D+te|0,D=E,E=x,x=m,m=te+re|0;S=S+m|0,k=k+x|0,C=C+E|0,$=$+D|0,W=W+z|0,X=X+P|0,ae=ae+de|0,ee=ee+Pe|0,N+=64,I-=64}}fe(_);let j,g=_.length%64,b=_.length/536870912|0,d=_.length<<3,p=g<56?56:120,A=_.slice(_.length-g,_.length);for(A.push(128),j=g+1;j<p;j++)A.push(0);return A.push(b>>>24&255),A.push(b>>>16&255),A.push(b>>>8&255),A.push(b>>>0&255),A.push(d>>>24&255),A.push(d>>>16&255),A.push(d>>>8&255),A.push(d>>>0&255),fe(A),[S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,$>>>24&255,$>>>16&255,$>>>8&255,$>>>0&255,W>>>24&255,W>>>16&255,W>>>8&255,W>>>0&255,X>>>24&255,X>>>16&255,X>>>8&255,X>>>0&255,ae>>>24&255,ae>>>16&255,ae>>>8&255,ae>>>0&255,ee>>>24&255,ee>>>16&255,ee>>>8&255,ee>>>0&255]}function s(_,v,S){_=_.length<=64?_:i(_);const k=64+v.length+4,C=new Array(k),$=new Array(64);let W,X=[];for(W=0;W<64;W++)C[W]=54;for(W=0;W<_.length;W++)C[W]^=_[W];for(W=0;W<v.length;W++)C[64+W]=v[W];for(W=k-4;W<k;W++)C[W]=0;for(W=0;W<64;W++)$[W]=92;for(W=0;W<_.length;W++)$[W]^=_[W];function ae(){for(let ee=k-1;ee>=k-4;ee--){if(C[ee]++,C[ee]<=255)return;C[ee]=0}}for(;S>=32;)ae(),X=X.concat(i($.concat(i(C)))),S-=32;return S>0&&(ae(),X=X.concat(i($.concat(i(C))).slice(0,S))),X}function a(_,v,S,k,C){let $;for(f(_,(2*S-1)*16,C,0,16),$=0;$<2*S;$++)c(_,$*16,C,16),u(C,k),f(C,0,_,v+$*16,16);for($=0;$<S;$++)f(_,v+$*2*16,_,$*16,16);for($=0;$<S;$++)f(_,v+($*2+1)*16,_,($+S)*16,16)}function o(_,v){return _<<v|_>>>32-v}function u(_,v){f(_,0,v,0,16);for(let S=8;S>0;S-=2)v[4]^=o(v[0]+v[12],7),v[8]^=o(v[4]+v[0],9),v[12]^=o(v[8]+v[4],13),v[0]^=o(v[12]+v[8],18),v[9]^=o(v[5]+v[1],7),v[13]^=o(v[9]+v[5],9),v[1]^=o(v[13]+v[9],13),v[5]^=o(v[1]+v[13],18),v[14]^=o(v[10]+v[6],7),v[2]^=o(v[14]+v[10],9),v[6]^=o(v[2]+v[14],13),v[10]^=o(v[6]+v[2],18),v[3]^=o(v[15]+v[11],7),v[7]^=o(v[3]+v[15],9),v[11]^=o(v[7]+v[3],13),v[15]^=o(v[11]+v[7],18),v[1]^=o(v[0]+v[3],7),v[2]^=o(v[1]+v[0],9),v[3]^=o(v[2]+v[1],13),v[0]^=o(v[3]+v[2],18),v[6]^=o(v[5]+v[4],7),v[7]^=o(v[6]+v[5],9),v[4]^=o(v[7]+v[6],13),v[5]^=o(v[4]+v[7],18),v[11]^=o(v[10]+v[9],7),v[8]^=o(v[11]+v[10],9),v[9]^=o(v[8]+v[11],13),v[10]^=o(v[9]+v[8],18),v[12]^=o(v[15]+v[14],7),v[13]^=o(v[12]+v[15],9),v[14]^=o(v[13]+v[12],13),v[15]^=o(v[14]+v[13],18);for(let S=0;S<16;++S)_[S]+=v[S]}function c(_,v,S,k){for(let C=0;C<k;C++)S[C]^=_[v+C]}function f(_,v,S,k,C){for(;C--;)S[k++]=_[v++]}function l(_){if(!_||typeof _.length!="number")return!1;for(let v=0;v<_.length;v++){const S=_[v];if(typeof S!="number"||S%1||S<0||S>=256)return!1}return!0}function h(_,v){if(typeof _!="number"||_%1)throw new Error("invalid "+v);return _}function y(_,v,S,k,C,$,W){if(S=h(S,"N"),k=h(k,"r"),C=h(C,"p"),$=h($,"dkLen"),S===0||S&S-1)throw new Error("N must be power of 2");if(S>2147483647/128/k)throw new Error("N too large");if(k>2147483647/128/C)throw new Error("r too large");if(!l(_))throw new Error("password must be an array or buffer");if(_=Array.prototype.slice.call(_),!l(v))throw new Error("salt must be an array or buffer");v=Array.prototype.slice.call(v);let X=s(_,v,C*128*k);const ae=new Uint32Array(C*32*k);for(let z=0;z<ae.length;z++){const P=z*4;ae[z]=(X[P+3]&255)<<24|(X[P+2]&255)<<16|(X[P+1]&255)<<8|(X[P+0]&255)<<0}const ee=new Uint32Array(64*k),Q=new Uint32Array(32*k*S),fe=32*k,j=new Uint32Array(16),g=new Uint32Array(16),b=C*S*2;let d=0,p=null,A=!1,M=0,N=0,I,m;const x=W?parseInt(1e3/k):4294967295,E=typeof setImmediate<"u"?setImmediate:setTimeout,D=function(){if(A)return W(new Error("cancelled"),d/b);let z;switch(M){case 0:m=N*32*k,f(ae,m,ee,0,fe),M=1,I=0;case 1:z=S-I,z>x&&(z=x);for(let de=0;de<z;de++)f(ee,0,Q,(I+de)*fe,fe),a(ee,fe,k,j,g);if(I+=z,d+=z,W){const de=parseInt(1e3*d/b);if(de!==p){if(A=W(null,d/b),A)break;p=de}}if(I<S)break;I=0,M=2;case 2:z=S-I,z>x&&(z=x);for(let de=0;de<z;de++){const Pe=(2*k-1)*16,Me=ee[Pe]&S-1;c(Q,Me*fe,ee,fe),a(ee,fe,k,j,g)}if(I+=z,d+=z,W){const de=parseInt(1e3*d/b);if(de!==p){if(A=W(null,d/b),A)break;p=de}}if(I<S)break;if(f(ee,0,ae,m,fe),N++,N<C){M=0;break}X=[];for(let de=0;de<ae.length;de++)X.push(ae[de]>>0&255),X.push(ae[de]>>8&255),X.push(ae[de]>>16&255),X.push(ae[de]>>24&255);const P=s(_,X,$);return W&&W(null,1,P),P}W&&E(D)};if(!W)for(;;){const z=D();if(z!=null)return z}D()}const w={scrypt:function(_,v,S,k,C,$,W){return new Promise(function(X,ae){let ee=0;W&&W(0),y(_,v,S,k,C,$,function(Q,fe,j){if(Q)ae(Q);else if(j)W&&ee!==1&&W(1),X(new Uint8Array(j));else if(W&&fe!==ee)return ee=fe,W(fe)})})},syncScrypt:function(_,v,S,k,C,$){return new Uint8Array(y(_,v,S,k,C,$))}};r.exports=w})()})(Q5);var WU=Q5.exports;const ib=es(WU);var KU=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const Xg=new Re(J5);function x2(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class HU extends Hs{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function VU(r,e,t){if(Dr(r,"crypto/cipher")==="aes-128-ctr"){const i=ya(Dr(r,"crypto/cipherparams/iv")),s=new Yi.Counter(i),a=new Yi.ModeOfOperation.ctr(e,s);return tt(a.decrypt(t))}return null}function X5(r,e){const t=ya(Dr(r,"crypto/ciphertext"));if(st(lr(gr([e.slice(16,32),t]))).substring(2)!==Dr(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=VU(r,e.slice(0,16),t);i||Xg.throwError("unsupported cipher",Re.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),a=Us(i);if(r.address){let u=r.address.toLowerCase();if(u.substring(0,2)!=="0x"&&(u="0x"+u),dr(u)!==a)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:a,privateKey:st(i)};if(Dr(r,"x-ethers/version")==="0.1"){const u=ya(Dr(r,"x-ethers/mnemonicCiphertext")),c=ya(Dr(r,"x-ethers/mnemonicCounter")),f=new Yi.Counter(c),l=new Yi.ModeOfOperation.ctr(s,f),h=Dr(r,"x-ethers/path")||$o,y=Dr(r,"x-ethers/locale")||"en",w=tt(l.decrypt(u));try{const _=u0(w,y),v=Xn.fromMnemonic(_,null,y).derivePath(h);if(v.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=v.mnemonic}catch(_){if(_.code!==Re.errors.INVALID_ARGUMENT||_.argument!=="wordlist")throw _}}return new HU(o)}function e9(r,e,t,n,i){return tt(X1(r,e,t,n,i))}function GU(r,e,t,n,i){return Promise.resolve(e9(r,e,t,n,i))}function t9(r,e,t,n,i){const s=tb(e),a=Dr(r,"crypto/kdf");if(a&&typeof a=="string"){const o=function(u,c){return Xg.throwArgumentError("invalid key-derivation function parameters",u,c)};if(a.toLowerCase()==="scrypt"){const u=ya(Dr(r,"crypto/kdfparams/salt")),c=parseInt(Dr(r,"crypto/kdfparams/n")),f=parseInt(Dr(r,"crypto/kdfparams/r")),l=parseInt(Dr(r,"crypto/kdfparams/p"));(!c||!f||!l)&&o("kdf",a),c&c-1&&o("N",c);const h=parseInt(Dr(r,"crypto/kdfparams/dklen"));return h!==32&&o("dklen",h),n(s,u,c,f,l,64,i)}else if(a.toLowerCase()==="pbkdf2"){const u=ya(Dr(r,"crypto/kdfparams/salt"));let c=null;const f=Dr(r,"crypto/kdfparams/prf");f==="hmac-sha256"?c="sha256":f==="hmac-sha512"?c="sha512":o("prf",f);const l=parseInt(Dr(r,"crypto/kdfparams/c")),h=parseInt(Dr(r,"crypto/kdfparams/dklen"));return h!==32&&o("dklen",h),t(s,u,l,h,c)}}return Xg.throwArgumentError("unsupported key-derivation function","kdf",a)}function ZU(r,e){const t=JSON.parse(r),n=t9(t,e,e9,ib.syncScrypt);return X5(t,n)}function JU(r,e,t){return KU(this,void 0,void 0,function*(){const n=JSON.parse(r),i=yield t9(n,e,GU,ib.scrypt,t);return X5(n,i)})}function YU(r,e,t,n){try{if(dr(r.address)!==Us(r.privateKey))throw new Error("address/privateKey mismatch");if(x2(r)){const v=r.mnemonic;if(Xn.fromMnemonic(v.phrase,null,v.locale).derivePath(v.path||$o).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(v){return Promise.reject(v)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const i=tt(r.privateKey),s=tb(e);let a=null,o=null,u=null;if(x2(r)){const v=r.mnemonic;a=tt(o0(v.phrase,v.locale||"en")),o=v.path||$o,u=v.locale||"en"}let c=t.client;c||(c="ethers.js");let f=null;t.salt?f=tt(t.salt):f=xo(32);let l=null;if(t.iv){if(l=tt(t.iv),l.length!==16)throw new Error("invalid iv")}else l=xo(16);let h=null;if(t.uuid){if(h=tt(t.uuid),h.length!==16)throw new Error("invalid uuid")}else h=xo(16);let y=1<<17,w=8,_=1;return t.scrypt&&(t.scrypt.N&&(y=t.scrypt.N),t.scrypt.r&&(w=t.scrypt.r),t.scrypt.p&&(_=t.scrypt.p)),ib.scrypt(s,f,y,w,_,64,n).then(v=>{v=tt(v);const S=v.slice(0,16),k=v.slice(16,32),C=v.slice(32,64),$=new Yi.Counter(l),W=new Yi.ModeOfOperation.ctr(S,$),X=tt(W.encrypt(i)),ae=lr(gr([k,X])),ee={address:r.address.substring(2).toLowerCase(),id:UU(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:st(l).substring(2)},ciphertext:st(X).substring(2),kdf:"scrypt",kdfparams:{salt:st(f).substring(2),n:y,dklen:32,p:_,r:w},mac:ae.substring(2)}};if(a){const Q=xo(16),fe=new Yi.Counter(Q),j=new Yi.ModeOfOperation.ctr(C,fe),g=tt(j.encrypt(a)),b=new Date,d=b.getUTCFullYear()+"-"+lu(b.getUTCMonth()+1,2)+"-"+lu(b.getUTCDate(),2)+"T"+lu(b.getUTCHours(),2)+"-"+lu(b.getUTCMinutes(),2)+"-"+lu(b.getUTCSeconds(),2)+".0Z";ee["x-ethers"]={client:c,gethFilename:"UTC--"+d+"--"+ee.address,mnemonicCounter:st(Q).substring(2),mnemonicCiphertext:st(g).substring(2),path:o,locale:u,version:"0.1"}}return JSON.stringify(ee)})}function QU(r,e,t){if(rb(r)){t&&t(0);const n=Y5(r,e);return t&&t(1),Promise.resolve(n)}return nb(r)?JU(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function XU(r,e){if(rb(r))return Y5(r,e);if(nb(r))return ZU(r,e);throw new Error("invalid JSON wallet")}const eq="wallet/5.8.0";var w2=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const Ja=new Re(eq);function tq(r){return r!=null&&Lt(r.privateKey,32)&&r.address!=null}function rq(r){const e=r.mnemonic;return e&&e.phrase}class Ts extends Es{constructor(e,t){if(super(),tq(e)){const n=new va(e.privateKey);if(Ve(this,"_signingKey",()=>n),Ve(this,"address",Us(this.publicKey)),this.address!==dr(e.address)&&Ja.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),rq(e)){const i=e.mnemonic;Ve(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||$o,locale:i.locale||"en"}));const s=this.mnemonic,a=Xn.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Us(a.privateKey)!==this.address&&Ja.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Ve(this,"_mnemonic",()=>null)}else{if(va.isSigningKey(e))e.curve!=="secp256k1"&&Ja.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Ve(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new va(e);Ve(this,"_signingKey",()=>n)}Ve(this,"_mnemonic",()=>null),Ve(this,"address",Us(this.publicKey))}t&&!Ta.isProvider(t)&&Ja.throwArgumentError("invalid provider","provider",t),Ve(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Ts(this,e)}signTransaction(e){return Rr(e).then(t=>{t.from!=null&&(dr(t.from)!==this.address&&Ja.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(lr(Yg(t)));return Yg(t,n)})}signMessage(e){return w2(this,void 0,void 0,function*(){return Ad(this._signingKey().signDigest(H1(e)))})}_signTypedData(e,t,n){return w2(this,void 0,void 0,function*(){const i=yield dn.resolveNames(e,t,n,s=>(this.provider==null&&Ja.throwError("cannot resolve ENS names without a provider",Re.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return Ad(this._signingKey().signDigest(dn.hash(i.domain,t,i.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),YU(this,e,t,n)}static createRandom(e){let t=xo(16);e||(e={}),e.extraEntropy&&(t=tt(Or(lr(gr([t,e.extraEntropy])),0,16)));const n=u0(t,e.locale);return Ts.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return QU(e,t,n).then(i=>new Ts(i))}static fromEncryptedJsonSync(e,t){return new Ts(XU(e,t))}static fromMnemonic(e,t,n){return t||(t=$o),new Ts(Xn.fromMnemonic(e,null,n).derivePath(t))}}function nq(r,e){return vc(H1(r),e)}function iq(r,e,t,n){return vc(dn.hash(r,e,t),n)}const sq="networks/5.8.0",A2=new Re(sq);function aq(r){return r&&typeof r.renetwork=="function"}function _i(r){const e=function(t,n){n==null&&(n={});const i=[];if(t.InfuraProvider&&n.infura!=="-")try{i.push(new t.InfuraProvider(r,n.infura))}catch{}if(t.EtherscanProvider&&n.etherscan!=="-")try{i.push(new t.EtherscanProvider(r,n.etherscan))}catch{}if(t.AlchemyProvider&&n.alchemy!=="-")try{i.push(new t.AlchemyProvider(r,n.alchemy))}catch{}if(t.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const a=new t.PocketProvider(r,n.pocket);a.network&&s.indexOf(a.network.name)===-1&&i.push(a)}catch{}}if(t.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new t.CloudflareProvider(r))}catch{}if(t.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],a=new t.AnkrProvider(r,n.ankr);a.network&&s.indexOf(a.network.name)===-1&&i.push(a)}catch{}if(t.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new t.QuickNodeProvider(r,n.quicknode))}catch{}if(i.length===0)return null;if(t.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:r==="homestead"&&(s=2),new t.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(t){return _i(t)},e}function Od(r,e){const t=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(r,e):null};return t.renetwork=function(n){return Od(r,n)},t}const _2={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:_i("homestead")},E2={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:_i("ropsten")},S2={chainId:63,name:"classicMordor",_defaultProvider:Od("https://www.ethercluster.com/mordor","classicMordor")},Hc={unspecified:{chainId:0,name:"unspecified"},homestead:_2,mainnet:_2,morden:{chainId:2,name:"morden"},ropsten:E2,testnet:E2,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:_i("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:_i("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:_i("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:_i("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:_i("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:Od("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:S2,classicTestnet:S2,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Od("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:_i("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:_i("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:_i("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function sb(r){if(r==null)return null;if(typeof r=="number"){for(const n in Hc){const i=Hc[n];if(i.chainId===r)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=Hc[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Hc[r.name];if(!e)return typeof r.chainId!="number"&&A2.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&A2.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(aq(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const oq="web/5.8.0";var uq=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};function cq(r,e){return uq(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const a=e.fetchOptions;a.mode&&(t.mode=a.mode),a.cache&&(t.cache=a.cache),a.credentials&&(t.credentials=a.credentials),a.redirect&&(t.redirect=a.redirect),a.referrer&&(t.referrer=a.referrer)}const n=yield fetch(r,t),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((a,o)=>{s[o.toLowerCase()]=a}):n.headers.keys().forEach(a=>{s[a.toLowerCase()]=n.headers.get(a)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:tt(new Uint8Array(i))}})}var fq=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const wi=new Re(oq);function I2(r){return new Promise(e=>{setTimeout(e,r)})}function ks(r,e){if(r==null)return null;if(typeof r=="string")return r;if(Vo(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Vs(r)}catch{}return st(r)}return r}function lq(r){return Cr(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function r9(r,e,t){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;wi.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof r=="object"?r.throttleCallback:null,s=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;wi.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const a=typeof r=="object"?!!r.errorPassThrough:!1,o={};let u=null;const c={method:"GET"};let f=!1,l=2*60*1e3;if(typeof r=="string")u=r;else if(typeof r=="object"){if((r==null||r.url==null)&&wi.throwArgumentError("missing URL","connection.url",r),u=r.url,typeof r.timeout=="number"&&r.timeout>0&&(l=r.timeout),r.headers)for(const S in r.headers)o[S.toLowerCase()]={key:S,value:String(r.headers[S])},["if-none-match","if-modified-since"].indexOf(S.toLowerCase())>=0&&(f=!0);if(c.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){u.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&wi.throwError("basic authentication requires a secure https url",Re.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:r.user,password:"[REDACTED]"});const S=r.user+":"+r.password;o.authorization={key:"Authorization",value:"Basic "+W1(Cr(S))}}r.skipFetchSetup!=null&&(c.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(c.fetchOptions=wr(r.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),y=u?u.match(h):null;if(y)try{const S={statusCode:200,statusMessage:"OK",headers:{"content-type":y[1]||"text/plain"},body:y[2]?z1(y[3]):lq(y[3])};let k=S.body;return t&&(k=t(S.body,S)),Promise.resolve(k)}catch(S){wi.throwError("processing response error",Re.errors.SERVER_ERROR,{body:ks(y[1],y[2]),error:S,requestBody:null,requestMethod:"GET",url:u})}e&&(c.method="POST",c.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));const w={};Object.keys(o).forEach(S=>{const k=o[S];w[k.key]=k.value}),c.headers=w;const _=function(){let S=null;return{promise:new Promise(function($,W){l&&(S=setTimeout(()=>{S!=null&&(S=null,W(wi.makeError("timeout",Re.errors.TIMEOUT,{requestBody:ks(c.body,w["content-type"]),requestMethod:c.method,timeout:l,url:u})))},l))}),cancel:function(){S!=null&&(clearTimeout(S),S=null)}}}(),v=function(){return fq(this,void 0,void 0,function*(){for(let S=0;S<n;S++){let k=null;try{if(k=yield cq(u,c),S<n){if(k.statusCode===301||k.statusCode===302){const $=k.headers.location||"";if(c.method==="GET"&&$.match(/^https:/)){u=k.headers.location;continue}}else if(k.statusCode===429){let $=!0;if(i&&($=yield i(S,u)),$){let W=0;const X=k.headers["retry-after"];typeof X=="string"&&X.match(/^[1-9][0-9]*$/)?W=parseInt(X)*1e3:W=s*parseInt(String(Math.random()*Math.pow(2,S))),yield I2(W);continue}}}}catch($){k=$.response,k==null&&(_.cancel(),wi.throwError("missing response",Re.errors.SERVER_ERROR,{requestBody:ks(c.body,w["content-type"]),requestMethod:c.method,serverError:$,url:u}))}let C=k.body;if(f&&k.statusCode===304?C=null:!a&&(k.statusCode<200||k.statusCode>=300)&&(_.cancel(),wi.throwError("bad response",Re.errors.SERVER_ERROR,{status:k.statusCode,headers:k.headers,body:ks(C,k.headers?k.headers["content-type"]:null),requestBody:ks(c.body,w["content-type"]),requestMethod:c.method,url:u})),t)try{const $=yield t(C,k);return _.cancel(),$}catch($){if($.throttleRetry&&S<n){let W=!0;if(i&&(W=yield i(S,u)),W){const X=s*parseInt(String(Math.random()*Math.pow(2,S)));yield I2(X);continue}}_.cancel(),wi.throwError("processing response error",Re.errors.SERVER_ERROR,{body:ks(C,k.headers?k.headers["content-type"]:null),error:$,requestBody:ks(c.body,w["content-type"]),requestMethod:c.method,url:u})}return _.cancel(),C}return wi.throwError("failed response",Re.errors.SERVER_ERROR,{requestBody:ks(c.body,w["content-type"]),requestMethod:c.method,url:u})})}();return Promise.race([_.promise,v])}function Jo(r,e,t){let n=(s,a)=>{let o=null;if(s!=null)try{o=JSON.parse(Vs(s))}catch(u){wi.throwError("invalid JSON",Re.errors.SERVER_ERROR,{body:s,error:u})}return t&&(o=t(o,a)),o},i=null;if(e!=null){i=Cr(e);const s=typeof r=="string"?{url:r}:wr(r);s.headers?Object.keys(s.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(s.headers=wr(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},r=s}return r9(r,i,n)}function ga(r,e){return e||(e={}),e=wr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,n){let i=null,s=!1;const a=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{a()&&n(new Error("timeout"))},e.timeout));const o=e.retryLimit;let u=0;function c(){return r().then(function(f){if(f!==void 0)a()&&t(f);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(u++,u>o){a()&&n(new Error("retry limit reached"));return}let l=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));l<e.floor&&(l=e.floor),l>e.ceiling&&(l=e.ceiling),setTimeout(c,l)}return null},function(f){a()&&n(f)})}c()})}var Cd="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e1={};for(var Vc=0;Vc<Cd.length;Vc++){var Lh=Cd.charAt(Vc);if(e1[Lh]!==void 0)throw new TypeError(Lh+" is ambiguous");e1[Lh]=Vc}function So(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function n9(r){for(var e=1,t=0;t<r.length;++t){var n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=So(e)^n>>5}for(e=So(e),t=0;t<r.length;++t){var i=r.charCodeAt(t);e=So(e)^i&31}return e}function dq(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=n9(r);if(typeof n=="string")throw new Error(n);for(var i=r+"1",s=0;s<e.length;++s){var a=e[s];if(a>>5)throw new Error("Non 5-bit word");n=So(n)^a,i+=Cd.charAt(a)}for(s=0;s<6;++s)n=So(n);for(n^=1,s=0;s<6;++s){var o=n>>(5-s)*5&31;i+=Cd.charAt(o)}return i}function i9(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),n=r.toUpperCase();if(r!==t&&r!==n)return"Mixed-case string "+r;r=t;var i=r.lastIndexOf("1");if(i===-1)return"No separator character for "+r;if(i===0)return"Missing prefix for "+r;var s=r.slice(0,i),a=r.slice(i+1);if(a.length<6)return"Data too short";var o=n9(s);if(typeof o=="string")return o;for(var u=[],c=0;c<a.length;++c){var f=a.charAt(c),l=e1[f];if(l===void 0)return"Unknown character "+f;o=So(o)^l,!(c+6>=a.length)&&u.push(l)}return o!==1?"Invalid checksum for "+r:{prefix:s,words:u}}function hq(){var r=i9.apply(null,arguments);if(typeof r=="object")return r}function pq(r){var e=i9.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function c0(r,e,t,n){for(var i=0,s=0,a=(1<<t)-1,o=[],u=0;u<r.length;++u)for(i=i<<e|r[u],s+=e;s>=t;)s-=t,o.push(i>>s&a);if(n)s>0&&o.push(i<<t-s&a);else{if(s>=e)return"Excess padding";if(i<<t-s&a)return"Non-zero padding"}return o}function gq(r){var e=c0(r,8,5,!0);if(Array.isArray(e))return e}function bq(r){var e=c0(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function mq(r){var e=c0(r,5,8,!1);if(Array.isArray(e))return e}function vq(r){var e=c0(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var yq={decodeUnsafe:hq,decode:pq,encode:dq,toWordsUnsafe:gq,toWords:bq,fromWordsUnsafe:mq,fromWords:vq};const M2=es(yq),vn="providers/5.8.0",du=new Re(vn);class vt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),a=this.hash.bind(this),o=this.hex.bind(this),u=this.number.bind(this),c=this.type.bind(this),f=l=>this.data(l,!0);return e.transaction={hash:a,type:c,accessList:vt.allowNull(this.accessList.bind(this),null),blockHash:vt.allowNull(a,null),blockNumber:vt.allowNull(u,null),transactionIndex:vt.allowNull(u,null),confirmations:vt.allowNull(u,null),from:t,gasPrice:vt.allowNull(n),maxPriorityFeePerGas:vt.allowNull(n),maxFeePerGas:vt.allowNull(n),gasLimit:n,to:vt.allowNull(t,null),value:n,nonce:u,data:s,r:vt.allowNull(this.uint256),s:vt.allowNull(this.uint256),v:vt.allowNull(u),creates:vt.allowNull(t,null),raw:vt.allowNull(s)},e.transactionRequest={from:vt.allowNull(t),nonce:vt.allowNull(u),gasLimit:vt.allowNull(n),gasPrice:vt.allowNull(n),maxPriorityFeePerGas:vt.allowNull(n),maxFeePerGas:vt.allowNull(n),to:vt.allowNull(t),value:vt.allowNull(n),data:vt.allowNull(f),type:vt.allowNull(u),accessList:vt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:u,blockNumber:u,transactionHash:a,address:t,topics:vt.arrayOf(a),data:s,logIndex:u,blockHash:a},e.receipt={to:vt.allowNull(this.address,null),from:vt.allowNull(this.address,null),contractAddress:vt.allowNull(t,null),transactionIndex:u,root:vt.allowNull(o),gasUsed:n,logsBloom:vt.allowNull(s),blockHash:a,transactionHash:a,logs:vt.arrayOf(this.receiptLog.bind(this)),blockNumber:u,confirmations:vt.allowNull(u,null),cumulativeGasUsed:n,effectiveGasPrice:vt.allowNull(n),status:vt.allowNull(u),type:c},e.block={hash:vt.allowNull(a),parentHash:a,number:u,timestamp:u,nonce:vt.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:vt.allowNull(t),extraData:s,transactions:vt.allowNull(vt.arrayOf(a)),baseFeePerGas:vt.allowNull(n)},e.blockWithTransactions=wr(e.block),e.blockWithTransactions.transactions=vt.allowNull(vt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:vt.allowNull(i,void 0),toBlock:vt.allowNull(i,void 0),blockHash:vt.allowNull(a,void 0),address:vt.allowNull(t,void 0),topics:vt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:vt.allowNull(u),blockHash:vt.allowNull(a),transactionIndex:u,removed:vt.allowNull(this.boolean.bind(this)),address:t,data:vt.allowFalsish(s,"0x"),topics:vt.arrayOf(a),transactionHash:a,logIndex:u},e}accessList(e){return Zs(e||[])}number(e){return e==="0x"?0:et.from(e).toNumber()}type(e){return e==="0x"||e==null?0:et.from(e).toNumber()}bigNumber(e){return et.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Lt(e))?e.toLowerCase():du.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return dr(e)}callAddress(e){if(!Lt(e,32))return null;const t=dr(Or(e,12));return t===r5?null:t}contractAddress(e){return e0(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Lt(e))return Go(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return ki(n)!==32?du.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const t=et.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Lt(e))throw new Error("invalid uint256");return br(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=vt.check(t,e);return i._difficulty=n==null?null:et.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return vt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&et.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=vt.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Lt(n)&&(n=et.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;n==null&&t.v==null&&(n=e.chainId),Lt(n)&&(n=et.from(n).toNumber()),typeof n!="number"&&t.v!=null&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),t.chainId=n}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return $5(e)}receiptLog(e){return vt.check(this.formats.receiptLog,e)}receipt(e){const t=vt.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const n=et.from(t.root).toNumber();n===0||n===1?(t.status!=null&&t.status!==n&&du.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=n,delete t.root):du.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&du.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return vt.check(this.formats.filter,e)}filterLog(e){return vt.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const i in e)try{const s=e[i](t[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=t[i],s}return n}static allowNull(e,t){return function(n){return n==null?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach(function(i){n.push(e(i))}),n}}}function s9(r){return r&&typeof r.isCommunityResource=="function"}function t1(r){return s9(r)&&r.isCommunityResource()}let P2=!1;function yc(){P2||(P2=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Dt=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const jt=new Re(vn),xq=10;function R2(r){return r==null?"null":(ki(r)!==32&&jt.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function k2(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[R2(i)]=!0});const n=Object.keys(t);return n.sort(),n.join("|")}else return R2(e)}).join("&")}function wq(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function Ya(r){if(typeof r=="string"){if(r=r.toLowerCase(),ki(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+k2(r);if(zF.isForkEvent(r))throw jt.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+k2(r.topics||[])}throw new Error("invalid event - "+r)}function hu(){return new Date().getTime()}function N2(r){return new Promise(e=>{setTimeout(e,r)})}const Aq=["block","network","pending","poll"];let _q=class{constructor(e,t,n){Ve(this,"tag",e),Ve(this,"listener",t),Ve(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],n=wq(e[2]),i={};return n.length>0&&(i.topics=n),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||Aq.indexOf(this.tag)>=0}};const Eq={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function $h(r){return br(et.from(r).toHexString(),32)}function O2(r){return Bo.encode(gr([r,Or(xs(xs(r)),0,4)]))}const a9=new RegExp("^(ipfs)://(.*)$","i"),C2=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),a9,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function sd(r,e){try{return Vs(Qu(r,e))}catch{}return null}function Qu(r,e){if(r==="0x")return null;const t=et.from(Or(r,e,e+32)).toNumber(),n=et.from(Or(r,t,t+32)).toNumber();return Or(r,t+32,t+32+n)}function Fh(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):jt.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function T2(r){const e=tt(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function Sq(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}function o9(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(null),t+=32;for(let n=0;n<r.length;n++){const i=tt(r[n]);e[n]=T2(t),e.push(T2(i.length)),e.push(Sq(i)),t+=32+Math.ceil(i.length/32)*32}return En(e)}class r1{constructor(e,t,n,i){Ve(this,"provider",e),Ve(this,"name",n),Ve(this,"address",e.formatter.address(t)),Ve(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>et.from(e).eq(1)).catch(e=>{if(e.code===Re.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return Dt(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:En([e,Ru(this.name),t||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=En(["0x9061b923",o9([A5(this.name),n.data])]));try{let s=yield this.provider.call(n);return tt(s).length%32===4&&jt.throwError("resolver threw error",Re.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Qu(s,0)),s}catch(s){if(s.code===Re.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return Dt(this,void 0,void 0,function*(){const n=yield this._fetch(e,t);return n!=null?Qu(n,0):null})}_getAddress(e,t){const n=Eq[String(e)];if(n==null&&jt.throwError(`unsupported coin type: ${e}`,Re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(t);const i=tt(t);if(n.p2pkh!=null){const s=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const a=parseInt(s[1],16);if(s[2].length===a*2&&a>=1&&a<=75)return O2(gr([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const a=parseInt(s[1],16);if(s[2].length===a*2&&a>=1&&a<=75)return O2(gr([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let a=i[0];if(a===0?s!==20&&s!==32&&(a=-1):a=-1,a>=0&&i.length===2+s&&s>=1&&s<=75){const o=M2.toWords(i.slice(2));return o.unshift(a),M2.encode(n.prefix,o)}}return null}getAddress(e){return Dt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===$1?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===Re.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",$h(e));if(t==null||t==="0x")return null;const n=this._getAddress(e,t);return n==null&&jt.throwError("invalid or unsupported coin data",Re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n})}getAvatar(){return Dt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let n=0;n<C2.length;n++){const i=t.match(C2[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:Fh(t)};case"erc721":case"erc1155":{const a=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:t});const o=this._resolvedAddress||(yield this.getAddress()),u=(i[2]||"").split("/");if(u.length!==2)return null;const c=yield this.provider.formatter.address(u[0]),f=br(et.from(u[1]).toHexString(),32);if(s==="erc721"){const _=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:En(["0x6352211e",f])}));if(o!==_)return null;e.push({type:"owner",content:_})}else if(s==="erc1155"){const _=et.from(yield this.provider.call({to:c,data:En(["0x00fdd58e",br(o,32),f])}));if(_.isZero())return null;e.push({type:"balance",content:_.toString()})}const l={to:this.provider.formatter.address(u[0]),data:En([a,f])};let h=sd(yield this.provider.call(l),0);if(h==null)return null;e.push({type:"metadata-url-base",content:h}),s==="erc1155"&&(h=h.replace("{id}",f.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=Fh(h)),e.push({type:"metadata-url",content:h});const y=yield Jo(h);if(!y)return null;e.push({type:"metadata",content:JSON.stringify(y)});let w=y.image;if(typeof w!="string")return null;if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(a9)==null)return null;e.push({type:"url-ipfs",content:w}),w=Fh(w)}return e.push({type:"url",content:w}),{linkage:e,url:w}}}}}catch{}return null})}getContentHash(){return Dt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const a=parseInt(t[3],16);if(t[4].length===a*2)return"ipfs://"+Bo.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const a=parseInt(n[3],16);if(n[4].length===a*2)return"ipns://"+Bo.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const a={"=":"","+":"-","/":"_"};return"sia://"+W1("0x"+s[1]).replace(/[=+\/]/g,u=>a[u])}return jt.throwError("invalid or unsupported content hash data",Re.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Dt(this,void 0,void 0,function*(){let t=Cr(e);t=gr([$h(64),$h(t.length),t]),t.length%32!==0&&(t=gr([t,br("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",st(t));return n==null||n==="0x"?null:Vs(n)})}}let Uh=null,Iq=1;class f0 extends Ta{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Ve(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=an(new.target,"getNetwork")(e);t?(Ve(this,"_network",t),this.emit("network",t,null)):jt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Dt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||jt.throwError("no network detected",Re.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Ve(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return ga(()=>this._ready().then(e=>e,e=>{if(!(e.code===Re.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Uh==null&&(Uh=new vt),Uh}static getNetwork(e){return sb(e??"homestead")}ccipReadFetch(e,t,n){return Dt(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=t.toLowerCase(),a=[];for(let o=0;o<n.length;o++){const u=n[o],c=u.replace("{sender}",i).replace("{data}",s),f=u.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),l=yield Jo({url:c,errorPassThrough:!0},f,(y,w)=>(y.status=w.statusCode,y));if(l.data)return l.data;const h=l.message||"unknown error";if(l.status>=400&&l.status<500)return jt.throwError(`response not found during CCIP fetch: ${h}`,Re.errors.SERVER_ERROR,{url:u,errorMessage:h});a.push(h)}return jt.throwError(`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,Re.errors.SERVER_ERROR,{urls:n,errorMessages:a})})}_getInternalBlockNumber(e){return Dt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(hu()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=hu(),n=Rr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const a=hu();return i=et.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:a}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Dt(this,void 0,void 0,function*(){const e=Iq++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)jt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",jt.makeError("network block skew detected",Re.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let a=this.getTransactionReceipt(s).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+s]=o.blockNumber,this.emit(s,o)),null)).catch(o=>{this.emit("error",o)});t.push(a);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const a=s.toBlock-this._maxFilterBlockRange;a>s.fromBlock&&(s.fromBlock=a),s.fromBlock<0&&(s.fromBlock=0);const o=this.getLogs(s).then(u=>{i._inflight=!1,u.length!==0&&u.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(u=>{this.emit("error",u),i._inflight=!1});t.push(o)}break}}}),this._lastBlockNumber=n,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Dt(this,void 0,void 0,function*(){return jt.throwError("provider does not support network detection",Re.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Dt(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield N2(0),this._network;const n=jt.makeError("underlying network changed",Re.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=hu();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=hu(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return Dt(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,n||0,null)})}_waitForTransaction(e,t,n,i){return Dt(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=t?s:new Promise((a,o)=>{const u=[];let c=!1;const f=function(){return c?!0:(c=!0,u.forEach(h=>{h()}),!1)},l=h=>{h.confirmations<t||f()||a(h)};if(this.on(e,l),u.push(()=>{this.removeListener(e,l)}),i){let h=i.startBlock,y=null;const w=_=>Dt(this,void 0,void 0,function*(){c||(yield N2(1e3),this.getTransactionCount(i.from).then(v=>Dt(this,void 0,void 0,function*(){if(!c){if(v<=i.nonce)h=_;else{{const S=yield this.getTransaction(e);if(S&&S.blockNumber!=null)return}for(y==null&&(y=h-3,y<i.startBlock&&(y=i.startBlock));y<=_;){if(c)return;const S=yield this.getBlockWithTransactions(y);for(let k=0;k<S.transactions.length;k++){const C=S.transactions[k];if(C.hash===e)return;if(C.from===i.from&&C.nonce===i.nonce){if(c)return;const $=yield this.waitForTransaction(C.hash,t);if(f())return;let W="replaced";C.data===i.data&&C.to===i.to&&C.value.eq(i.value)?W="repriced":C.data==="0x"&&C.from===C.to&&C.value.isZero()&&(W="cancelled"),o(jt.makeError("transaction was replaced",Re.errors.TRANSACTION_REPLACED,{cancelled:W==="replaced"||W==="cancelled",reason:W,replacement:this._wrapTransaction(C),hash:e,receipt:$}));return}}y++}}c||this.once("block",w)}}),v=>{c||this.once("block",w)}))});if(c)return;this.once("block",w),u.push(()=>{this.removeListener("block",w)})}if(typeof n=="number"&&n>0){const h=setTimeout(()=>{f()||o(jt.makeError("timeout exceeded",Re.errors.TIMEOUT,{timeout:n}))},n);h.unref&&h.unref(),u.push(()=>{clearTimeout(h)})}})})}getBlockNumber(){return Dt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Dt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return et.from(e)}catch(t){return jt.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return Dt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rr({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",n);try{return et.from(i)}catch(s){return jt.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,t){return Dt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rr({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",n);try{return et.from(i).toNumber()}catch(s){return jt.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,t){return Dt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rr({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",n);try{return st(i)}catch(s){return jt.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,t,n){return Dt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Rr({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then(a=>Go(a))}),s=yield this.perform("getStorageAt",i);try{return st(s)}catch(a){return jt.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:a})}})}_wrapTransaction(e,t,n){if(t!=null&&ki(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&jt.throwError("Transaction hash mismatch from Provider.sendTransaction.",Re.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(s,a)=>Dt(this,void 0,void 0,function*(){s==null&&(s=1),a==null&&(a=0);let o;s!==0&&n!=null&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const u=yield this._waitForTransaction(e.hash,s,a,o);return u==null&&s===0?null:(this._emitted["t:"+e.hash]=u.blockNumber,u.status===0&&jt.throwError("transaction failed",Re.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:u}),u)}),i}sendTransaction(e){return Dt(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(s=>st(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return Dt(this,void 0,void 0,function*(){const t=yield e,n={};return["from","to"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?et.from(s):null))}),["type"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s??null))}),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?st(s):null))}),this.formatter.transactionRequest(yield Rr(n))})}_getFilter(e){return Dt(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(t[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(t[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Rr(t))})}_call(e,t,n){return Dt(this,void 0,void 0,function*(){n>=xq&&jt.throwError("CCIP read exceeded maximum redirections",Re.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&t==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&ki(s)%32===4)try{const a=Or(s,4),o=Or(a,0,32);et.from(o).eq(i)||jt.throwError("CCIP Read sender did not match",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const u=[],c=et.from(Or(a,32,64)).toNumber(),f=et.from(Or(a,c,c+32)).toNumber(),l=Or(a,c+32);for(let S=0;S<f;S++){const k=sd(l,S*32);k==null&&jt.throwError("CCIP Read contained corrupt URL string",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),u.push(k)}const h=Qu(a,64);et.from(Or(a,100,128)).isZero()||jt.throwError("CCIP Read callback selector included junk",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const y=Or(a,96,100),w=Qu(a,128),_=yield this.ccipReadFetch(e,h,u);_==null&&jt.throwError("CCIP Read disabled or provided no URLs",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const v={to:i,data:En([y,o9([_,w])])};return this._call(v,t,n+1)}catch(a){if(a.code===Re.errors.SERVER_ERROR)throw a}try{return st(s)}catch(a){return jt.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:s,error:a})}})}call(e,t){return Dt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Dt(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Rr({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return et.from(n)}catch(i){return jt.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:i})}})}_getAddress(e){return Dt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&jt.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&jt.throwError("ENS name not configured",Re.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return Dt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!t};if(Lt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Lt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{jt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return ga(()=>Dt(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(t){let a=null;for(let u=0;u<s.transactions.length;u++){const c=s.transactions[u];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){a==null&&(a=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let f=a-c.blockNumber+1;f<=0&&(f=1),c.confirmations=f}}const o=this.formatter.blockWithTransactions(s);return o.transactions=o.transactions.map(u=>this._wrapTransaction(u)),o}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Dt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return ga(()=>Dt(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;a<=0&&(a=1),i.confirmations=a}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Dt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return ga(()=>Dt(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;a<=0&&(a=1),i.confirmations=a}return i}),{oncePoll:this})})}getLogs(e){return Dt(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Rr({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),vt.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Dt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Dt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&jt.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return Dt(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const n=yield this._getResolver(t,"getResolver");if(n!=null){const i=new r1(this,n,e);return t!==e&&!(yield i.supportsWildcard())?null:i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return Dt(this,void 0,void 0,function*(){t==null&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||jt.throwError("network does not support ENS",Re.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Ru(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Dt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Lt(e))throw n}typeof e!="string"&&jt.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return Dt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(n==null)return null;const i=sd(yield this.call({to:n,data:"0x691f3431"+Ru(t).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Dt(this,void 0,void 0,function*(){let t=null;if(Lt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",a=yield this._getResolver(s,"getAvatar");if(!a)return null;t=new r1(this,a,s);try{const o=yield t.getAvatar();if(o)return o.url}catch(o){if(o.code!==Re.errors.CALL_EXCEPTION)throw o}try{const o=sd(yield this.call({to:a,data:"0x691f3431"+Ru(s).substring(2)}),0);t=yield this.getResolver(o)}catch(o){if(o.code!==Re.errors.CALL_EXCEPTION)throw o;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return n==null?null:n.url})}perform(e,t){return jt.throwError(e+" not implemented",Re.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,n){const i=new _q(Ya(e),t,n);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,i=[],s=Ya(e);return this._events=this._events.filter(a=>a.tag!==s?!0:(setTimeout(()=>{a.listener.apply(this,t)},0),n=!0,a.once?(i.push(a),!1):!0)),i.forEach(a=>{this._stopEvent(a)}),n}listenerCount(e){if(!e)return this._events.length;let t=Ya(e);return this._events.filter(n=>n.tag===t).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let t=Ya(e);return this._events.filter(n=>n.tag===t).map(n=>n.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Ya(e);return this._events=this._events.filter(a=>a.tag!==s||a.listener!=t||i?!0:(i=!0,n.push(a),!1)),n.forEach(a=>{this._stopEvent(a)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const n=Ya(e);this._events=this._events.filter(i=>i.tag!==n?!0:(t.push(i),!1))}return t.forEach(n=>{this._stopEvent(n)}),this}}var ps=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const qr=new Re(vn),Mq=["call","estimateGas"];function Ou(r,e){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const t=Lt(r.data)?r.data:null;if(!e||t)return{message:r.message,data:t}}if(typeof r=="object"){for(const t in r){const n=Ou(r[t],e);if(n)return n}return null}if(typeof r=="string")try{return Ou(JSON.parse(r),e)}catch{}return null}function u9(r,e,t){const n=t.transaction||t.signedTransaction;if(r==="call"){const s=Ou(e,!0);if(s)return s.data;qr.throwError("missing revert data in call exception; Transaction reverted without a reason string",Re.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(r==="estimateGas"){let s=Ou(e.body,!1);s==null&&(s=Ou(e,!1)),s&&qr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Re.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:r,transaction:n,error:e})}let i=e.message;throw e.code===Re.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&qr.throwError("insufficient funds for intrinsic transaction cost",Re.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:n}),i.match(/nonce (is )?too low/i)&&qr.throwError("nonce has already been used",Re.errors.NONCE_EXPIRED,{error:e,method:r,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&qr.throwError("replacement fee too low",Re.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:n}),i.match(/only replay-protected/i)&&qr.throwError("legacy pre-eip-155 transactions not supported",Re.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:n}),Mq.indexOf(r)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&qr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Re.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:n}),e}function D2(r){return new Promise(function(e){setTimeout(e,r)})}function Pq(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function pu(r){return r&&r.toLowerCase()}const n1={};class ab extends Es{constructor(e,t,n){if(super(),e!==n1)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Ve(this,"provider",t),n==null&&(n=0),typeof n=="string"?(Ve(this,"_address",this.provider.formatter.address(n)),Ve(this,"_index",null)):typeof n=="number"?(Ve(this,"_index",n),Ve(this,"_address",null)):qr.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return qr.throwError("cannot alter JSON-RPC Signer connection",Re.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Rq(n1,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&qr.throwError("unknown account #"+this._index,Re.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=wr(e);const t=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=wr(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>ps(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&qr.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Rr({tx:Rr(e),sender:t}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&qr.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(a=>a,a=>(typeof a.message=="string"&&a.message.match(/user denied/i)&&qr.throwError("user rejected transaction",Re.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),u9("sendTransaction",a,s)))})}signTransaction(e){return qr.throwError("signing transactions is unsupported",Re.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return ps(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield ga(()=>ps(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return ps(this,void 0,void 0,function*(){const t=typeof e=="string"?Cr(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[st(t),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&qr.throwError("user rejected signing",Re.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return ps(this,void 0,void 0,function*(){const t=typeof e=="string"?Cr(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),st(t)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&qr.throwError("user rejected signing",Re.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,t,n){return ps(this,void 0,void 0,function*(){const i=yield dn.resolveNames(e,t,n,a=>this.provider.resolveName(a)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(dn.getPayload(i.domain,t,i.value))])}catch(a){throw typeof a.message=="string"&&a.message.match(/user denied/i)&&qr.throwError("user rejected signing",Re.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:t,value:i.value}}),a}})}unlock(e){return ps(this,void 0,void 0,function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class Rq extends ab{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(t,n)}))}}const kq={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Ma extends f0{constructor(e,t){let n=t;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(a=>{i(a)},a=>{s(a)})},0)})),super(n),e||(e=an(this.constructor,"defaultUrl")()),typeof e=="string"?Ve(this,"connection",Object.freeze({url:e})):Ve(this,"connection",Object.freeze(wr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return ps(this,void 0,void 0,function*(){yield D2(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=an(this.constructor,"getNetwork");try{return t(et.from(e).toNumber())}catch(n){return qr.throwError("could not detect network",Re.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return qr.throwError("could not detect network",Re.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new ab(n1,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:In(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=Jo(this.connection,JSON.stringify(n),Pq).then(a=>(this.emit("debug",{action:"response",request:n,response:a,provider:this}),a),a=>{throw this.emit("debug",{action:"response",error:a,request:n,provider:this}),a});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[pu(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[pu(t.address),t.blockTag]];case"getCode":return["eth_getCode",[pu(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[pu(t.address),br(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[an(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[an(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=pu(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return ps(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&et.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=wr(t),t.transaction=wr(i),delete t.transaction.type)}}const n=this.prepareRequest(e,t);n==null&&qr.throwError(e+" not implemented",Re.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return u9(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=t)return null;let a=Promise.resolve();return s.forEach(function(o){e._emitted["t:"+o.toLowerCase()]="pending",a=a.then(function(){return e.getTransaction(o).then(function(u){return e.emit("pending",u),null})})}),a.then(function(){return D2(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=wr(kq);if(t)for(const s in t)t[s]&&(n[s]=!0);Qd(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const a=Go(et.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=a}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=st(e[s]))}),e.accessList&&(i.accessList=Zs(e.accessList)),i}}let Cu=null;try{if(Cu=WebSocket,Cu==null)throw new Error("inject please")}catch{const e=new Re(vn);Cu=function(){e.throwError("WebSockets not supported in this environment",Re.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var qh=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const Gc=new Re(vn);let Nq=1;class l0 extends Ma{constructor(e,t){t==="any"&&Gc.throwError("WebSocketProvider does not support 'any' network yet",Re.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?Ve(this,"_websocket",new Cu(this.connection.url)):Ve(this,"_websocket",e),Ve(this,"_requests",{}),Ve(this,"_subs",{}),Ve(this,"_subIds",{}),Ve(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const s=i.data,a=JSON.parse(s);if(a.id!=null){const o=String(a.id),u=this._requests[o];if(delete this._requests[o],a.result!==void 0)u.callback(null,a.result),this.emit("debug",{action:"response",request:JSON.parse(u.payload),response:a.result,provider:this});else{let c=null;a.error?(c=new Error(a.error.message||"unknown error"),Ve(c,"code",a.error.code||null),Ve(c,"response",s)):c=new Error("unknown error"),u.callback(c,void 0),this.emit("debug",{action:"response",error:c,request:JSON.parse(u.payload),provider:this})}}else if(a.method==="eth_subscription"){const o=this._subs[a.params.subscription];o&&o.processFunc(a.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Gc.throwError("cannot reset events block on WebSocketProvider",Re.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Gc.throwError("cannot set polling interval on WebSocketProvider",Re.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return qh(this,void 0,void 0,function*(){return null})}set polling(e){e&&Gc.throwError("cannot set polling on WebSocketProvider",Re.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=Nq++;return new Promise((i,s)=>{function a(u,c){return u?s(u):i(c)}const o=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(n)]={callback:a,payload:o},this._wsReady&&this.websocket.send(o)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return qh(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(t).then(a=>this.send("eth_subscribe",a)),this._subIds[e]=i);const s=yield i;this._subs[s]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const n=et.from(t.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=n=>{const i=n.hash;this.getTransactionReceipt(i).then(s=>{s&&this.emit(i,s)})};t(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];n&&(delete this._subIds[t],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return qh(this,void 0,void 0,function*(){this.websocket.readyState===Cu.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var Oq=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const yu=new Re(vn);class c9 extends Ma{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return Oq(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||yu.throwError("no network detected",Re.errors.UNKNOWN_ERROR,{}),this._network==null&&(Ve(this,"_network",t),this.emit("network",t,null))),t})}}class rs extends c9{constructor(e,t){yu.checkAbstract(new.target,rs),e=an(new.target,"getNetwork")(e),t=an(new.target,"getApiKey")(t);const n=an(new.target,"getUrl")(e,t);super(n,e),typeof t=="string"?Ve(this,"apiKey",t):t!=null&&Object.keys(t).forEach(i=>{Ve(this,i,t[i])})}_startPending(){yu.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return yu.throwError("API provider does not support signing",Re.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return yu.throwError("not implemented; sub-classes must override getUrl",Re.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const B2=new Re(vn),ad="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class f9 extends l0{constructor(e,t){const n=new ob(e,t),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),Ve(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===ad}}class ob extends rs{static getWebSocketProvider(e,t){return new f9(e,t)}static getApiKey(e){return e==null?ad:(e&&typeof e!="string"&&B2.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":n="eth-sepolia.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":n="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":n="opt-sepolia.g.alchemy.com/v2/";break;default:B2.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(i,s)=>(t===ad&&yc(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===ad}}const Cq=new Re(vn),Zc="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function Tq(r){switch(r){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return Cq.throwArgumentError("unsupported network","name",r)}class l9 extends rs{isCommunityResource(){return this.apiKey===Zc}static getApiKey(e){return e??Zc}static getUrl(e,t){t==null&&(t=Zc);const n={allowGzip:!0,url:"https://"+Tq(e.name)+t,throttleCallback:(i,s)=>(t.apiKey===Zc&&yc(),Promise.resolve(!0))};return t.projectSecret!=null&&(n.user="",n.password=t.projectSecret),n}}var Dq=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const L2=new Re(vn);class d9 extends rs{static getApiKey(e){return e!=null&&L2.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:L2.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Dq(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,t)})}}var Jc=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const Ds=new Re(vn);function $2(r){const e={};for(let t in r){if(r[t]==null)continue;let n=r[t];t==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?n=Go(st(n)):t==="accessList"?n="["+Zs(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=st(n),e[t]=n)}return e}function Bq(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||typeof r.message!="string"||!r.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return r.result}function F2(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(r),e.throttleRetry=!0,e}if(r.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),e}if(r.error){const e=new Error(r.error.message||"unknown error");throw r.error.code&&(e.code=r.error.code),r.error.data&&(e.data=r.error.data),e}return r.result}function U2(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}function jh(r,e,t){if(r==="call"&&e.code===Re.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let s=i.data;if(s&&(s="0x"+s.replace(/^.*0x/i,"")),Lt(s))return s;Ds.throwError("missing revert data in call exception",Re.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===Re.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Ds.throwError("insufficient funds for intrinsic transaction cost",Re.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Ds.throwError("nonce has already been used",Re.errors.NONCE_EXPIRED,{error:e,method:r,transaction:t}),n.match(/another transaction with same nonce/)&&Ds.throwError("replacement fee too low",Re.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:t}),n.match(/execution failed due to an exception|execution reverted/)&&Ds.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Re.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:t}),e}class h9 extends f0{constructor(e,t){super(e),Ve(this,"baseUrl",this.getBaseUrl()),Ve(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Ds.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const n=Object.keys(t).reduce((s,a)=>{const o=t[a];return o!=null&&(s+=`&${a}=${o}`),s},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return Jc(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,t),s=n?this.getPostData(e,t):null,a=e==="proxy"?F2:Bq;this.emit("debug",{action:"request",request:i,provider:this});const o={url:i,throttleSlotInterval:1e3,throttleCallback:(f,l)=>(this.isCommunityResource()&&yc(),Promise.resolve(!0))};let u=null;s&&(o.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},u=Object.keys(s).map(f=>`${f}=${s[f]}`).join("&"));const c=yield Jo(o,u,a||F2);return this.emit("debug",{action:"response",request:i,response:In(c),provider:this}),c})}detectNetwork(){return Jc(this,void 0,void 0,function*(){return this.network})}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Jc(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(i=>jh("sendTransaction",i,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=$2(t.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(s){return jh("call",s,t.transaction)}}case"estimateGas":{const i=$2(t.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(s){return jh("estimateGas",s,t.transaction)}}case"getLogs":{const i={action:"getLogs"};if(t.filter.fromBlock&&(i.fromBlock=U2(t.filter.fromBlock)),t.filter.toBlock&&(i.toBlock=U2(t.filter.toBlock)),t.filter.address&&(i.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Ds.throwError("unsupported topic count",Re.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const o=t.filter.topics[0];(typeof o!="string"||o.length!==66)&&Ds.throwError("unsupported topic format",Re.errors.UNSUPPORTED_OPERATION,{topic0:o}),i.topic0=o}const s=yield this.fetch("logs",i);let a={};for(let o=0;o<s.length;o++){const u=s[o];if(u.blockHash==null){if(a[u.blockNumber]==null){const c=yield this.getBlock(u.blockNumber);c&&(a[u.blockNumber]=c.hash)}u.blockHash=a[u.blockNumber]}}return s}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)})}getHistory(e,t,n){return Jc(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(a=>{["contractAddress","to"].forEach(function(u){a[u]==""&&delete a[u]}),a.creates==null&&a.contractAddress!=null&&(a.creates=a.contractAddress);const o=this.formatter.transactionResponse(a);return a.timeStamp&&(o.timestamp=parseInt(a.timeStamp)),o})})}isCommunityResource(){return this.apiKey==null}}var Td=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(l){a(l)}}function u(f){try{c(n.throw(f))}catch(l){a(l)}}function c(f){f.done?s(f.value):i(f.value).then(o,u)}c((n=n.apply(r,e||[])).next())})};const la=new Re(vn);function Yc(){return new Date().getTime()}function q2(r){let e=null;for(let t=0;t<r.length;t++){const n=r[t];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||la.throwArgumentError("provider mismatch","networks",r):e=n}return e}function j2(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const n=r[t-1],i=r[t];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function wo(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(et.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>wo(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let n=r[t];return typeof n=="function"?n="[function]":n=wo(n),JSON.stringify(t)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let Lq=1;function z2(r){let e=null,t=null,n=new Promise(a=>{e=function(){t&&(clearTimeout(t),t=null),a()},t=setTimeout(e,r)});const i=a=>(n=n.then(a),n);function s(){return n}return{cancel:e,getPromise:s,wait:i}}const $q=[Re.errors.CALL_EXCEPTION,Re.errors.INSUFFICIENT_FUNDS,Re.errors.NONCE_EXPIRED,Re.errors.REPLACEMENT_UNDERPRICED,Re.errors.UNPREDICTABLE_GAS_LIMIT],Fq=["address","args","errorArgs","errorSignature","method","transaction"];function Qc(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function Uq(r,e){return function(t){const n={};t.forEach(s=>{const a=r(s.result);n[a]||(n[a]={count:0,result:s.result}),n[a].count++});const i=Object.keys(n);for(let s=0;s<i.length;s++){const a=n[i[s]];if(a.count>=e)return a.result}}}function qq(r,e,t){let n=wo;switch(e){case"getBlockNumber":return function(i){const s=i.map(o=>o.result);let a=j2(i.map(o=>o.result),2);if(a!=null)return a=Math.ceil(a),s.indexOf(a+1)>=0&&a++,a>=r._highestBlockNumber&&(r._highestBlockNumber=a),r._highestBlockNumber};case"getGasPrice":return function(i){const s=i.map(a=>a.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return j2(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=wr(i),i.confirmations=-1,wo(i))};break;case"getBlock":t.includeTransactions?n=function(i){return i==null?null:(i=wr(i),i.transactions=i.transactions.map(s=>(s=wr(s),s.confirmations=-1,s)),wo(i))}:n=function(i){return i==null?null:wo(i)};break;default:throw new Error("unknown method: "+e)}return Uq(n,r.quorum)}function gu(r,e){return Td(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:ga(()=>new Promise((n,i)=>{setTimeout(function(){return t.blockNumber>=e?n(t):r.cancelled?n(null):n(void 0)},0)}),{oncePoll:t})})}function jq(r,e,t,n){return Td(this,void 0,void 0,function*(){let i=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return i[t]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Lt(n.blockTag)&&(i=yield gu(r,e)),i[t](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Lt(n.blockTag)&&(i=yield gu(r,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Lt(n.blockTag)&&(i=yield gu(r,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Lt(n.blockTag)&&(i=yield gu(r,e)),t==="call"&&n.blockTag?i[t](n.transaction,n.blockTag):i[t](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[t](n.transactionHash);case"getLogs":{let s=n.filter;return(s.fromBlock&&Lt(s.fromBlock)||s.toBlock&&Lt(s.toBlock))&&(i=yield gu(r,e)),i.getLogs(s)}}return la.throwError("unknown method error",Re.errors.UNKNOWN_ERROR,{method:t,params:n})})}class p9 extends f0{constructor(e,t){e.length===0&&la.throwArgumentError("missing providers","providers",e);const n=e.map((a,o)=>{if(Ta.isProvider(a)){const f=t1(a)?2e3:750;return Object.freeze({provider:a,weight:1,stallTimeout:f,priority:1})}const u=wr(a);u.priority==null&&(u.priority=1),u.stallTimeout==null&&(u.stallTimeout=t1(a)?2e3:750),u.weight==null&&(u.weight=1);const c=u.weight;return(c%1||c>512||c<1)&&la.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${o}].weight`,c),Object.freeze(u)}),i=n.reduce((a,o)=>a+o.weight,0);t==null?t=i/2:t>i&&la.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let s=q2(n.map(a=>a.provider.network));s==null&&(s=new Promise((a,o)=>{setTimeout(()=>{this.detectNetwork().then(a,o)},0)})),super(s),Ve(this,"providerConfigs",Object.freeze(n)),Ve(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Td(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return q2(e)})}perform(e,t){return Td(this,void 0,void 0,function*(){if(e==="sendTransaction"){const u=yield Promise.all(this.providerConfigs.map(c=>c.provider.sendTransaction(t.signedTransaction).then(f=>f.hash,f=>f)));for(let c=0;c<u.length;c++){const f=u[c];if(typeof f=="string")return f}throw u[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=qq(this,e,t),i=G5(this.providerConfigs.map(wr));i.sort((u,c)=>u.priority-c.priority);const s=this._highestBlockNumber;let a=0,o=!0;for(;;){const u=Yc();let c=i.filter(y=>y.runner&&u-y.start<y.stallTimeout).reduce((y,w)=>y+w.weight,0);for(;c<this.quorum&&a<i.length;){const y=i[a++],w=Lq++;y.start=Yc(),y.staller=z2(y.stallTimeout),y.staller.wait(()=>{y.staller=null}),y.runner=jq(y,s,e,t).then(_=>{y.done=!0,y.result=_,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:w,backend:Qc(y,Yc()),request:{method:e,params:In(t)},provider:this})},_=>{y.done=!0,y.error=_,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:w,backend:Qc(y,Yc()),request:{method:e,params:In(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:w,backend:Qc(y,null),request:{method:e,params:In(t)},provider:this}),c+=y.weight}const f=[];i.forEach(y=>{y.done||!y.runner||(f.push(y.runner),y.staller&&f.push(y.staller.getPromise()))}),f.length&&(yield Promise.race(f));const l=i.filter(y=>y.done&&y.error==null);if(l.length>=this.quorum){const y=n(l);if(y!==void 0)return i.forEach(w=>{w.staller&&w.staller.cancel(),w.cancelled=!0}),y;o||(yield z2(100).getPromise()),o=!1}const h=i.reduce((y,w)=>{if(!w.done||w.error==null)return y;const _=w.error.code;return $q.indexOf(_)>=0&&(y[_]||(y[_]={error:w.error,weight:0}),y[_].weight+=w.weight),y},{});if(Object.keys(h).forEach(y=>{const w=h[y];if(w.weight<this.quorum)return;i.forEach(S=>{S.staller&&S.staller.cancel(),S.cancelled=!0});const _=w.error,v={};Fq.forEach(S=>{_[S]!=null&&(v[S]=_[S])}),la.throwError(_.reason||_.message,y,v)}),i.filter(y=>!y.done).length===0)break}return i.forEach(u=>{u.staller&&u.staller.cancel(),u.cancelled=!0}),la.throwError("failed to meet quorum",Re.errors.SERVER_ERROR,{method:e,params:t,results:i.map(u=>Qc(u)),provider:this})})}}const g9=null,od=new Re(vn),xu="84842078b09946638c03157f83405213";class b9 extends l0{constructor(e,t){const n=new ub(e,t),i=n.connection;i.password&&od.throwError("INFURA WebSocket project secrets unsupported",Re.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const s=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),Ve(this,"apiKey",n.projectId),Ve(this,"projectId",n.projectId),Ve(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===xu}}class ub extends rs{static getWebSocketProvider(e,t){return new b9(e,t)}static getApiKey(e){const t={apiKey:xu,projectId:xu,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(od.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),od.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"optimism-sepolia":n="optimism-sepolia.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":n="arbitrum-sepolia.infura.io";break;default:od.throwError("unsupported network",Re.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(s,a)=>(t.projectId===xu&&yc(),Promise.resolve(!0))};return t.projectSecret!=null&&(i.user="",i.password=t.projectSecret),i}isCommunityResource(){return this.projectId===xu}}class zq extends Ma{send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const i={request:n,resolve:null,reject:null},s=new Promise((a,o)=>{i.resolve=a,i.reject=o});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const a=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const o=a.map(u=>u.request);return this.emit("debug",{action:"requestBatch",request:In(o),provider:this}),Jo(this.connection,JSON.stringify(o)).then(u=>{this.emit("debug",{action:"response",request:o,response:u,provider:this}),a.forEach((c,f)=>{const l=u[f];if(l.error){const h=new Error(l.error.message);h.code=l.error.code,h.data=l.error.data,c.reject(h)}else c.resolve(l.result)})},u=>{this.emit("debug",{action:"response",error:u,request:o,provider:this}),a.forEach(c=>{c.reject(u)})})},10)),s}}const zh=new Re(vn),Wq="ETHERS_JS_SHARED";class m9 extends rs{static getApiKey(e){return e&&typeof e!="string"&&zh.throwArgumentError("invalid apiKey","apiKey",e),e||Wq}static getUrl(e,t){zh.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:zh.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const W2=new Re(vn),K2="62e1ad51b37b8e00394bda3b";class v9 extends rs{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=K2:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:W2.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:W2.throwError("unsupported network",Re.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${t.applicationId}`,s={headers:{},url:i};return t.applicationSecretKey!=null&&(s.user="",s.password=t.applicationSecretKey),s}isCommunityResource(){return this.applicationId===K2}}const H2=new Re(vn),Kq="919b412a057b5e9c9b6dce193c5a60242d6efadb";class y9 extends rs{static getApiKey(e){return e&&typeof e!="string"&&H2.throwArgumentError("invalid apiKey","apiKey",e),e||Kq}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="ethers.quiknode.pro";break;case"goerli":n="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":n="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":n="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":n="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":n="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":n="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":n="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":n="ethers.base-goerli.quiknode.pro";break;case"base-spolia":n="ethers.base-sepolia.quiknode.pro";break;case"bnb":n="ethers.bsc.quiknode.pro";break;case"bnbt":n="ethers.bsc-testnet.quiknode.pro";break;case"matic":n="ethers.matic.quiknode.pro";break;case"maticmum":n="ethers.matic-testnet.quiknode.pro";break;case"optimism":n="ethers.optimism.quiknode.pro";break;case"optimism-goerli":n="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":n="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":n="ethers.xdai.quiknode.pro";break;default:H2.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+n+"/"+t}}const V2=new Re(vn);let Hq=1;function G2(r,e){const t="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:Hq++,jsonrpc:"2.0"};return new Promise((a,o)=>{this.emit("debug",{action:"request",fetcher:t,request:In(s),provider:this}),e(s,(u,c)=>{if(u)return this.emit("debug",{action:"response",fetcher:t,error:u,request:s,provider:this}),o(u);if(this.emit("debug",{action:"response",fetcher:t,request:s,response:c,provider:this}),c.error){const f=new Error(c.error.message);return f.code=c.error.code,f.data=c.error.data,o(f)}a(c.result)})})}}function Vq(r){return function(e,t){t==null&&(t=[]);const n={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:In(n),provider:this}),r.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class x9 extends Ma{constructor(e,t){e==null&&V2.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=Vq(e)):e.sendAsync?i=G2(e,e.sendAsync.bind(e)):e.send?i=G2(e,e.send.bind(e)):V2.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),Ve(this,"jsonRpcFetchFunc",i),Ve(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const Z2=new Re(vn);function cb(r,e){if(r==null&&(r="homestead"),typeof r=="string"){const n=r.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Ma(r);case"ws":case"wss":return new l0(r);default:Z2.throwArgumentError("unsupported URL scheme","network",r)}}const t=sb(r);return(!t||!t._defaultProvider)&&Z2.throwError("unsupported getDefaultProvider network",Re.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),t._defaultProvider({FallbackProvider:p9,AlchemyProvider:ob,AnkrProvider:l9,CloudflareProvider:d9,EtherscanProvider:h9,InfuraProvider:ub,JsonRpcProvider:Ma,NodesmithProvider:m9,PocketProvider:v9,QuickNodeProvider:y9,Web3Provider:x9,IpcProvider:g9},e)}const w9=Object.freeze(Object.defineProperty({__proto__:null,AlchemyProvider:ob,AlchemyWebSocketProvider:f9,AnkrProvider:l9,BaseProvider:f0,CloudflareProvider:d9,EtherscanProvider:h9,FallbackProvider:p9,Formatter:vt,InfuraProvider:ub,InfuraWebSocketProvider:b9,IpcProvider:g9,JsonRpcBatchProvider:zq,JsonRpcProvider:Ma,JsonRpcSigner:ab,NodesmithProvider:m9,PocketProvider:v9,Provider:Ta,QuickNodeProvider:y9,Resolver:r1,StaticJsonRpcProvider:c9,UrlJsonRpcProvider:rs,Web3Provider:x9,WebSocketProvider:l0,getDefaultProvider:cb,getNetwork:sb,isCommunityResourcable:s9,isCommunityResource:t1,showThrottleMessage:yc},Symbol.toStringTag,{value:"Module"})),Gq="solidity/5.8.0",Zq=new RegExp("^bytes([0-9]+)$"),Jq=new RegExp("^(u?int)([0-9]*)$"),Yq=new RegExp("^(.*)\\[([0-9]*)\\]$"),Qq="0000000000000000000000000000000000000000000000000000000000000000",bo=new Re(Gq);function A9(r,e,t){switch(r){case"address":return t?Eo(e,32):tt(e);case"string":return Cr(e);case"bytes":return tt(e);case"bool":return e=e?"0x01":"0x00",t?Eo(e,32):tt(e)}let n=r.match(Jq);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&bo.throwArgumentError("invalid number type","type",r),t&&(i=256),e=et.from(e).toTwos(i),Eo(e,i/8)}if(n=r.match(Zq),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&bo.throwArgumentError("invalid bytes type","type",r),tt(e).byteLength!==i&&bo.throwArgumentError(`invalid value for ${r}`,"value",e),t?tt((e+Qq).substring(0,66)):e}if(n=r.match(Yq),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&bo.throwArgumentError(`invalid array length for ${r}`,"value",e);const a=[];return e.forEach(function(o){a.push(A9(i,o,!0))}),gr(a)}return bo.throwArgumentError("invalid type","type",r)}function fb(r,e){r.length!=e.length&&bo.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(n,i){t.push(A9(n,e[i]))}),st(gr(t))}function Xq(r,e){return lr(fb(r,e))}function ej(r,e){return xs(fb(r,e))}const tj="units/5.8.0",_9=new Re(tj),E9=["wei","kwei","mwei","gwei","szabo","finney","ether"];function rj(r){const e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&_9.throwArgumentError("invalid value","value",r);let t=e[0],n="";for(t.substring(0,1)==="-"&&(n="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;t.length;)if(t.length<=3){s.unshift(t);break}else{const a=t.length-3;s.unshift(t.substring(a)),t=t.substring(0,a)}return n+s.join(",")+i}function S9(r,e){if(typeof e=="string"){const t=E9.indexOf(e);t!==-1&&(e=3*t)}return Pu(r,e??18)}function I9(r,e){if(typeof r!="string"&&_9.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=E9.indexOf(e);t!==-1&&(e=3*t)}return Ai(r,e??18)}function nj(r){return S9(r,18)}function ij(r){return I9(r,18)}const M9=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:p5,ConstructorFragment:Ei,ErrorFragment:ms,EventFragment:Gi,FormatTypes:nr,Fragment:Ji,FunctionFragment:Si,HDNode:Xn,Indexed:Id,Interface:Vg,LogDescription:I5,Logger:Re,ParamType:Vr,RLP:x$,SigningKey:va,get SupportedAlgorithm(){return Lo},TransactionDescription:M5,get TransactionTypes(){return Jg},get UnicodeNormalizationForm(){return Ni},Utf8ErrorFuncs:F1,get Utf8ErrorReason(){return Nn},_TypedDataEncoder:dn,_fetchData:r9,_toEscapedUtf8String:c5,accessListify:Zs,arrayify:tt,base58:Bo,base64:sF,checkProperties:Qd,checkResultErrors:G8,commify:rj,computeAddress:Us,computeHmac:Ju,computePublicKey:J1,concat:gr,deepCopy:In,defaultAbiCoder:g5,defaultPath:$o,defineReadOnly:Ve,dnsEncode:A5,entropyToMnemonic:u0,fetchJson:Jo,formatBytes32String:f5,formatEther:nj,formatUnits:S9,getAccountPath:BU,getAddress:dr,getContractAddress:e0,getCreate2Address:I$,getIcapAddress:S$,getJsonWalletAddress:zU,getStatic:an,hashMessage:H1,hexConcat:En,hexDataLength:ki,hexDataSlice:Or,hexStripZeros:C1,hexValue:Go,hexZeroPad:br,hexlify:st,id:$s,isAddress:E$,isBytes:As,isBytesLike:Vo,isHexString:Lt,isValidMnemonic:DU,isValidName:RF,joinSignature:Ad,keccak256:lr,mnemonicToEntropy:o0,mnemonicToSeed:V5,namehash:Ru,nameprep:h5,parseBytes32String:l5,parseEther:ij,parseTransaction:$5,parseUnits:I9,poll:ga,randomBytes:xo,recoverAddress:vc,recoverPublicKey:C5,resolveProperties:Rr,ripemd160:W5,serializeTransaction:Yg,sha256:xs,sha512:IU,shallowCopy:wr,shuffled:G5,solidityKeccak256:Xq,solidityPack:fb,soliditySha256:ej,splitSignature:Ks,stripZeros:Ri,toUtf8Bytes:Cr,toUtf8CodePoints:Gu,toUtf8String:Vs,verifyMessage:nq,verifyTypedData:iq,zeroPad:Eo},Symbol.toStringTag,{value:"Module"})),lb="ethers/5.8.0",P9=new Re(lb),R9=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:Q1,BigNumber:et,Contract:kd,ContractFactory:j5,FixedNumber:Ur,Signer:Es,VoidSigner:bc,Wallet:Ts,Wordlist:La,constants:a5,get errors(){return qn},getDefaultProvider:cb,logger:P9,providers:w9,utils:M9,version:lb,wordlists:Nd},Symbol.toStringTag,{value:"Module"}));try{const r=window;r._ethers==null&&(r._ethers=R9)}catch{}const sj=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:Q1,BigNumber:et,Contract:kd,ContractFactory:j5,FixedNumber:Ur,Signer:Es,VoidSigner:bc,Wallet:Ts,Wordlist:La,constants:a5,get errors(){return qn},ethers:R9,getDefaultProvider:cb,logger:P9,providers:w9,utils:M9,version:lb,wordlists:Nd},Symbol.toStringTag,{value:"Module"})),aj=ws(sj),oj=ws(t$);var Wh,J2;function uj(){return J2||(J2=1,Wh=function(r){return(e,...t)=>function(n,...i){return new Promise((s,a)=>{n(...i,(o,u)=>{o?a(o):s(u)})})}(e.bind(r),...t)}),Wh}var Kh={exports:{}},Hh={exports:{}},Vh={exports:{}},Y2;function k9(){return Y2||(Y2=1,function(r){function e(t,n){(n==null||n>t.length)&&(n=t.length);for(var i=0,s=Array(n);i<n;i++)s[i]=t[i];return s}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Vh)),Vh.exports}var Q2;function cj(){return Q2||(Q2=1,function(r){var e=k9();function t(n){if(Array.isArray(n))return e(n)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Hh)),Hh.exports}var Gh={exports:{}},X2;function fj(){return X2||(X2=1,function(r){function e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Gh)),Gh.exports}var Zh={exports:{}},ex;function N9(){return ex||(ex=1,function(r){var e=k9();function t(n,i){if(n){if(typeof n=="string")return e(n,i);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?e(n,i):void 0}}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Zh)),Zh.exports}var Jh={exports:{}},tx;function lj(){return tx||(tx=1,function(r){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Jh)),Jh.exports}var rx;function dj(){return rx||(rx=1,function(r){var e=cj(),t=fj(),n=N9(),i=lj();function s(a){return e(a)||t(a)||n(a)||i()}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports}(Kh)),Kh.exports}const hj=ws(s$);var Yh={exports:{}},Qh={exports:{}},nx;function pj(){return nx||(nx=1,function(r){function e(t){if(Array.isArray(t))return t}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Qh)),Qh.exports}var Xh={exports:{}},ix;function gj(){return ix||(ix=1,function(r){function e(t,n){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var s,a,o,u,c=[],f=!0,l=!1;try{if(o=(i=i.call(t)).next,n===0){if(Object(i)!==i)return;f=!1}else for(;!(f=(s=o.call(i)).done)&&(c.push(s.value),c.length!==n);f=!0);}catch(h){l=!0,a=h}finally{try{if(!f&&i.return!=null&&(u=i.return(),Object(u)!==u))return}finally{if(l)throw a}}return c}}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Xh)),Xh.exports}var ep={exports:{}},sx;function bj(){return sx||(sx=1,function(r){function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(ep)),ep.exports}var ax;function mj(){return ax||(ax=1,function(r){var e=pj(),t=gj(),n=N9(),i=bj();function s(a,o){return e(a)||t(a,o)||n(a,o)||i()}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports}(Yh)),Yh.exports}const vj=ws(v$);var tp={exports:{}},ox;function yj(){return ox||(ox=1,function(r){(function(e){var t,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,f=9007199254740991,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,y=1e9;function w(X){var ae,ee,Q,fe=z.prototype={constructor:z,toString:null,valueOf:null},j=new z(1),g=20,b=4,d=-7,p=21,A=-1e7,M=1e7,N=!1,I=1,m=0,x={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},E="0123456789abcdefghijklmnopqrstuvwxyz",D=!0;function z(K,te){var re,we,ge,xe,$e,Ae,F,G,ne=this;if(!(ne instanceof z))return new z(K,te);if(te==null){if(K&&K._isBigNumber===!0){ne.s=K.s,!K.c||K.e>M?ne.c=ne.e=null:K.e<A?ne.c=[ne.e=0]:(ne.e=K.e,ne.c=K.c.slice());return}if((Ae=typeof K=="number")&&K*0==0){if(ne.s=1/K<0?(K=-K,-1):1,K===~~K){for(xe=0,$e=K;$e>=10;$e/=10,xe++);xe>M?ne.c=ne.e=null:(ne.e=xe,ne.c=[K]);return}G=String(K)}else{if(!n.test(G=String(K)))return Q(ne,G,Ae);ne.s=G.charCodeAt(0)==45?(G=G.slice(1),-1):1}(xe=G.indexOf("."))>-1&&(G=G.replace(".","")),($e=G.search(/e/i))>0?(xe<0&&(xe=$e),xe+=+G.slice($e+1),G=G.substring(0,$e)):xe<0&&(xe=G.length)}else{if(k(te,2,E.length,"Base"),te==10&&D)return ne=new z(K),Me(ne,g+ne.e+1,b);if(G=String(K),Ae=typeof K=="number"){if(K*0!=0)return Q(ne,G,Ae,te);if(ne.s=1/K<0?(G=G.slice(1),-1):1,z.DEBUG&&G.replace(/^0\.0*|\./,"").length>15)throw Error(o+K)}else ne.s=G.charCodeAt(0)===45?(G=G.slice(1),-1):1;for(re=E.slice(0,te),xe=$e=0,F=G.length;$e<F;$e++)if(re.indexOf(we=G.charAt($e))<0){if(we=="."){if($e>xe){xe=F;continue}}else if(!ge&&(G==G.toUpperCase()&&(G=G.toLowerCase())||G==G.toLowerCase()&&(G=G.toUpperCase()))){ge=!0,$e=-1,xe=0;continue}return Q(ne,String(K),Ae,te)}Ae=!1,G=ee(G,te,10,ne.s),(xe=G.indexOf("."))>-1?G=G.replace(".",""):xe=G.length}for($e=0;G.charCodeAt($e)===48;$e++);for(F=G.length;G.charCodeAt(--F)===48;);if(G=G.slice($e,++F)){if(F-=$e,Ae&&z.DEBUG&&F>15&&(K>f||K!==s(K)))throw Error(o+ne.s*K);if((xe=xe-$e-1)>M)ne.c=ne.e=null;else if(xe<A)ne.c=[ne.e=0];else{if(ne.e=xe,ne.c=[],$e=(xe+1)%c,xe<0&&($e+=c),$e<F){for($e&&ne.c.push(+G.slice(0,$e)),F-=c;$e<F;)ne.c.push(+G.slice($e,$e+=c));$e=c-(G=G.slice($e)).length}else $e-=F;for(;$e--;G+="0");ne.c.push(+G)}}else ne.c=[ne.e=0]}z.clone=w,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(K){var te,re;if(K!=null)if(typeof K=="object"){if(K.hasOwnProperty(te="DECIMAL_PLACES")&&(re=K[te],k(re,0,y,te),g=re),K.hasOwnProperty(te="ROUNDING_MODE")&&(re=K[te],k(re,0,8,te),b=re),K.hasOwnProperty(te="EXPONENTIAL_AT")&&(re=K[te],re&&re.pop?(k(re[0],-1e9,0,te),k(re[1],0,y,te),d=re[0],p=re[1]):(k(re,-1e9,y,te),d=-(p=re<0?-re:re))),K.hasOwnProperty(te="RANGE"))if(re=K[te],re&&re.pop)k(re[0],-1e9,-1,te),k(re[1],1,y,te),A=re[0],M=re[1];else if(k(re,-1e9,y,te),re)A=-(M=re<0?-re:re);else throw Error(a+te+" cannot be zero: "+re);if(K.hasOwnProperty(te="CRYPTO"))if(re=K[te],re===!!re)if(re)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))N=re;else throw N=!re,Error(a+"crypto unavailable");else N=re;else throw Error(a+te+" not true or false: "+re);if(K.hasOwnProperty(te="MODULO_MODE")&&(re=K[te],k(re,0,9,te),I=re),K.hasOwnProperty(te="POW_PRECISION")&&(re=K[te],k(re,0,y,te),m=re),K.hasOwnProperty(te="FORMAT"))if(re=K[te],typeof re=="object")x=re;else throw Error(a+te+" not an object: "+re);if(K.hasOwnProperty(te="ALPHABET"))if(re=K[te],typeof re=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(re))D=re.slice(0,10)=="0123456789",E=re;else throw Error(a+te+" invalid: "+re)}else throw Error(a+"Object expected: "+K);return{DECIMAL_PLACES:g,ROUNDING_MODE:b,EXPONENTIAL_AT:[d,p],RANGE:[A,M],CRYPTO:N,MODULO_MODE:I,POW_PRECISION:m,FORMAT:x,ALPHABET:E}},z.isBigNumber=function(K){if(!K||K._isBigNumber!==!0)return!1;if(!z.DEBUG)return!0;var te,re,we=K.c,ge=K.e,xe=K.s;e:if({}.toString.call(we)=="[object Array]"){if((xe===1||xe===-1)&&ge>=-1e9&&ge<=y&&ge===s(ge)){if(we[0]===0){if(ge===0&&we.length===1)return!0;break e}if(te=(ge+1)%c,te<1&&(te+=c),String(we[0]).length==te){for(te=0;te<we.length;te++)if(re=we[te],re<0||re>=u||re!==s(re))break e;if(re!==0)return!0}}}else if(we===null&&ge===null&&(xe===null||xe===1||xe===-1))return!0;throw Error(a+"Invalid BigNumber: "+K)},z.maximum=z.max=function(){return de(arguments,-1)},z.minimum=z.min=function(){return de(arguments,1)},z.random=function(){var K=9007199254740992,te=Math.random()*K&2097151?function(){return s(Math.random()*K)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(re){var we,ge,xe,$e,Ae,F=0,G=[],ne=new z(j);if(re==null?re=g:k(re,0,y),$e=i(re/c),N)if(crypto.getRandomValues){for(we=crypto.getRandomValues(new Uint32Array($e*=2));F<$e;)Ae=we[F]*131072+(we[F+1]>>>11),Ae>=9e15?(ge=crypto.getRandomValues(new Uint32Array(2)),we[F]=ge[0],we[F+1]=ge[1]):(G.push(Ae%1e14),F+=2);F=$e/2}else if(crypto.randomBytes){for(we=crypto.randomBytes($e*=7);F<$e;)Ae=(we[F]&31)*281474976710656+we[F+1]*1099511627776+we[F+2]*4294967296+we[F+3]*16777216+(we[F+4]<<16)+(we[F+5]<<8)+we[F+6],Ae>=9e15?crypto.randomBytes(7).copy(we,F):(G.push(Ae%1e14),F+=7);F=$e/7}else throw N=!1,Error(a+"crypto unavailable");if(!N)for(;F<$e;)Ae=te(),Ae<9e15&&(G[F++]=Ae%1e14);for($e=G[--F],re%=c,$e&&re&&(Ae=l[c-re],G[F]=s($e/Ae)*Ae);G[F]===0;G.pop(),F--);if(F<0)G=[xe=0];else{for(xe=-1;G[0]===0;G.splice(0,1),xe-=c);for(F=1,Ae=G[0];Ae>=10;Ae/=10,F++);F<c&&(xe-=c-F)}return ne.e=xe,ne.c=G,ne}}(),z.sum=function(){for(var K=1,te=arguments,re=new z(te[0]);K<te.length;)re=re.plus(te[K++]);return re},ee=function(){var K="0123456789";function te(re,we,ge,xe){for(var $e,Ae=[0],F,G=0,ne=re.length;G<ne;){for(F=Ae.length;F--;Ae[F]*=we);for(Ae[0]+=xe.indexOf(re.charAt(G++)),$e=0;$e<Ae.length;$e++)Ae[$e]>ge-1&&(Ae[$e+1]==null&&(Ae[$e+1]=0),Ae[$e+1]+=Ae[$e]/ge|0,Ae[$e]%=ge)}return Ae.reverse()}return function(re,we,ge,xe,$e){var Ae,F,G,ne,ye,Ne,ke,Ke,Ze=re.indexOf("."),nt=g,U=b;for(Ze>=0&&(ne=m,m=0,re=re.replace(".",""),Ke=new z(we),Ne=Ke.pow(re.length-Ze),m=ne,Ke.c=te(W(v(Ne.c),Ne.e,"0"),10,ge,K),Ke.e=Ke.c.length),ke=te(re,we,ge,$e?(Ae=E,K):(Ae=K,E)),G=ne=ke.length;ke[--ne]==0;ke.pop());if(!ke[0])return Ae.charAt(0);if(Ze<0?--G:(Ne.c=ke,Ne.e=G,Ne.s=xe,Ne=ae(Ne,Ke,nt,U,ge),ke=Ne.c,ye=Ne.r,G=Ne.e),F=G+nt+1,Ze=ke[F],ne=ge/2,ye=ye||F<0||ke[F+1]!=null,ye=U<4?(Ze!=null||ye)&&(U==0||U==(Ne.s<0?3:2)):Ze>ne||Ze==ne&&(U==4||ye||U==6&&ke[F-1]&1||U==(Ne.s<0?8:7)),F<1||!ke[0])re=ye?W(Ae.charAt(1),-nt,Ae.charAt(0)):Ae.charAt(0);else{if(ke.length=F,ye)for(--ge;++ke[--F]>ge;)ke[F]=0,F||(++G,ke=[1].concat(ke));for(ne=ke.length;!ke[--ne];);for(Ze=0,re="";Ze<=ne;re+=Ae.charAt(ke[Ze++]));re=W(re,G,Ae.charAt(0))}return re}}(),ae=function(){function K(we,ge,xe){var $e,Ae,F,G,ne=0,ye=we.length,Ne=ge%h,ke=ge/h|0;for(we=we.slice();ye--;)F=we[ye]%h,G=we[ye]/h|0,$e=ke*F+G*Ne,Ae=Ne*F+$e%h*h+ne,ne=(Ae/xe|0)+($e/h|0)+ke*G,we[ye]=Ae%xe;return ne&&(we=[ne].concat(we)),we}function te(we,ge,xe,$e){var Ae,F;if(xe!=$e)F=xe>$e?1:-1;else for(Ae=F=0;Ae<xe;Ae++)if(we[Ae]!=ge[Ae]){F=we[Ae]>ge[Ae]?1:-1;break}return F}function re(we,ge,xe,$e){for(var Ae=0;xe--;)we[xe]-=Ae,Ae=we[xe]<ge[xe]?1:0,we[xe]=Ae*$e+we[xe]-ge[xe];for(;!we[0]&&we.length>1;we.splice(0,1));}return function(we,ge,xe,$e,Ae){var F,G,ne,ye,Ne,ke,Ke,Ze,nt,U,R,O,oe,Ie,Le,Ue,ct,gt=we.s==ge.s?1:-1,it=we.c,ot=ge.c;if(!it||!it[0]||!ot||!ot[0])return new z(!we.s||!ge.s||(it?ot&&it[0]==ot[0]:!ot)?NaN:it&&it[0]==0||!ot?gt*0:gt/0);for(Ze=new z(gt),nt=Ze.c=[],G=we.e-ge.e,gt=xe+G+1,Ae||(Ae=u,G=_(we.e/c)-_(ge.e/c),gt=gt/c|0),ne=0;ot[ne]==(it[ne]||0);ne++);if(ot[ne]>(it[ne]||0)&&G--,gt<0)nt.push(1),ye=!0;else{for(Ie=it.length,Ue=ot.length,ne=0,gt+=2,Ne=s(Ae/(ot[0]+1)),Ne>1&&(ot=K(ot,Ne,Ae),it=K(it,Ne,Ae),Ue=ot.length,Ie=it.length),oe=Ue,U=it.slice(0,Ue),R=U.length;R<Ue;U[R++]=0);ct=ot.slice(),ct=[0].concat(ct),Le=ot[0],ot[1]>=Ae/2&&Le++;do{if(Ne=0,F=te(ot,U,Ue,R),F<0){if(O=U[0],Ue!=R&&(O=O*Ae+(U[1]||0)),Ne=s(O/Le),Ne>1)for(Ne>=Ae&&(Ne=Ae-1),ke=K(ot,Ne,Ae),Ke=ke.length,R=U.length;te(ke,U,Ke,R)==1;)Ne--,re(ke,Ue<Ke?ct:ot,Ke,Ae),Ke=ke.length,F=1;else Ne==0&&(F=Ne=1),ke=ot.slice(),Ke=ke.length;if(Ke<R&&(ke=[0].concat(ke)),re(U,ke,R,Ae),R=U.length,F==-1)for(;te(ot,U,Ue,R)<1;)Ne++,re(U,Ue<R?ct:ot,R,Ae),R=U.length}else F===0&&(Ne++,U=[0]);nt[ne++]=Ne,U[0]?U[R++]=it[oe]||0:(U=[it[oe]],R=1)}while((oe++<Ie||U[0]!=null)&&gt--);ye=U[0]!=null,nt[0]||nt.splice(0,1)}if(Ae==u){for(ne=1,gt=nt[0];gt>=10;gt/=10,ne++);Me(Ze,xe+(Ze.e=ne+G*c-1)+1,$e,ye)}else Ze.e=G,Ze.r=+ye;return Ze}}();function P(K,te,re,we){var ge,xe,$e,Ae,F;if(re==null?re=b:k(re,0,8),!K.c)return K.toString();if(ge=K.c[0],$e=K.e,te==null)F=v(K.c),F=we==1||we==2&&($e<=d||$e>=p)?$(F,$e):W(F,$e,"0");else if(K=Me(new z(K),te,re),xe=K.e,F=v(K.c),Ae=F.length,we==1||we==2&&(te<=xe||xe<=d)){for(;Ae<te;F+="0",Ae++);F=$(F,xe)}else if(te-=$e,F=W(F,xe,"0"),xe+1>Ae){if(--te>0)for(F+=".";te--;F+="0");}else if(te+=xe-Ae,te>0)for(xe+1==Ae&&(F+=".");te--;F+="0");return K.s<0&&ge?"-"+F:F}function de(K,te){for(var re,we,ge=1,xe=new z(K[0]);ge<K.length;ge++)we=new z(K[ge]),(!we.s||(re=S(xe,we))===te||re===0&&xe.s===te)&&(xe=we);return xe}function Pe(K,te,re){for(var we=1,ge=te.length;!te[--ge];te.pop());for(ge=te[0];ge>=10;ge/=10,we++);return(re=we+re*c-1)>M?K.c=K.e=null:re<A?K.c=[K.e=0]:(K.e=re,K.c=te),K}Q=function(){var K=/^(-?)0([xbo])(?=\w[\w.]*$)/i,te=/^([^.]+)\.$/,re=/^\.([^.]+)$/,we=/^-?(Infinity|NaN)$/,ge=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(xe,$e,Ae,F){var G,ne=Ae?$e:$e.replace(ge,"");if(we.test(ne))xe.s=isNaN(ne)?null:ne<0?-1:1;else{if(!Ae&&(ne=ne.replace(K,function(ye,Ne,ke){return G=(ke=ke.toLowerCase())=="x"?16:ke=="b"?2:8,!F||F==G?Ne:ye}),F&&(G=F,ne=ne.replace(te,"$1").replace(re,"0.$1")),$e!=ne))return new z(ne,G);if(z.DEBUG)throw Error(a+"Not a"+(F?" base "+F:"")+" number: "+$e);xe.s=null}xe.c=xe.e=null}}();function Me(K,te,re,we){var ge,xe,$e,Ae,F,G,ne,ye=K.c,Ne=l;if(ye){e:{for(ge=1,Ae=ye[0];Ae>=10;Ae/=10,ge++);if(xe=te-ge,xe<0)xe+=c,$e=te,F=ye[G=0],ne=s(F/Ne[ge-$e-1]%10);else if(G=i((xe+1)/c),G>=ye.length)if(we){for(;ye.length<=G;ye.push(0));F=ne=0,ge=1,xe%=c,$e=xe-c+1}else break e;else{for(F=Ae=ye[G],ge=1;Ae>=10;Ae/=10,ge++);xe%=c,$e=xe-c+ge,ne=$e<0?0:s(F/Ne[ge-$e-1]%10)}if(we=we||te<0||ye[G+1]!=null||($e<0?F:F%Ne[ge-$e-1]),we=re<4?(ne||we)&&(re==0||re==(K.s<0?3:2)):ne>5||ne==5&&(re==4||we||re==6&&(xe>0?$e>0?F/Ne[ge-$e]:0:ye[G-1])%10&1||re==(K.s<0?8:7)),te<1||!ye[0])return ye.length=0,we?(te-=K.e+1,ye[0]=Ne[(c-te%c)%c],K.e=-te||0):ye[0]=K.e=0,K;if(xe==0?(ye.length=G,Ae=1,G--):(ye.length=G+1,Ae=Ne[c-xe],ye[G]=$e>0?s(F/Ne[ge-$e]%Ne[$e])*Ae:0),we)for(;;)if(G==0){for(xe=1,$e=ye[0];$e>=10;$e/=10,xe++);for($e=ye[0]+=Ae,Ae=1;$e>=10;$e/=10,Ae++);xe!=Ae&&(K.e++,ye[0]==u&&(ye[0]=1));break}else{if(ye[G]+=Ae,ye[G]!=u)break;ye[G--]=0,Ae=1}for(xe=ye.length;ye[--xe]===0;ye.pop());}K.e>M?K.c=K.e=null:K.e<A&&(K.c=[K.e=0])}return K}function Oe(K){var te,re=K.e;return re===null?K.toString():(te=v(K.c),te=re<=d||re>=p?$(te,re):W(te,re,"0"),K.s<0?"-"+te:te)}return fe.absoluteValue=fe.abs=function(){var K=new z(this);return K.s<0&&(K.s=1),K},fe.comparedTo=function(K,te){return S(this,new z(K,te))},fe.decimalPlaces=fe.dp=function(K,te){var re,we,ge,xe=this;if(K!=null)return k(K,0,y),te==null?te=b:k(te,0,8),Me(new z(xe),K+xe.e+1,te);if(!(re=xe.c))return null;if(we=((ge=re.length-1)-_(this.e/c))*c,ge=re[ge])for(;ge%10==0;ge/=10,we--);return we<0&&(we=0),we},fe.dividedBy=fe.div=function(K,te){return ae(this,new z(K,te),g,b)},fe.dividedToIntegerBy=fe.idiv=function(K,te){return ae(this,new z(K,te),0,1)},fe.exponentiatedBy=fe.pow=function(K,te){var re,we,ge,xe,$e,Ae,F,G,ne,ye=this;if(K=new z(K),K.c&&!K.isInteger())throw Error(a+"Exponent not an integer: "+Oe(K));if(te!=null&&(te=new z(te)),Ae=K.e>14,!ye.c||!ye.c[0]||ye.c[0]==1&&!ye.e&&ye.c.length==1||!K.c||!K.c[0])return ne=new z(Math.pow(+Oe(ye),Ae?K.s*(2-C(K)):+Oe(K))),te?ne.mod(te):ne;if(F=K.s<0,te){if(te.c?!te.c[0]:!te.s)return new z(NaN);we=!F&&ye.isInteger()&&te.isInteger(),we&&(ye=ye.mod(te))}else{if(K.e>9&&(ye.e>0||ye.e<-1||(ye.e==0?ye.c[0]>1||Ae&&ye.c[1]>=24e7:ye.c[0]<8e13||Ae&&ye.c[0]<=9999975e7)))return xe=ye.s<0&&C(K)?-0:0,ye.e>-1&&(xe=1/xe),new z(F?1/xe:xe);m&&(xe=i(m/c+2))}for(Ae?(re=new z(.5),F&&(K.s=1),G=C(K)):(ge=Math.abs(+Oe(K)),G=ge%2),ne=new z(j);;){if(G){if(ne=ne.times(ye),!ne.c)break;xe?ne.c.length>xe&&(ne.c.length=xe):we&&(ne=ne.mod(te))}if(ge){if(ge=s(ge/2),ge===0)break;G=ge%2}else if(K=K.times(re),Me(K,K.e+1,1),K.e>14)G=C(K);else{if(ge=+Oe(K),ge===0)break;G=ge%2}ye=ye.times(ye),xe?ye.c&&ye.c.length>xe&&(ye.c.length=xe):we&&(ye=ye.mod(te))}return we?ne:(F&&(ne=j.div(ne)),te?ne.mod(te):xe?Me(ne,m,b,$e):ne)},fe.integerValue=function(K){var te=new z(this);return K==null?K=b:k(K,0,8),Me(te,te.e+1,K)},fe.isEqualTo=fe.eq=function(K,te){return S(this,new z(K,te))===0},fe.isFinite=function(){return!!this.c},fe.isGreaterThan=fe.gt=function(K,te){return S(this,new z(K,te))>0},fe.isGreaterThanOrEqualTo=fe.gte=function(K,te){return(te=S(this,new z(K,te)))===1||te===0},fe.isInteger=function(){return!!this.c&&_(this.e/c)>this.c.length-2},fe.isLessThan=fe.lt=function(K,te){return S(this,new z(K,te))<0},fe.isLessThanOrEqualTo=fe.lte=function(K,te){return(te=S(this,new z(K,te)))===-1||te===0},fe.isNaN=function(){return!this.s},fe.isNegative=function(){return this.s<0},fe.isPositive=function(){return this.s>0},fe.isZero=function(){return!!this.c&&this.c[0]==0},fe.minus=function(K,te){var re,we,ge,xe,$e=this,Ae=$e.s;if(K=new z(K,te),te=K.s,!Ae||!te)return new z(NaN);if(Ae!=te)return K.s=-te,$e.plus(K);var F=$e.e/c,G=K.e/c,ne=$e.c,ye=K.c;if(!F||!G){if(!ne||!ye)return ne?(K.s=-te,K):new z(ye?$e:NaN);if(!ne[0]||!ye[0])return ye[0]?(K.s=-te,K):new z(ne[0]?$e:b==3?-0:0)}if(F=_(F),G=_(G),ne=ne.slice(),Ae=F-G){for((xe=Ae<0)?(Ae=-Ae,ge=ne):(G=F,ge=ye),ge.reverse(),te=Ae;te--;ge.push(0));ge.reverse()}else for(we=(xe=(Ae=ne.length)<(te=ye.length))?Ae:te,Ae=te=0;te<we;te++)if(ne[te]!=ye[te]){xe=ne[te]<ye[te];break}if(xe&&(ge=ne,ne=ye,ye=ge,K.s=-K.s),te=(we=ye.length)-(re=ne.length),te>0)for(;te--;ne[re++]=0);for(te=u-1;we>Ae;){if(ne[--we]<ye[we]){for(re=we;re&&!ne[--re];ne[re]=te);--ne[re],ne[we]+=u}ne[we]-=ye[we]}for(;ne[0]==0;ne.splice(0,1),--G);return ne[0]?Pe(K,ne,G):(K.s=b==3?-1:1,K.c=[K.e=0],K)},fe.modulo=fe.mod=function(K,te){var re,we,ge=this;return K=new z(K,te),!ge.c||!K.s||K.c&&!K.c[0]?new z(NaN):!K.c||ge.c&&!ge.c[0]?new z(ge):(I==9?(we=K.s,K.s=1,re=ae(ge,K,0,3),K.s=we,re.s*=we):re=ae(ge,K,0,I),K=ge.minus(re.times(K)),!K.c[0]&&I==1&&(K.s=ge.s),K)},fe.multipliedBy=fe.times=function(K,te){var re,we,ge,xe,$e,Ae,F,G,ne,ye,Ne,ke,Ke,Ze,nt,U=this,R=U.c,O=(K=new z(K,te)).c;if(!R||!O||!R[0]||!O[0])return!U.s||!K.s||R&&!R[0]&&!O||O&&!O[0]&&!R?K.c=K.e=K.s=null:(K.s*=U.s,!R||!O?K.c=K.e=null:(K.c=[0],K.e=0)),K;for(we=_(U.e/c)+_(K.e/c),K.s*=U.s,F=R.length,ye=O.length,F<ye&&(Ke=R,R=O,O=Ke,ge=F,F=ye,ye=ge),ge=F+ye,Ke=[];ge--;Ke.push(0));for(Ze=u,nt=h,ge=ye;--ge>=0;){for(re=0,Ne=O[ge]%nt,ke=O[ge]/nt|0,$e=F,xe=ge+$e;xe>ge;)G=R[--$e]%nt,ne=R[$e]/nt|0,Ae=ke*G+ne*Ne,G=Ne*G+Ae%nt*nt+Ke[xe]+re,re=(G/Ze|0)+(Ae/nt|0)+ke*ne,Ke[xe--]=G%Ze;Ke[xe]=re}return re?++we:Ke.splice(0,1),Pe(K,Ke,we)},fe.negated=function(){var K=new z(this);return K.s=-K.s||null,K},fe.plus=function(K,te){var re,we=this,ge=we.s;if(K=new z(K,te),te=K.s,!ge||!te)return new z(NaN);if(ge!=te)return K.s=-te,we.minus(K);var xe=we.e/c,$e=K.e/c,Ae=we.c,F=K.c;if(!xe||!$e){if(!Ae||!F)return new z(ge/0);if(!Ae[0]||!F[0])return F[0]?K:new z(Ae[0]?we:ge*0)}if(xe=_(xe),$e=_($e),Ae=Ae.slice(),ge=xe-$e){for(ge>0?($e=xe,re=F):(ge=-ge,re=Ae),re.reverse();ge--;re.push(0));re.reverse()}for(ge=Ae.length,te=F.length,ge-te<0&&(re=F,F=Ae,Ae=re,te=ge),ge=0;te;)ge=(Ae[--te]=Ae[te]+F[te]+ge)/u|0,Ae[te]=u===Ae[te]?0:Ae[te]%u;return ge&&(Ae=[ge].concat(Ae),++$e),Pe(K,Ae,$e)},fe.precision=fe.sd=function(K,te){var re,we,ge,xe=this;if(K!=null&&K!==!!K)return k(K,1,y),te==null?te=b:k(te,0,8),Me(new z(xe),K,te);if(!(re=xe.c))return null;if(ge=re.length-1,we=ge*c+1,ge=re[ge]){for(;ge%10==0;ge/=10,we--);for(ge=re[0];ge>=10;ge/=10,we++);}return K&&xe.e+1>we&&(we=xe.e+1),we},fe.shiftedBy=function(K){return k(K,-9007199254740991,f),this.times("1e"+K)},fe.squareRoot=fe.sqrt=function(){var K,te,re,we,ge,xe=this,$e=xe.c,Ae=xe.s,F=xe.e,G=g+4,ne=new z("0.5");if(Ae!==1||!$e||!$e[0])return new z(!Ae||Ae<0&&(!$e||$e[0])?NaN:$e?xe:1/0);if(Ae=Math.sqrt(+Oe(xe)),Ae==0||Ae==1/0?(te=v($e),(te.length+F)%2==0&&(te+="0"),Ae=Math.sqrt(+te),F=_((F+1)/2)-(F<0||F%2),Ae==1/0?te="5e"+F:(te=Ae.toExponential(),te=te.slice(0,te.indexOf("e")+1)+F),re=new z(te)):re=new z(Ae+""),re.c[0]){for(F=re.e,Ae=F+G,Ae<3&&(Ae=0);;)if(ge=re,re=ne.times(ge.plus(ae(xe,ge,G,1))),v(ge.c).slice(0,Ae)===(te=v(re.c)).slice(0,Ae))if(re.e<F&&--Ae,te=te.slice(Ae-3,Ae+1),te=="9999"||!we&&te=="4999"){if(!we&&(Me(ge,ge.e+g+2,0),ge.times(ge).eq(xe))){re=ge;break}G+=4,Ae+=4,we=1}else{(!+te||!+te.slice(1)&&te.charAt(0)=="5")&&(Me(re,re.e+g+2,1),K=!re.times(re).eq(xe));break}}return Me(re,re.e+g+1,b,K)},fe.toExponential=function(K,te){return K!=null&&(k(K,0,y),K++),P(this,K,te,1)},fe.toFixed=function(K,te){return K!=null&&(k(K,0,y),K=K+this.e+1),P(this,K,te)},fe.toFormat=function(K,te,re){var we,ge=this;if(re==null)K!=null&&te&&typeof te=="object"?(re=te,te=null):K&&typeof K=="object"?(re=K,K=te=null):re=x;else if(typeof re!="object")throw Error(a+"Argument not an object: "+re);if(we=ge.toFixed(K,te),ge.c){var xe,$e=we.split("."),Ae=+re.groupSize,F=+re.secondaryGroupSize,G=re.groupSeparator||"",ne=$e[0],ye=$e[1],Ne=ge.s<0,ke=Ne?ne.slice(1):ne,Ke=ke.length;if(F&&(xe=Ae,Ae=F,F=xe,Ke-=xe),Ae>0&&Ke>0){for(xe=Ke%Ae||Ae,ne=ke.substr(0,xe);xe<Ke;xe+=Ae)ne+=G+ke.substr(xe,Ae);F>0&&(ne+=G+ke.slice(xe)),Ne&&(ne="-"+ne)}we=ye?ne+(re.decimalSeparator||"")+((F=+re.fractionGroupSize)?ye.replace(new RegExp("\\d{"+F+"}\\B","g"),"$&"+(re.fractionGroupSeparator||"")):ye):ne}return(re.prefix||"")+we+(re.suffix||"")},fe.toFraction=function(K){var te,re,we,ge,xe,$e,Ae,F,G,ne,ye,Ne,ke=this,Ke=ke.c;if(K!=null&&(Ae=new z(K),!Ae.isInteger()&&(Ae.c||Ae.s!==1)||Ae.lt(j)))throw Error(a+"Argument "+(Ae.isInteger()?"out of range: ":"not an integer: ")+Oe(Ae));if(!Ke)return new z(ke);for(te=new z(j),G=re=new z(j),we=F=new z(j),Ne=v(Ke),xe=te.e=Ne.length-ke.e-1,te.c[0]=l[($e=xe%c)<0?c+$e:$e],K=!K||Ae.comparedTo(te)>0?xe>0?te:G:Ae,$e=M,M=1/0,Ae=new z(Ne),F.c[0]=0;ne=ae(Ae,te,0,1),ge=re.plus(ne.times(we)),ge.comparedTo(K)!=1;)re=we,we=ge,G=F.plus(ne.times(ge=G)),F=ge,te=Ae.minus(ne.times(ge=te)),Ae=ge;return ge=ae(K.minus(re),we,0,1),F=F.plus(ge.times(G)),re=re.plus(ge.times(we)),F.s=G.s=ke.s,xe=xe*2,ye=ae(G,we,xe,b).minus(ke).abs().comparedTo(ae(F,re,xe,b).minus(ke).abs())<1?[G,we]:[F,re],M=$e,ye},fe.toNumber=function(){return+Oe(this)},fe.toPrecision=function(K,te){return K!=null&&k(K,1,y),P(this,K,te,2)},fe.toString=function(K){var te,re=this,we=re.s,ge=re.e;return ge===null?we?(te="Infinity",we<0&&(te="-"+te)):te="NaN":(K==null?te=ge<=d||ge>=p?$(v(re.c),ge):W(v(re.c),ge,"0"):K===10&&D?(re=Me(new z(re),g+ge+1,b),te=W(v(re.c),re.e,"0")):(k(K,2,E.length,"Base"),te=ee(W(v(re.c),ge,"0"),10,K,we,!0)),we<0&&re.c[0]&&(te="-"+te)),te},fe.valueOf=fe.toJSON=function(){return Oe(this)},fe._isBigNumber=!0,X!=null&&z.set(X),z}function _(X){var ae=X|0;return X>0||X===ae?ae:ae-1}function v(X){for(var ae,ee,Q=1,fe=X.length,j=X[0]+"";Q<fe;){for(ae=X[Q++]+"",ee=c-ae.length;ee--;ae="0"+ae);j+=ae}for(fe=j.length;j.charCodeAt(--fe)===48;);return j.slice(0,fe+1||1)}function S(X,ae){var ee,Q,fe=X.c,j=ae.c,g=X.s,b=ae.s,d=X.e,p=ae.e;if(!g||!b)return null;if(ee=fe&&!fe[0],Q=j&&!j[0],ee||Q)return ee?Q?0:-b:g;if(g!=b)return g;if(ee=g<0,Q=d==p,!fe||!j)return Q?0:!fe^ee?1:-1;if(!Q)return d>p^ee?1:-1;for(b=(d=fe.length)<(p=j.length)?d:p,g=0;g<b;g++)if(fe[g]!=j[g])return fe[g]>j[g]^ee?1:-1;return d==p?0:d>p^ee?1:-1}function k(X,ae,ee,Q){if(X<ae||X>ee||X!==s(X))throw Error(a+(Q||"Argument")+(typeof X=="number"?X<ae||X>ee?" out of range: ":" not an integer: ":" not a primitive number: ")+String(X))}function C(X){var ae=X.c.length-1;return _(X.e/c)==ae&&X.c[ae]%2!=0}function $(X,ae){return(X.length>1?X.charAt(0)+"."+X.slice(1):X)+(ae<0?"e":"e+")+ae}function W(X,ae,ee){var Q,fe;if(ae<0){for(fe=ee+".";++ae;fe+=ee);X=fe+X}else if(Q=X.length,++ae>Q){for(fe=ee,ae-=Q;--ae;fe+=ee);X+=fe}else ae<Q&&(X=X.slice(0,ae)+"."+X.slice(ae));return X}t=w(),t.default=t.BigNumber=t,r.exports?r.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(Ki)}(tp)),tp.exports}var rp={exports:{}},ux;function O9(){return ux||(ux=1,function(r){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(rp)),rp.exports}const xj=ws(f$);var Xc={exports:{}},cx;function wj(){return cx||(cx=1,function(r,e){var t={};e=r.exports=ke;var n;typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?n=function(){var be=Array.prototype.slice.call(arguments,0);be.unshift("SEMVER"),console.log.apply(console,be)}:n=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var i=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,o=i-6,u=e.re=[],c=e.safeRe=[],f=e.src=[],l=0,h="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",i],[h,o]];function w(be){for(var le=0;le<y.length;le++){var je=y[le][0],Qe=y[le][1];be=be.split(je+"*").join(je+"{0,"+Qe+"}").split(je+"+").join(je+"{1,"+Qe+"}")}return be}var _=l++;f[_]="0|[1-9]\\d*";var v=l++;f[v]="\\d+";var S=l++;f[S]="\\d*[a-zA-Z-]"+h+"*";var k=l++;f[k]="("+f[_]+")\\.("+f[_]+")\\.("+f[_]+")";var C=l++;f[C]="("+f[v]+")\\.("+f[v]+")\\.("+f[v]+")";var $=l++;f[$]="(?:"+f[_]+"|"+f[S]+")";var W=l++;f[W]="(?:"+f[v]+"|"+f[S]+")";var X=l++;f[X]="(?:-("+f[$]+"(?:\\."+f[$]+")*))";var ae=l++;f[ae]="(?:-?("+f[W]+"(?:\\."+f[W]+")*))";var ee=l++;f[ee]=h+"+";var Q=l++;f[Q]="(?:\\+("+f[ee]+"(?:\\."+f[ee]+")*))";var fe=l++,j="v?"+f[k]+f[X]+"?"+f[Q]+"?";f[fe]="^"+j+"$";var g="[v=\\s]*"+f[C]+f[ae]+"?"+f[Q]+"?",b=l++;f[b]="^"+g+"$";var d=l++;f[d]="((?:<|>)?=?)";var p=l++;f[p]=f[v]+"|x|X|\\*";var A=l++;f[A]=f[_]+"|x|X|\\*";var M=l++;f[M]="[v=\\s]*("+f[A]+")(?:\\.("+f[A]+")(?:\\.("+f[A]+")(?:"+f[X]+")?"+f[Q]+"?)?)?";var N=l++;f[N]="[v=\\s]*("+f[p]+")(?:\\.("+f[p]+")(?:\\.("+f[p]+")(?:"+f[ae]+")?"+f[Q]+"?)?)?";var I=l++;f[I]="^"+f[d]+"\\s*"+f[M]+"$";var m=l++;f[m]="^"+f[d]+"\\s*"+f[N]+"$";var x=l++;f[x]="(?:^|[^\\d])(\\d{1,"+a+"})(?:\\.(\\d{1,"+a+"}))?(?:\\.(\\d{1,"+a+"}))?(?:$|[^\\d])";var E=l++;f[E]="(?:~>?)";var D=l++;f[D]="(\\s*)"+f[E]+"\\s+",u[D]=new RegExp(f[D],"g"),c[D]=new RegExp(w(f[D]),"g");var z="$1~",P=l++;f[P]="^"+f[E]+f[M]+"$";var de=l++;f[de]="^"+f[E]+f[N]+"$";var Pe=l++;f[Pe]="(?:\\^)";var Me=l++;f[Me]="(\\s*)"+f[Pe]+"\\s+",u[Me]=new RegExp(f[Me],"g"),c[Me]=new RegExp(w(f[Me]),"g");var Oe="$1^",K=l++;f[K]="^"+f[Pe]+f[M]+"$";var te=l++;f[te]="^"+f[Pe]+f[N]+"$";var re=l++;f[re]="^"+f[d]+"\\s*("+g+")$|^$";var we=l++;f[we]="^"+f[d]+"\\s*("+j+")$|^$";var ge=l++;f[ge]="(\\s*)"+f[d]+"\\s*("+g+"|"+f[M]+")",u[ge]=new RegExp(f[ge],"g"),c[ge]=new RegExp(w(f[ge]),"g");var xe="$1$2$3",$e=l++;f[$e]="^\\s*("+f[M]+")\\s+-\\s+("+f[M]+")\\s*$";var Ae=l++;f[Ae]="^\\s*("+f[N]+")\\s+-\\s+("+f[N]+")\\s*$";var F=l++;f[F]="(<|>)?=?\\s*\\*";for(var G=0;G<l;G++)n(G,f[G]),u[G]||(u[G]=new RegExp(f[G]),c[G]=new RegExp(w(f[G])));e.parse=ne;function ne(be,le){if((!le||typeof le!="object")&&(le={loose:!!le,includePrerelease:!1}),be instanceof ke)return be;if(typeof be!="string"||be.length>i)return null;var je=le.loose?c[b]:c[fe];if(!je.test(be))return null;try{return new ke(be,le)}catch{return null}}e.valid=ye;function ye(be,le){var je=ne(be,le);return je?je.version:null}e.clean=Ne;function Ne(be,le){var je=ne(be.trim().replace(/^[=v]+/,""),le);return je?je.version:null}e.SemVer=ke;function ke(be,le){if((!le||typeof le!="object")&&(le={loose:!!le,includePrerelease:!1}),be instanceof ke){if(be.loose===le.loose)return be;be=be.version}else if(typeof be!="string")throw new TypeError("Invalid Version: "+be);if(be.length>i)throw new TypeError("version is longer than "+i+" characters");if(!(this instanceof ke))return new ke(be,le);n("SemVer",be,le),this.options=le,this.loose=!!le.loose;var je=be.trim().match(le.loose?c[b]:c[fe]);if(!je)throw new TypeError("Invalid Version: "+be);if(this.raw=be,this.major=+je[1],this.minor=+je[2],this.patch=+je[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");je[4]?this.prerelease=je[4].split(".").map(function(Qe){if(/^[0-9]+$/.test(Qe)){var Je=+Qe;if(Je>=0&&Je<s)return Je}return Qe}):this.prerelease=[],this.build=je[5]?je[5].split("."):[],this.format()}ke.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ke.prototype.toString=function(){return this.version},ke.prototype.compare=function(be){return n("SemVer.compare",this.version,this.options,be),be instanceof ke||(be=new ke(be,this.options)),this.compareMain(be)||this.comparePre(be)},ke.prototype.compareMain=function(be){return be instanceof ke||(be=new ke(be,this.options)),U(this.major,be.major)||U(this.minor,be.minor)||U(this.patch,be.patch)},ke.prototype.comparePre=function(be){if(be instanceof ke||(be=new ke(be,this.options)),this.prerelease.length&&!be.prerelease.length)return-1;if(!this.prerelease.length&&be.prerelease.length)return 1;if(!this.prerelease.length&&!be.prerelease.length)return 0;var le=0;do{var je=this.prerelease[le],Qe=be.prerelease[le];if(n("prerelease compare",le,je,Qe),je===void 0&&Qe===void 0)return 0;if(Qe===void 0)return 1;if(je===void 0)return-1;if(je===Qe)continue;return U(je,Qe)}while(++le)},ke.prototype.inc=function(be,le){switch(be){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",le);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",le);break;case"prepatch":this.prerelease.length=0,this.inc("patch",le),this.inc("pre",le);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",le),this.inc("pre",le);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var je=this.prerelease.length;--je>=0;)typeof this.prerelease[je]=="number"&&(this.prerelease[je]++,je=-2);je===-1&&this.prerelease.push(0)}le&&(this.prerelease[0]===le?isNaN(this.prerelease[1])&&(this.prerelease=[le,0]):this.prerelease=[le,0]);break;default:throw new Error("invalid increment argument: "+be)}return this.format(),this.raw=this.version,this},e.inc=Ke;function Ke(be,le,je,Qe){typeof je=="string"&&(Qe=je,je=void 0);try{return new ke(be,je).inc(le,Qe).version}catch{return null}}e.diff=Ze;function Ze(be,le){if(mt(be,le))return null;var je=ne(be),Qe=ne(le),Je="";if(je.prerelease.length||Qe.prerelease.length){Je="pre";var at="prerelease"}for(var pt in je)if((pt==="major"||pt==="minor"||pt==="patch")&&je[pt]!==Qe[pt])return Je+pt;return at}e.compareIdentifiers=U;var nt=/^[0-9]+$/;function U(be,le){var je=nt.test(be),Qe=nt.test(le);return je&&Qe&&(be=+be,le=+le),be===le?0:je&&!Qe?-1:Qe&&!je?1:be<le?-1:1}e.rcompareIdentifiers=R;function R(be,le){return U(le,be)}e.major=O;function O(be,le){return new ke(be,le).major}e.minor=oe;function oe(be,le){return new ke(be,le).minor}e.patch=Ie;function Ie(be,le){return new ke(be,le).patch}e.compare=Le;function Le(be,le,je){return new ke(be,je).compare(new ke(le,je))}e.compareLoose=Ue;function Ue(be,le){return Le(be,le,!0)}e.rcompare=ct;function ct(be,le,je){return Le(le,be,je)}e.sort=gt;function gt(be,le){return be.sort(function(je,Qe){return e.compare(je,Qe,le)})}e.rsort=it;function it(be,le){return be.sort(function(je,Qe){return e.rcompare(je,Qe,le)})}e.gt=ot;function ot(be,le,je){return Le(be,le,je)>0}e.lt=bt;function bt(be,le,je){return Le(be,le,je)<0}e.eq=mt;function mt(be,le,je){return Le(be,le,je)===0}e.neq=$t;function $t(be,le,je){return Le(be,le,je)!==0}e.gte=Ft;function Ft(be,le,je){return Le(be,le,je)>=0}e.lte=It;function It(be,le,je){return Le(be,le,je)<=0}e.cmp=yt;function yt(be,le,je,Qe){switch(le){case"===":return typeof be=="object"&&(be=be.version),typeof je=="object"&&(je=je.version),be===je;case"!==":return typeof be=="object"&&(be=be.version),typeof je=="object"&&(je=je.version),be!==je;case"":case"=":case"==":return mt(be,je,Qe);case"!=":return $t(be,je,Qe);case">":return ot(be,je,Qe);case">=":return Ft(be,je,Qe);case"<":return bt(be,je,Qe);case"<=":return It(be,je,Qe);default:throw new TypeError("Invalid operator: "+le)}}e.Comparator=Ct;function Ct(be,le){if((!le||typeof le!="object")&&(le={loose:!!le,includePrerelease:!1}),be instanceof Ct){if(be.loose===!!le.loose)return be;be=be.value}if(!(this instanceof Ct))return new Ct(be,le);be=be.trim().split(/\s+/).join(" "),n("comparator",be,le),this.options=le,this.loose=!!le.loose,this.parse(be),this.semver===wt?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}var wt={};Ct.prototype.parse=function(be){var le=this.options.loose?c[re]:c[we],je=be.match(le);if(!je)throw new TypeError("Invalid comparator: "+be);this.operator=je[1],this.operator==="="&&(this.operator=""),je[2]?this.semver=new ke(je[2],this.options.loose):this.semver=wt},Ct.prototype.toString=function(){return this.value},Ct.prototype.test=function(be){return n("Comparator.test",be,this.options.loose),this.semver===wt?!0:(typeof be=="string"&&(be=new ke(be,this.options)),yt(be,this.operator,this.semver,this.options))},Ct.prototype.intersects=function(be,le){if(!(be instanceof Ct))throw new TypeError("a Comparator is required");(!le||typeof le!="object")&&(le={loose:!!le,includePrerelease:!1});var je;if(this.operator==="")return je=new At(be.value,le),qt(this.value,je,le);if(be.operator==="")return je=new At(this.value,le),qt(be.semver,je,le);var Qe=(this.operator===">="||this.operator===">")&&(be.operator===">="||be.operator===">"),Je=(this.operator==="<="||this.operator==="<")&&(be.operator==="<="||be.operator==="<"),at=this.semver.version===be.semver.version,pt=(this.operator===">="||this.operator==="<=")&&(be.operator===">="||be.operator==="<="),xt=yt(this.semver,"<",be.semver,le)&&(this.operator===">="||this.operator===">")&&(be.operator==="<="||be.operator==="<"),Nt=yt(this.semver,">",be.semver,le)&&(this.operator==="<="||this.operator==="<")&&(be.operator===">="||be.operator===">");return Qe||Je||at&&pt||xt||Nt},e.Range=At;function At(be,le){if((!le||typeof le!="object")&&(le={loose:!!le,includePrerelease:!1}),be instanceof At)return be.loose===!!le.loose&&be.includePrerelease===!!le.includePrerelease?be:new At(be.raw,le);if(be instanceof Ct)return new At(be.value,le);if(!(this instanceof At))return new At(be,le);if(this.options=le,this.loose=!!le.loose,this.includePrerelease=!!le.includePrerelease,this.raw=be.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(je){return this.parseRange(je.trim())},this).filter(function(je){return je.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}At.prototype.format=function(){return this.range=this.set.map(function(be){return be.join(" ").trim()}).join("||").trim(),this.range},At.prototype.toString=function(){return this.range},At.prototype.parseRange=function(be){var le=this.options.loose,je=le?c[Ae]:c[$e];be=be.replace(je,St),n("hyphen replace",be),be=be.replace(c[ge],xe),n("comparator trim",be,c[ge]),be=be.replace(c[D],z),be=be.replace(c[Me],Oe);var Qe=le?c[re]:c[we],Je=be.split(" ").map(function(at){return Mt(at,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(Je=Je.filter(function(at){return!!at.match(Qe)})),Je=Je.map(function(at){return new Ct(at,this.options)},this),Je},At.prototype.intersects=function(be,le){if(!(be instanceof At))throw new TypeError("a Range is required");return this.set.some(function(je){return je.every(function(Qe){return be.set.some(function(Je){return Je.every(function(at){return Qe.intersects(at,le)})})})})},e.toComparators=Qt;function Qt(be,le){return new At(be,le).set.map(function(je){return je.map(function(Qe){return Qe.value}).join(" ").trim().split(" ")})}function Mt(be,le){return n("comp",be,le),be=er(be,le),n("caret",be),be=Xt(be,le),n("tildes",be),be=Et(be,le),n("xrange",be),be=tr(be,le),n("stars",be),be}function kt(be){return!be||be.toLowerCase()==="x"||be==="*"}function Xt(be,le){return be.trim().split(/\s+/).map(function(je){return Pt(je,le)}).join(" ")}function Pt(be,le){var je=le.loose?c[de]:c[P];return be.replace(je,function(Qe,Je,at,pt,xt){n("tilde",be,Qe,Je,at,pt,xt);var Nt;return kt(Je)?Nt="":kt(at)?Nt=">="+Je+".0.0 <"+(+Je+1)+".0.0":kt(pt)?Nt=">="+Je+"."+at+".0 <"+Je+"."+(+at+1)+".0":xt?(n("replaceTilde pr",xt),Nt=">="+Je+"."+at+"."+pt+"-"+xt+" <"+Je+"."+(+at+1)+".0"):Nt=">="+Je+"."+at+"."+pt+" <"+Je+"."+(+at+1)+".0",n("tilde return",Nt),Nt})}function er(be,le){return be.trim().split(/\s+/).map(function(je){return Wt(je,le)}).join(" ")}function Wt(be,le){n("caret",be,le);var je=le.loose?c[te]:c[K];return be.replace(je,function(Qe,Je,at,pt,xt){n("caret",be,Qe,Je,at,pt,xt);var Nt;return kt(Je)?Nt="":kt(at)?Nt=">="+Je+".0.0 <"+(+Je+1)+".0.0":kt(pt)?Je==="0"?Nt=">="+Je+"."+at+".0 <"+Je+"."+(+at+1)+".0":Nt=">="+Je+"."+at+".0 <"+(+Je+1)+".0.0":xt?(n("replaceCaret pr",xt),Je==="0"?at==="0"?Nt=">="+Je+"."+at+"."+pt+"-"+xt+" <"+Je+"."+at+"."+(+pt+1):Nt=">="+Je+"."+at+"."+pt+"-"+xt+" <"+Je+"."+(+at+1)+".0":Nt=">="+Je+"."+at+"."+pt+"-"+xt+" <"+(+Je+1)+".0.0"):(n("no pr"),Je==="0"?at==="0"?Nt=">="+Je+"."+at+"."+pt+" <"+Je+"."+at+"."+(+pt+1):Nt=">="+Je+"."+at+"."+pt+" <"+Je+"."+(+at+1)+".0":Nt=">="+Je+"."+at+"."+pt+" <"+(+Je+1)+".0.0"),n("caret return",Nt),Nt})}function Et(be,le){return n("replaceXRanges",be,le),be.split(/\s+/).map(function(je){return Kt(je,le)}).join(" ")}function Kt(be,le){be=be.trim();var je=le.loose?c[m]:c[I];return be.replace(je,function(Qe,Je,at,pt,xt,Nt){n("xRange",be,Qe,Je,at,pt,xt,Nt);var fr=kt(at),Er=fr||kt(pt),Jr=Er||kt(xt),Wr=Jr;return Je==="="&&Wr&&(Je=""),fr?Je===">"||Je==="<"?Qe="<0.0.0":Qe="*":Je&&Wr?(Er&&(pt=0),xt=0,Je===">"?(Je=">=",Er?(at=+at+1,pt=0,xt=0):(pt=+pt+1,xt=0)):Je==="<="&&(Je="<",Er?at=+at+1:pt=+pt+1),Qe=Je+at+"."+pt+"."+xt):Er?Qe=">="+at+".0.0 <"+(+at+1)+".0.0":Jr&&(Qe=">="+at+"."+pt+".0 <"+at+"."+(+pt+1)+".0"),n("xRange return",Qe),Qe})}function tr(be,le){return n("replaceStars",be,le),be.trim().replace(c[F],"")}function St(be,le,je,Qe,Je,at,pt,xt,Nt,fr,Er,Jr,Wr){return kt(je)?le="":kt(Qe)?le=">="+je+".0.0":kt(Je)?le=">="+je+"."+Qe+".0":le=">="+le,kt(Nt)?xt="":kt(fr)?xt="<"+(+Nt+1)+".0.0":kt(Er)?xt="<"+Nt+"."+(+fr+1)+".0":Jr?xt="<="+Nt+"."+fr+"."+Er+"-"+Jr:xt="<="+xt,(le+" "+xt).trim()}At.prototype.test=function(be){if(!be)return!1;typeof be=="string"&&(be=new ke(be,this.options));for(var le=0;le<this.set.length;le++)if(Ht(this.set[le],be,this.options))return!0;return!1};function Ht(be,le,je){for(var Qe=0;Qe<be.length;Qe++)if(!be[Qe].test(le))return!1;if(le.prerelease.length&&!je.includePrerelease){for(Qe=0;Qe<be.length;Qe++)if(n(be[Qe].semver),be[Qe].semver!==wt&&be[Qe].semver.prerelease.length>0){var Je=be[Qe].semver;if(Je.major===le.major&&Je.minor===le.minor&&Je.patch===le.patch)return!0}return!1}return!0}e.satisfies=qt;function qt(be,le,je){try{le=new At(le,je)}catch{return!1}return le.test(be)}e.maxSatisfying=_t;function _t(be,le,je){var Qe=null,Je=null;try{var at=new At(le,je)}catch{return null}return be.forEach(function(pt){at.test(pt)&&(!Qe||Je.compare(pt)===-1)&&(Qe=pt,Je=new ke(Qe,je))}),Qe}e.minSatisfying=rr;function rr(be,le,je){var Qe=null,Je=null;try{var at=new At(le,je)}catch{return null}return be.forEach(function(pt){at.test(pt)&&(!Qe||Je.compare(pt)===1)&&(Qe=pt,Je=new ke(Qe,je))}),Qe}e.minVersion=Vt;function Vt(be,le){be=new At(be,le);var je=new ke("0.0.0");if(be.test(je)||(je=new ke("0.0.0-0"),be.test(je)))return je;je=null;for(var Qe=0;Qe<be.set.length;++Qe){var Je=be.set[Qe];Je.forEach(function(at){var pt=new ke(at.semver.version);switch(at.operator){case">":pt.prerelease.length===0?pt.patch++:pt.prerelease.push(0),pt.raw=pt.format();case"":case">=":(!je||ot(je,pt))&&(je=pt);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+at.operator)}})}return je&&be.test(je)?je:null}e.validRange=Gt;function Gt(be,le){try{return new At(be,le).range||"*"}catch{return null}}e.ltr=Gr;function Gr(be,le,je){return $r(be,le,"<",je)}e.gtr=Zr;function Zr(be,le,je){return $r(be,le,">",je)}e.outside=$r;function $r(be,le,je,Qe){be=new ke(be,Qe),le=new At(le,Qe);var Je,at,pt,xt,Nt;switch(je){case">":Je=ot,at=It,pt=bt,xt=">",Nt=">=";break;case"<":Je=bt,at=Ft,pt=ot,xt="<",Nt="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(qt(be,le,Qe))return!1;for(var fr=0;fr<le.set.length;++fr){var Er=le.set[fr],Jr=null,Wr=null;if(Er.forEach(function(Vn){Vn.semver===wt&&(Vn=new Ct(">=0.0.0")),Jr=Jr||Vn,Wr=Wr||Vn,Je(Vn.semver,Jr.semver,Qe)?Jr=Vn:pt(Vn.semver,Wr.semver,Qe)&&(Wr=Vn)}),Jr.operator===xt||Jr.operator===Nt||(!Wr.operator||Wr.operator===xt)&&at(be,Wr.semver))return!1;if(Wr.operator===Nt&&pt(be,Wr.semver))return!1}return!0}e.prerelease=zr;function zr(be,le){var je=ne(be,le);return je&&je.prerelease.length?je.prerelease:null}e.intersects=kr;function kr(be,le,je){return be=new At(be,je),le=new At(le,je),be.intersects(le)}e.coerce=un;function un(be){if(be instanceof ke)return be;if(typeof be!="string")return null;var le=be.match(c[x]);return le==null?null:ne(le[1]+"."+(le[2]||"0")+"."+(le[3]||"0"))}}(Xc,Xc.exports)),Xc.exports}var np={};const Aj="6.6.1",_j={version:Aj};var ip={},ud={exports:{}};ud.exports;var fx;function Ss(){return fx||(fx=1,function(r){(function(e,t){function n(j,g){if(!j)throw new Error(g||"Assertion failed")}function i(j,g){j.super_=g;var b=function(){};b.prototype=g.prototype,j.prototype=new b,j.prototype.constructor=j}function s(j,g,b){if(s.isBN(j))return j;this.negative=0,this.words=null,this.length=0,this.red=null,j!==null&&((g==="le"||g==="be")&&(b=g,g=10),this._init(j||0,g||10,b||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Yd.Buffer}catch{}s.isBN=function(g){return g instanceof s?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===s.wordSize&&Array.isArray(g.words)},s.max=function(g,b){return g.cmp(b)>0?g:b},s.min=function(g,b){return g.cmp(b)<0?g:b},s.prototype._init=function(g,b,d){if(typeof g=="number")return this._initNumber(g,b,d);if(typeof g=="object")return this._initArray(g,b,d);b==="hex"&&(b=16),n(b===(b|0)&&b>=2&&b<=36),g=g.toString().replace(/\s+/g,"");var p=0;g[0]==="-"&&(p++,this.negative=1),p<g.length&&(b===16?this._parseHex(g,p,d):(this._parseBase(g,b,p),d==="le"&&this._initArray(this.toArray(),b,d)))},s.prototype._initNumber=function(g,b,d){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(n(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),b,d)},s.prototype._initArray=function(g,b,d){if(n(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var A,M,N=0;if(d==="be")for(p=g.length-1,A=0;p>=0;p-=3)M=g[p]|g[p-1]<<8|g[p-2]<<16,this.words[A]|=M<<N&67108863,this.words[A+1]=M>>>26-N&67108863,N+=24,N>=26&&(N-=26,A++);else if(d==="le")for(p=0,A=0;p<g.length;p+=3)M=g[p]|g[p+1]<<8|g[p+2]<<16,this.words[A]|=M<<N&67108863,this.words[A+1]=M>>>26-N&67108863,N+=24,N>=26&&(N-=26,A++);return this.strip()};function o(j,g){var b=j.charCodeAt(g);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function u(j,g,b){var d=o(j,b);return b-1>=g&&(d|=o(j,b-1)<<4),d}s.prototype._parseHex=function(g,b,d){this.length=Math.ceil((g.length-b)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var A=0,M=0,N;if(d==="be")for(p=g.length-1;p>=b;p-=2)N=u(g,b,p)<<A,this.words[M]|=N&67108863,A>=18?(A-=18,M+=1,this.words[M]|=N>>>26):A+=8;else{var I=g.length-b;for(p=I%2===0?b+1:b;p<g.length;p+=2)N=u(g,b,p)<<A,this.words[M]|=N&67108863,A>=18?(A-=18,M+=1,this.words[M]|=N>>>26):A+=8}this.strip()};function c(j,g,b,d){for(var p=0,A=Math.min(j.length,b),M=g;M<A;M++){var N=j.charCodeAt(M)-48;p*=d,N>=49?p+=N-49+10:N>=17?p+=N-17+10:p+=N}return p}s.prototype._parseBase=function(g,b,d){this.words=[0],this.length=1;for(var p=0,A=1;A<=67108863;A*=b)p++;p--,A=A/b|0;for(var M=g.length-d,N=M%p,I=Math.min(M,M-N)+d,m=0,x=d;x<I;x+=p)m=c(g,x,x+p,b),this.imuln(A),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(N!==0){var E=1;for(m=c(g,x,g.length,b),x=0;x<N;x++)E*=b;this.imuln(E),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this.strip()},s.prototype.copy=function(g){g.words=new Array(this.length);for(var b=0;b<this.length;b++)g.words[b]=this.words[b];g.length=this.length,g.negative=this.negative,g.red=this.red},s.prototype.clone=function(){var g=new s(null);return this.copy(g),g},s.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(g,b){g=g||10,b=b|0||1;var d;if(g===16||g==="hex"){d="";for(var p=0,A=0,M=0;M<this.length;M++){var N=this.words[M],I=((N<<p|A)&16777215).toString(16);A=N>>>24-p&16777215,p+=2,p>=26&&(p-=26,M--),A!==0||M!==this.length-1?d=f[6-I.length]+I+d:d=I+d}for(A!==0&&(d=A.toString(16)+d);d.length%b!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(g===(g|0)&&g>=2&&g<=36){var m=l[g],x=h[g];d="";var E=this.clone();for(E.negative=0;!E.isZero();){var D=E.modn(x).toString(g);E=E.idivn(x),E.isZero()?d=D+d:d=f[m-D.length]+D+d}for(this.isZero()&&(d="0"+d);d.length%b!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(g,b){return n(typeof a<"u"),this.toArrayLike(a,g,b)},s.prototype.toArray=function(g,b){return this.toArrayLike(Array,g,b)},s.prototype.toArrayLike=function(g,b,d){var p=this.byteLength(),A=d||Math.max(1,p);n(p<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0"),this.strip();var M=b==="le",N=new g(A),I,m,x=this.clone();if(M){for(m=0;!x.isZero();m++)I=x.andln(255),x.iushrn(8),N[m]=I;for(;m<A;m++)N[m]=0}else{for(m=0;m<A-p;m++)N[m]=0;for(m=0;!x.isZero();m++)I=x.andln(255),x.iushrn(8),N[A-m-1]=I}return N},Math.clz32?s.prototype._countBits=function(g){return 32-Math.clz32(g)}:s.prototype._countBits=function(g){var b=g,d=0;return b>=4096&&(d+=13,b>>>=13),b>=64&&(d+=7,b>>>=7),b>=8&&(d+=4,b>>>=4),b>=2&&(d+=2,b>>>=2),d+b},s.prototype._zeroBits=function(g){if(g===0)return 26;var b=g,d=0;return b&8191||(d+=13,b>>>=13),b&127||(d+=7,b>>>=7),b&15||(d+=4,b>>>=4),b&3||(d+=2,b>>>=2),b&1||d++,d},s.prototype.bitLength=function(){var g=this.words[this.length-1],b=this._countBits(g);return(this.length-1)*26+b};function y(j){for(var g=new Array(j.bitLength()),b=0;b<g.length;b++){var d=b/26|0,p=b%26;g[b]=(j.words[d]&1<<p)>>>p}return g}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,b=0;b<this.length;b++){var d=this._zeroBits(this.words[b]);if(g+=d,d!==26)break}return g},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},s.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var b=0;b<g.length;b++)this.words[b]=this.words[b]|g.words[b];return this.strip()},s.prototype.ior=function(g){return n((this.negative|g.negative)===0),this.iuor(g)},s.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},s.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},s.prototype.iuand=function(g){var b;this.length>g.length?b=g:b=this;for(var d=0;d<b.length;d++)this.words[d]=this.words[d]&g.words[d];return this.length=b.length,this.strip()},s.prototype.iand=function(g){return n((this.negative|g.negative)===0),this.iuand(g)},s.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},s.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},s.prototype.iuxor=function(g){var b,d;this.length>g.length?(b=this,d=g):(b=g,d=this);for(var p=0;p<d.length;p++)this.words[p]=b.words[p]^d.words[p];if(this!==b)for(;p<b.length;p++)this.words[p]=b.words[p];return this.length=b.length,this.strip()},s.prototype.ixor=function(g){return n((this.negative|g.negative)===0),this.iuxor(g)},s.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},s.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},s.prototype.inotn=function(g){n(typeof g=="number"&&g>=0);var b=Math.ceil(g/26)|0,d=g%26;this._expand(b),d>0&&b--;for(var p=0;p<b;p++)this.words[p]=~this.words[p]&67108863;return d>0&&(this.words[p]=~this.words[p]&67108863>>26-d),this.strip()},s.prototype.notn=function(g){return this.clone().inotn(g)},s.prototype.setn=function(g,b){n(typeof g=="number"&&g>=0);var d=g/26|0,p=g%26;return this._expand(d+1),b?this.words[d]=this.words[d]|1<<p:this.words[d]=this.words[d]&~(1<<p),this.strip()},s.prototype.iadd=function(g){var b;if(this.negative!==0&&g.negative===0)return this.negative=0,b=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,b=this.isub(g),g.negative=1,b._normSign();var d,p;this.length>g.length?(d=this,p=g):(d=g,p=this);for(var A=0,M=0;M<p.length;M++)b=(d.words[M]|0)+(p.words[M]|0)+A,this.words[M]=b&67108863,A=b>>>26;for(;A!==0&&M<d.length;M++)b=(d.words[M]|0)+A,this.words[M]=b&67108863,A=b>>>26;if(this.length=d.length,A!==0)this.words[this.length]=A,this.length++;else if(d!==this)for(;M<d.length;M++)this.words[M]=d.words[M];return this},s.prototype.add=function(g){var b;return g.negative!==0&&this.negative===0?(g.negative=0,b=this.sub(g),g.negative^=1,b):g.negative===0&&this.negative!==0?(this.negative=0,b=g.sub(this),this.negative=1,b):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},s.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var b=this.iadd(g);return g.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var d=this.cmp(g);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,A;d>0?(p=this,A=g):(p=g,A=this);for(var M=0,N=0;N<A.length;N++)b=(p.words[N]|0)-(A.words[N]|0)+M,M=b>>26,this.words[N]=b&67108863;for(;M!==0&&N<p.length;N++)b=(p.words[N]|0)+M,M=b>>26,this.words[N]=b&67108863;if(M===0&&N<p.length&&p!==this)for(;N<p.length;N++)this.words[N]=p.words[N];return this.length=Math.max(this.length,N),p!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(g){return this.clone().isub(g)};function w(j,g,b){b.negative=g.negative^j.negative;var d=j.length+g.length|0;b.length=d,d=d-1|0;var p=j.words[0]|0,A=g.words[0]|0,M=p*A,N=M&67108863,I=M/67108864|0;b.words[0]=N;for(var m=1;m<d;m++){for(var x=I>>>26,E=I&67108863,D=Math.min(m,g.length-1),z=Math.max(0,m-j.length+1);z<=D;z++){var P=m-z|0;p=j.words[P]|0,A=g.words[z]|0,M=p*A+E,x+=M/67108864|0,E=M&67108863}b.words[m]=E|0,I=x|0}return I!==0?b.words[m]=I|0:b.length--,b.strip()}var _=function(g,b,d){var p=g.words,A=b.words,M=d.words,N=0,I,m,x,E=p[0]|0,D=E&8191,z=E>>>13,P=p[1]|0,de=P&8191,Pe=P>>>13,Me=p[2]|0,Oe=Me&8191,K=Me>>>13,te=p[3]|0,re=te&8191,we=te>>>13,ge=p[4]|0,xe=ge&8191,$e=ge>>>13,Ae=p[5]|0,F=Ae&8191,G=Ae>>>13,ne=p[6]|0,ye=ne&8191,Ne=ne>>>13,ke=p[7]|0,Ke=ke&8191,Ze=ke>>>13,nt=p[8]|0,U=nt&8191,R=nt>>>13,O=p[9]|0,oe=O&8191,Ie=O>>>13,Le=A[0]|0,Ue=Le&8191,ct=Le>>>13,gt=A[1]|0,it=gt&8191,ot=gt>>>13,bt=A[2]|0,mt=bt&8191,$t=bt>>>13,Ft=A[3]|0,It=Ft&8191,yt=Ft>>>13,Ct=A[4]|0,wt=Ct&8191,At=Ct>>>13,Qt=A[5]|0,Mt=Qt&8191,kt=Qt>>>13,Xt=A[6]|0,Pt=Xt&8191,er=Xt>>>13,Wt=A[7]|0,Et=Wt&8191,Kt=Wt>>>13,tr=A[8]|0,St=tr&8191,Ht=tr>>>13,qt=A[9]|0,_t=qt&8191,rr=qt>>>13;d.negative=g.negative^b.negative,d.length=19,I=Math.imul(D,Ue),m=Math.imul(D,ct),m=m+Math.imul(z,Ue)|0,x=Math.imul(z,ct);var Vt=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,I=Math.imul(de,Ue),m=Math.imul(de,ct),m=m+Math.imul(Pe,Ue)|0,x=Math.imul(Pe,ct),I=I+Math.imul(D,it)|0,m=m+Math.imul(D,ot)|0,m=m+Math.imul(z,it)|0,x=x+Math.imul(z,ot)|0;var Gt=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,I=Math.imul(Oe,Ue),m=Math.imul(Oe,ct),m=m+Math.imul(K,Ue)|0,x=Math.imul(K,ct),I=I+Math.imul(de,it)|0,m=m+Math.imul(de,ot)|0,m=m+Math.imul(Pe,it)|0,x=x+Math.imul(Pe,ot)|0,I=I+Math.imul(D,mt)|0,m=m+Math.imul(D,$t)|0,m=m+Math.imul(z,mt)|0,x=x+Math.imul(z,$t)|0;var Gr=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,I=Math.imul(re,Ue),m=Math.imul(re,ct),m=m+Math.imul(we,Ue)|0,x=Math.imul(we,ct),I=I+Math.imul(Oe,it)|0,m=m+Math.imul(Oe,ot)|0,m=m+Math.imul(K,it)|0,x=x+Math.imul(K,ot)|0,I=I+Math.imul(de,mt)|0,m=m+Math.imul(de,$t)|0,m=m+Math.imul(Pe,mt)|0,x=x+Math.imul(Pe,$t)|0,I=I+Math.imul(D,It)|0,m=m+Math.imul(D,yt)|0,m=m+Math.imul(z,It)|0,x=x+Math.imul(z,yt)|0;var Zr=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,I=Math.imul(xe,Ue),m=Math.imul(xe,ct),m=m+Math.imul($e,Ue)|0,x=Math.imul($e,ct),I=I+Math.imul(re,it)|0,m=m+Math.imul(re,ot)|0,m=m+Math.imul(we,it)|0,x=x+Math.imul(we,ot)|0,I=I+Math.imul(Oe,mt)|0,m=m+Math.imul(Oe,$t)|0,m=m+Math.imul(K,mt)|0,x=x+Math.imul(K,$t)|0,I=I+Math.imul(de,It)|0,m=m+Math.imul(de,yt)|0,m=m+Math.imul(Pe,It)|0,x=x+Math.imul(Pe,yt)|0,I=I+Math.imul(D,wt)|0,m=m+Math.imul(D,At)|0,m=m+Math.imul(z,wt)|0,x=x+Math.imul(z,At)|0;var $r=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+($r>>>26)|0,$r&=67108863,I=Math.imul(F,Ue),m=Math.imul(F,ct),m=m+Math.imul(G,Ue)|0,x=Math.imul(G,ct),I=I+Math.imul(xe,it)|0,m=m+Math.imul(xe,ot)|0,m=m+Math.imul($e,it)|0,x=x+Math.imul($e,ot)|0,I=I+Math.imul(re,mt)|0,m=m+Math.imul(re,$t)|0,m=m+Math.imul(we,mt)|0,x=x+Math.imul(we,$t)|0,I=I+Math.imul(Oe,It)|0,m=m+Math.imul(Oe,yt)|0,m=m+Math.imul(K,It)|0,x=x+Math.imul(K,yt)|0,I=I+Math.imul(de,wt)|0,m=m+Math.imul(de,At)|0,m=m+Math.imul(Pe,wt)|0,x=x+Math.imul(Pe,At)|0,I=I+Math.imul(D,Mt)|0,m=m+Math.imul(D,kt)|0,m=m+Math.imul(z,Mt)|0,x=x+Math.imul(z,kt)|0;var zr=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(zr>>>26)|0,zr&=67108863,I=Math.imul(ye,Ue),m=Math.imul(ye,ct),m=m+Math.imul(Ne,Ue)|0,x=Math.imul(Ne,ct),I=I+Math.imul(F,it)|0,m=m+Math.imul(F,ot)|0,m=m+Math.imul(G,it)|0,x=x+Math.imul(G,ot)|0,I=I+Math.imul(xe,mt)|0,m=m+Math.imul(xe,$t)|0,m=m+Math.imul($e,mt)|0,x=x+Math.imul($e,$t)|0,I=I+Math.imul(re,It)|0,m=m+Math.imul(re,yt)|0,m=m+Math.imul(we,It)|0,x=x+Math.imul(we,yt)|0,I=I+Math.imul(Oe,wt)|0,m=m+Math.imul(Oe,At)|0,m=m+Math.imul(K,wt)|0,x=x+Math.imul(K,At)|0,I=I+Math.imul(de,Mt)|0,m=m+Math.imul(de,kt)|0,m=m+Math.imul(Pe,Mt)|0,x=x+Math.imul(Pe,kt)|0,I=I+Math.imul(D,Pt)|0,m=m+Math.imul(D,er)|0,m=m+Math.imul(z,Pt)|0,x=x+Math.imul(z,er)|0;var kr=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(kr>>>26)|0,kr&=67108863,I=Math.imul(Ke,Ue),m=Math.imul(Ke,ct),m=m+Math.imul(Ze,Ue)|0,x=Math.imul(Ze,ct),I=I+Math.imul(ye,it)|0,m=m+Math.imul(ye,ot)|0,m=m+Math.imul(Ne,it)|0,x=x+Math.imul(Ne,ot)|0,I=I+Math.imul(F,mt)|0,m=m+Math.imul(F,$t)|0,m=m+Math.imul(G,mt)|0,x=x+Math.imul(G,$t)|0,I=I+Math.imul(xe,It)|0,m=m+Math.imul(xe,yt)|0,m=m+Math.imul($e,It)|0,x=x+Math.imul($e,yt)|0,I=I+Math.imul(re,wt)|0,m=m+Math.imul(re,At)|0,m=m+Math.imul(we,wt)|0,x=x+Math.imul(we,At)|0,I=I+Math.imul(Oe,Mt)|0,m=m+Math.imul(Oe,kt)|0,m=m+Math.imul(K,Mt)|0,x=x+Math.imul(K,kt)|0,I=I+Math.imul(de,Pt)|0,m=m+Math.imul(de,er)|0,m=m+Math.imul(Pe,Pt)|0,x=x+Math.imul(Pe,er)|0,I=I+Math.imul(D,Et)|0,m=m+Math.imul(D,Kt)|0,m=m+Math.imul(z,Et)|0,x=x+Math.imul(z,Kt)|0;var un=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(un>>>26)|0,un&=67108863,I=Math.imul(U,Ue),m=Math.imul(U,ct),m=m+Math.imul(R,Ue)|0,x=Math.imul(R,ct),I=I+Math.imul(Ke,it)|0,m=m+Math.imul(Ke,ot)|0,m=m+Math.imul(Ze,it)|0,x=x+Math.imul(Ze,ot)|0,I=I+Math.imul(ye,mt)|0,m=m+Math.imul(ye,$t)|0,m=m+Math.imul(Ne,mt)|0,x=x+Math.imul(Ne,$t)|0,I=I+Math.imul(F,It)|0,m=m+Math.imul(F,yt)|0,m=m+Math.imul(G,It)|0,x=x+Math.imul(G,yt)|0,I=I+Math.imul(xe,wt)|0,m=m+Math.imul(xe,At)|0,m=m+Math.imul($e,wt)|0,x=x+Math.imul($e,At)|0,I=I+Math.imul(re,Mt)|0,m=m+Math.imul(re,kt)|0,m=m+Math.imul(we,Mt)|0,x=x+Math.imul(we,kt)|0,I=I+Math.imul(Oe,Pt)|0,m=m+Math.imul(Oe,er)|0,m=m+Math.imul(K,Pt)|0,x=x+Math.imul(K,er)|0,I=I+Math.imul(de,Et)|0,m=m+Math.imul(de,Kt)|0,m=m+Math.imul(Pe,Et)|0,x=x+Math.imul(Pe,Kt)|0,I=I+Math.imul(D,St)|0,m=m+Math.imul(D,Ht)|0,m=m+Math.imul(z,St)|0,x=x+Math.imul(z,Ht)|0;var be=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(be>>>26)|0,be&=67108863,I=Math.imul(oe,Ue),m=Math.imul(oe,ct),m=m+Math.imul(Ie,Ue)|0,x=Math.imul(Ie,ct),I=I+Math.imul(U,it)|0,m=m+Math.imul(U,ot)|0,m=m+Math.imul(R,it)|0,x=x+Math.imul(R,ot)|0,I=I+Math.imul(Ke,mt)|0,m=m+Math.imul(Ke,$t)|0,m=m+Math.imul(Ze,mt)|0,x=x+Math.imul(Ze,$t)|0,I=I+Math.imul(ye,It)|0,m=m+Math.imul(ye,yt)|0,m=m+Math.imul(Ne,It)|0,x=x+Math.imul(Ne,yt)|0,I=I+Math.imul(F,wt)|0,m=m+Math.imul(F,At)|0,m=m+Math.imul(G,wt)|0,x=x+Math.imul(G,At)|0,I=I+Math.imul(xe,Mt)|0,m=m+Math.imul(xe,kt)|0,m=m+Math.imul($e,Mt)|0,x=x+Math.imul($e,kt)|0,I=I+Math.imul(re,Pt)|0,m=m+Math.imul(re,er)|0,m=m+Math.imul(we,Pt)|0,x=x+Math.imul(we,er)|0,I=I+Math.imul(Oe,Et)|0,m=m+Math.imul(Oe,Kt)|0,m=m+Math.imul(K,Et)|0,x=x+Math.imul(K,Kt)|0,I=I+Math.imul(de,St)|0,m=m+Math.imul(de,Ht)|0,m=m+Math.imul(Pe,St)|0,x=x+Math.imul(Pe,Ht)|0,I=I+Math.imul(D,_t)|0,m=m+Math.imul(D,rr)|0,m=m+Math.imul(z,_t)|0,x=x+Math.imul(z,rr)|0;var le=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(le>>>26)|0,le&=67108863,I=Math.imul(oe,it),m=Math.imul(oe,ot),m=m+Math.imul(Ie,it)|0,x=Math.imul(Ie,ot),I=I+Math.imul(U,mt)|0,m=m+Math.imul(U,$t)|0,m=m+Math.imul(R,mt)|0,x=x+Math.imul(R,$t)|0,I=I+Math.imul(Ke,It)|0,m=m+Math.imul(Ke,yt)|0,m=m+Math.imul(Ze,It)|0,x=x+Math.imul(Ze,yt)|0,I=I+Math.imul(ye,wt)|0,m=m+Math.imul(ye,At)|0,m=m+Math.imul(Ne,wt)|0,x=x+Math.imul(Ne,At)|0,I=I+Math.imul(F,Mt)|0,m=m+Math.imul(F,kt)|0,m=m+Math.imul(G,Mt)|0,x=x+Math.imul(G,kt)|0,I=I+Math.imul(xe,Pt)|0,m=m+Math.imul(xe,er)|0,m=m+Math.imul($e,Pt)|0,x=x+Math.imul($e,er)|0,I=I+Math.imul(re,Et)|0,m=m+Math.imul(re,Kt)|0,m=m+Math.imul(we,Et)|0,x=x+Math.imul(we,Kt)|0,I=I+Math.imul(Oe,St)|0,m=m+Math.imul(Oe,Ht)|0,m=m+Math.imul(K,St)|0,x=x+Math.imul(K,Ht)|0,I=I+Math.imul(de,_t)|0,m=m+Math.imul(de,rr)|0,m=m+Math.imul(Pe,_t)|0,x=x+Math.imul(Pe,rr)|0;var je=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(je>>>26)|0,je&=67108863,I=Math.imul(oe,mt),m=Math.imul(oe,$t),m=m+Math.imul(Ie,mt)|0,x=Math.imul(Ie,$t),I=I+Math.imul(U,It)|0,m=m+Math.imul(U,yt)|0,m=m+Math.imul(R,It)|0,x=x+Math.imul(R,yt)|0,I=I+Math.imul(Ke,wt)|0,m=m+Math.imul(Ke,At)|0,m=m+Math.imul(Ze,wt)|0,x=x+Math.imul(Ze,At)|0,I=I+Math.imul(ye,Mt)|0,m=m+Math.imul(ye,kt)|0,m=m+Math.imul(Ne,Mt)|0,x=x+Math.imul(Ne,kt)|0,I=I+Math.imul(F,Pt)|0,m=m+Math.imul(F,er)|0,m=m+Math.imul(G,Pt)|0,x=x+Math.imul(G,er)|0,I=I+Math.imul(xe,Et)|0,m=m+Math.imul(xe,Kt)|0,m=m+Math.imul($e,Et)|0,x=x+Math.imul($e,Kt)|0,I=I+Math.imul(re,St)|0,m=m+Math.imul(re,Ht)|0,m=m+Math.imul(we,St)|0,x=x+Math.imul(we,Ht)|0,I=I+Math.imul(Oe,_t)|0,m=m+Math.imul(Oe,rr)|0,m=m+Math.imul(K,_t)|0,x=x+Math.imul(K,rr)|0;var Qe=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,I=Math.imul(oe,It),m=Math.imul(oe,yt),m=m+Math.imul(Ie,It)|0,x=Math.imul(Ie,yt),I=I+Math.imul(U,wt)|0,m=m+Math.imul(U,At)|0,m=m+Math.imul(R,wt)|0,x=x+Math.imul(R,At)|0,I=I+Math.imul(Ke,Mt)|0,m=m+Math.imul(Ke,kt)|0,m=m+Math.imul(Ze,Mt)|0,x=x+Math.imul(Ze,kt)|0,I=I+Math.imul(ye,Pt)|0,m=m+Math.imul(ye,er)|0,m=m+Math.imul(Ne,Pt)|0,x=x+Math.imul(Ne,er)|0,I=I+Math.imul(F,Et)|0,m=m+Math.imul(F,Kt)|0,m=m+Math.imul(G,Et)|0,x=x+Math.imul(G,Kt)|0,I=I+Math.imul(xe,St)|0,m=m+Math.imul(xe,Ht)|0,m=m+Math.imul($e,St)|0,x=x+Math.imul($e,Ht)|0,I=I+Math.imul(re,_t)|0,m=m+Math.imul(re,rr)|0,m=m+Math.imul(we,_t)|0,x=x+Math.imul(we,rr)|0;var Je=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(Je>>>26)|0,Je&=67108863,I=Math.imul(oe,wt),m=Math.imul(oe,At),m=m+Math.imul(Ie,wt)|0,x=Math.imul(Ie,At),I=I+Math.imul(U,Mt)|0,m=m+Math.imul(U,kt)|0,m=m+Math.imul(R,Mt)|0,x=x+Math.imul(R,kt)|0,I=I+Math.imul(Ke,Pt)|0,m=m+Math.imul(Ke,er)|0,m=m+Math.imul(Ze,Pt)|0,x=x+Math.imul(Ze,er)|0,I=I+Math.imul(ye,Et)|0,m=m+Math.imul(ye,Kt)|0,m=m+Math.imul(Ne,Et)|0,x=x+Math.imul(Ne,Kt)|0,I=I+Math.imul(F,St)|0,m=m+Math.imul(F,Ht)|0,m=m+Math.imul(G,St)|0,x=x+Math.imul(G,Ht)|0,I=I+Math.imul(xe,_t)|0,m=m+Math.imul(xe,rr)|0,m=m+Math.imul($e,_t)|0,x=x+Math.imul($e,rr)|0;var at=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(at>>>26)|0,at&=67108863,I=Math.imul(oe,Mt),m=Math.imul(oe,kt),m=m+Math.imul(Ie,Mt)|0,x=Math.imul(Ie,kt),I=I+Math.imul(U,Pt)|0,m=m+Math.imul(U,er)|0,m=m+Math.imul(R,Pt)|0,x=x+Math.imul(R,er)|0,I=I+Math.imul(Ke,Et)|0,m=m+Math.imul(Ke,Kt)|0,m=m+Math.imul(Ze,Et)|0,x=x+Math.imul(Ze,Kt)|0,I=I+Math.imul(ye,St)|0,m=m+Math.imul(ye,Ht)|0,m=m+Math.imul(Ne,St)|0,x=x+Math.imul(Ne,Ht)|0,I=I+Math.imul(F,_t)|0,m=m+Math.imul(F,rr)|0,m=m+Math.imul(G,_t)|0,x=x+Math.imul(G,rr)|0;var pt=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(pt>>>26)|0,pt&=67108863,I=Math.imul(oe,Pt),m=Math.imul(oe,er),m=m+Math.imul(Ie,Pt)|0,x=Math.imul(Ie,er),I=I+Math.imul(U,Et)|0,m=m+Math.imul(U,Kt)|0,m=m+Math.imul(R,Et)|0,x=x+Math.imul(R,Kt)|0,I=I+Math.imul(Ke,St)|0,m=m+Math.imul(Ke,Ht)|0,m=m+Math.imul(Ze,St)|0,x=x+Math.imul(Ze,Ht)|0,I=I+Math.imul(ye,_t)|0,m=m+Math.imul(ye,rr)|0,m=m+Math.imul(Ne,_t)|0,x=x+Math.imul(Ne,rr)|0;var xt=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(xt>>>26)|0,xt&=67108863,I=Math.imul(oe,Et),m=Math.imul(oe,Kt),m=m+Math.imul(Ie,Et)|0,x=Math.imul(Ie,Kt),I=I+Math.imul(U,St)|0,m=m+Math.imul(U,Ht)|0,m=m+Math.imul(R,St)|0,x=x+Math.imul(R,Ht)|0,I=I+Math.imul(Ke,_t)|0,m=m+Math.imul(Ke,rr)|0,m=m+Math.imul(Ze,_t)|0,x=x+Math.imul(Ze,rr)|0;var Nt=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,I=Math.imul(oe,St),m=Math.imul(oe,Ht),m=m+Math.imul(Ie,St)|0,x=Math.imul(Ie,Ht),I=I+Math.imul(U,_t)|0,m=m+Math.imul(U,rr)|0,m=m+Math.imul(R,_t)|0,x=x+Math.imul(R,rr)|0;var fr=(N+I|0)+((m&8191)<<13)|0;N=(x+(m>>>13)|0)+(fr>>>26)|0,fr&=67108863,I=Math.imul(oe,_t),m=Math.imul(oe,rr),m=m+Math.imul(Ie,_t)|0,x=Math.imul(Ie,rr);var Er=(N+I|0)+((m&8191)<<13)|0;return N=(x+(m>>>13)|0)+(Er>>>26)|0,Er&=67108863,M[0]=Vt,M[1]=Gt,M[2]=Gr,M[3]=Zr,M[4]=$r,M[5]=zr,M[6]=kr,M[7]=un,M[8]=be,M[9]=le,M[10]=je,M[11]=Qe,M[12]=Je,M[13]=at,M[14]=pt,M[15]=xt,M[16]=Nt,M[17]=fr,M[18]=Er,N!==0&&(M[19]=N,d.length++),d};Math.imul||(_=w);function v(j,g,b){b.negative=g.negative^j.negative,b.length=j.length+g.length;for(var d=0,p=0,A=0;A<b.length-1;A++){var M=p;p=0;for(var N=d&67108863,I=Math.min(A,g.length-1),m=Math.max(0,A-j.length+1);m<=I;m++){var x=A-m,E=j.words[x]|0,D=g.words[m]|0,z=E*D,P=z&67108863;M=M+(z/67108864|0)|0,P=P+N|0,N=P&67108863,M=M+(P>>>26)|0,p+=M>>>26,M&=67108863}b.words[A]=N,d=M,M=p}return d!==0?b.words[A]=d:b.length--,b.strip()}function S(j,g,b){var d=new k;return d.mulp(j,g,b)}s.prototype.mulTo=function(g,b){var d,p=this.length+g.length;return this.length===10&&g.length===10?d=_(this,g,b):p<63?d=w(this,g,b):p<1024?d=v(this,g,b):d=S(this,g,b),d};function k(j,g){this.x=j,this.y=g}k.prototype.makeRBT=function(g){for(var b=new Array(g),d=s.prototype._countBits(g)-1,p=0;p<g;p++)b[p]=this.revBin(p,d,g);return b},k.prototype.revBin=function(g,b,d){if(g===0||g===d-1)return g;for(var p=0,A=0;A<b;A++)p|=(g&1)<<b-A-1,g>>=1;return p},k.prototype.permute=function(g,b,d,p,A,M){for(var N=0;N<M;N++)p[N]=b[g[N]],A[N]=d[g[N]]},k.prototype.transform=function(g,b,d,p,A,M){this.permute(M,g,b,d,p,A);for(var N=1;N<A;N<<=1)for(var I=N<<1,m=Math.cos(2*Math.PI/I),x=Math.sin(2*Math.PI/I),E=0;E<A;E+=I)for(var D=m,z=x,P=0;P<N;P++){var de=d[E+P],Pe=p[E+P],Me=d[E+P+N],Oe=p[E+P+N],K=D*Me-z*Oe;Oe=D*Oe+z*Me,Me=K,d[E+P]=de+Me,p[E+P]=Pe+Oe,d[E+P+N]=de-Me,p[E+P+N]=Pe-Oe,P!==I&&(K=m*D-x*z,z=m*z+x*D,D=K)}},k.prototype.guessLen13b=function(g,b){var d=Math.max(b,g)|1,p=d&1,A=0;for(d=d/2|0;d;d=d>>>1)A++;return 1<<A+1+p},k.prototype.conjugate=function(g,b,d){if(!(d<=1))for(var p=0;p<d/2;p++){var A=g[p];g[p]=g[d-p-1],g[d-p-1]=A,A=b[p],b[p]=-b[d-p-1],b[d-p-1]=-A}},k.prototype.normalize13b=function(g,b){for(var d=0,p=0;p<b/2;p++){var A=Math.round(g[2*p+1]/b)*8192+Math.round(g[2*p]/b)+d;g[p]=A&67108863,A<67108864?d=0:d=A/67108864|0}return g},k.prototype.convert13b=function(g,b,d,p){for(var A=0,M=0;M<b;M++)A=A+(g[M]|0),d[2*M]=A&8191,A=A>>>13,d[2*M+1]=A&8191,A=A>>>13;for(M=2*b;M<p;++M)d[M]=0;n(A===0),n((A&-8192)===0)},k.prototype.stub=function(g){for(var b=new Array(g),d=0;d<g;d++)b[d]=0;return b},k.prototype.mulp=function(g,b,d){var p=2*this.guessLen13b(g.length,b.length),A=this.makeRBT(p),M=this.stub(p),N=new Array(p),I=new Array(p),m=new Array(p),x=new Array(p),E=new Array(p),D=new Array(p),z=d.words;z.length=p,this.convert13b(g.words,g.length,N,p),this.convert13b(b.words,b.length,x,p),this.transform(N,M,I,m,p,A),this.transform(x,M,E,D,p,A);for(var P=0;P<p;P++){var de=I[P]*E[P]-m[P]*D[P];m[P]=I[P]*D[P]+m[P]*E[P],I[P]=de}return this.conjugate(I,m,p),this.transform(I,m,z,M,p,A),this.conjugate(z,M,p),this.normalize13b(z,p),d.negative=g.negative^b.negative,d.length=g.length+b.length,d.strip()},s.prototype.mul=function(g){var b=new s(null);return b.words=new Array(this.length+g.length),this.mulTo(g,b)},s.prototype.mulf=function(g){var b=new s(null);return b.words=new Array(this.length+g.length),S(this,g,b)},s.prototype.imul=function(g){return this.clone().mulTo(g,this)},s.prototype.imuln=function(g){n(typeof g=="number"),n(g<67108864);for(var b=0,d=0;d<this.length;d++){var p=(this.words[d]|0)*g,A=(p&67108863)+(b&67108863);b>>=26,b+=p/67108864|0,b+=A>>>26,this.words[d]=A&67108863}return b!==0&&(this.words[d]=b,this.length++),this},s.prototype.muln=function(g){return this.clone().imuln(g)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(g){var b=y(g);if(b.length===0)return new s(1);for(var d=this,p=0;p<b.length&&b[p]===0;p++,d=d.sqr());if(++p<b.length)for(var A=d.sqr();p<b.length;p++,A=A.sqr())b[p]!==0&&(d=d.mul(A));return d},s.prototype.iushln=function(g){n(typeof g=="number"&&g>=0);var b=g%26,d=(g-b)/26,p=67108863>>>26-b<<26-b,A;if(b!==0){var M=0;for(A=0;A<this.length;A++){var N=this.words[A]&p,I=(this.words[A]|0)-N<<b;this.words[A]=I|M,M=N>>>26-b}M&&(this.words[A]=M,this.length++)}if(d!==0){for(A=this.length-1;A>=0;A--)this.words[A+d]=this.words[A];for(A=0;A<d;A++)this.words[A]=0;this.length+=d}return this.strip()},s.prototype.ishln=function(g){return n(this.negative===0),this.iushln(g)},s.prototype.iushrn=function(g,b,d){n(typeof g=="number"&&g>=0);var p;b?p=(b-b%26)/26:p=0;var A=g%26,M=Math.min((g-A)/26,this.length),N=67108863^67108863>>>A<<A,I=d;if(p-=M,p=Math.max(0,p),I){for(var m=0;m<M;m++)I.words[m]=this.words[m];I.length=M}if(M!==0)if(this.length>M)for(this.length-=M,m=0;m<this.length;m++)this.words[m]=this.words[m+M];else this.words[0]=0,this.length=1;var x=0;for(m=this.length-1;m>=0&&(x!==0||m>=p);m--){var E=this.words[m]|0;this.words[m]=x<<26-A|E>>>A,x=E&N}return I&&x!==0&&(I.words[I.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(g,b,d){return n(this.negative===0),this.iushrn(g,b,d)},s.prototype.shln=function(g){return this.clone().ishln(g)},s.prototype.ushln=function(g){return this.clone().iushln(g)},s.prototype.shrn=function(g){return this.clone().ishrn(g)},s.prototype.ushrn=function(g){return this.clone().iushrn(g)},s.prototype.testn=function(g){n(typeof g=="number"&&g>=0);var b=g%26,d=(g-b)/26,p=1<<b;if(this.length<=d)return!1;var A=this.words[d];return!!(A&p)},s.prototype.imaskn=function(g){n(typeof g=="number"&&g>=0);var b=g%26,d=(g-b)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(b!==0&&d++,this.length=Math.min(d,this.length),b!==0){var p=67108863^67108863>>>b<<b;this.words[this.length-1]&=p}return this.strip()},s.prototype.maskn=function(g){return this.clone().imaskn(g)},s.prototype.iaddn=function(g){return n(typeof g=="number"),n(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},s.prototype._iaddn=function(g){this.words[0]+=g;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},s.prototype.isubn=function(g){if(n(typeof g=="number"),n(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},s.prototype.addn=function(g){return this.clone().iaddn(g)},s.prototype.subn=function(g){return this.clone().isubn(g)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(g,b,d){var p=g.length+d,A;this._expand(p);var M,N=0;for(A=0;A<g.length;A++){M=(this.words[A+d]|0)+N;var I=(g.words[A]|0)*b;M-=I&67108863,N=(M>>26)-(I/67108864|0),this.words[A+d]=M&67108863}for(;A<this.length-d;A++)M=(this.words[A+d]|0)+N,N=M>>26,this.words[A+d]=M&67108863;if(N===0)return this.strip();for(n(N===-1),N=0,A=0;A<this.length;A++)M=-(this.words[A]|0)+N,N=M>>26,this.words[A]=M&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(g,b){var d=this.length-g.length,p=this.clone(),A=g,M=A.words[A.length-1]|0,N=this._countBits(M);d=26-N,d!==0&&(A=A.ushln(d),p.iushln(d),M=A.words[A.length-1]|0);var I=p.length-A.length,m;if(b!=="mod"){m=new s(null),m.length=I+1,m.words=new Array(m.length);for(var x=0;x<m.length;x++)m.words[x]=0}var E=p.clone()._ishlnsubmul(A,1,I);E.negative===0&&(p=E,m&&(m.words[I]=1));for(var D=I-1;D>=0;D--){var z=(p.words[A.length+D]|0)*67108864+(p.words[A.length+D-1]|0);for(z=Math.min(z/M|0,67108863),p._ishlnsubmul(A,z,D);p.negative!==0;)z--,p.negative=0,p._ishlnsubmul(A,1,D),p.isZero()||(p.negative^=1);m&&(m.words[D]=z)}return m&&m.strip(),p.strip(),b!=="div"&&d!==0&&p.iushrn(d),{div:m||null,mod:p}},s.prototype.divmod=function(g,b,d){if(n(!g.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var p,A,M;return this.negative!==0&&g.negative===0?(M=this.neg().divmod(g,b),b!=="mod"&&(p=M.div.neg()),b!=="div"&&(A=M.mod.neg(),d&&A.negative!==0&&A.iadd(g)),{div:p,mod:A}):this.negative===0&&g.negative!==0?(M=this.divmod(g.neg(),b),b!=="mod"&&(p=M.div.neg()),{div:p,mod:M.mod}):this.negative&g.negative?(M=this.neg().divmod(g.neg(),b),b!=="div"&&(A=M.mod.neg(),d&&A.negative!==0&&A.isub(g)),{div:M.div,mod:A}):g.length>this.length||this.cmp(g)<0?{div:new s(0),mod:this}:g.length===1?b==="div"?{div:this.divn(g.words[0]),mod:null}:b==="mod"?{div:null,mod:new s(this.modn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new s(this.modn(g.words[0]))}:this._wordDiv(g,b)},s.prototype.div=function(g){return this.divmod(g,"div",!1).div},s.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},s.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},s.prototype.divRound=function(g){var b=this.divmod(g);if(b.mod.isZero())return b.div;var d=b.div.negative!==0?b.mod.isub(g):b.mod,p=g.ushrn(1),A=g.andln(1),M=d.cmp(p);return M<0||A===1&&M===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},s.prototype.modn=function(g){n(g<=67108863);for(var b=(1<<26)%g,d=0,p=this.length-1;p>=0;p--)d=(b*d+(this.words[p]|0))%g;return d},s.prototype.idivn=function(g){n(g<=67108863);for(var b=0,d=this.length-1;d>=0;d--){var p=(this.words[d]|0)+b*67108864;this.words[d]=p/g|0,b=p%g}return this.strip()},s.prototype.divn=function(g){return this.clone().idivn(g)},s.prototype.egcd=function(g){n(g.negative===0),n(!g.isZero());var b=this,d=g.clone();b.negative!==0?b=b.umod(g):b=b.clone();for(var p=new s(1),A=new s(0),M=new s(0),N=new s(1),I=0;b.isEven()&&d.isEven();)b.iushrn(1),d.iushrn(1),++I;for(var m=d.clone(),x=b.clone();!b.isZero();){for(var E=0,D=1;!(b.words[0]&D)&&E<26;++E,D<<=1);if(E>0)for(b.iushrn(E);E-- >0;)(p.isOdd()||A.isOdd())&&(p.iadd(m),A.isub(x)),p.iushrn(1),A.iushrn(1);for(var z=0,P=1;!(d.words[0]&P)&&z<26;++z,P<<=1);if(z>0)for(d.iushrn(z);z-- >0;)(M.isOdd()||N.isOdd())&&(M.iadd(m),N.isub(x)),M.iushrn(1),N.iushrn(1);b.cmp(d)>=0?(b.isub(d),p.isub(M),A.isub(N)):(d.isub(b),M.isub(p),N.isub(A))}return{a:M,b:N,gcd:d.iushln(I)}},s.prototype._invmp=function(g){n(g.negative===0),n(!g.isZero());var b=this,d=g.clone();b.negative!==0?b=b.umod(g):b=b.clone();for(var p=new s(1),A=new s(0),M=d.clone();b.cmpn(1)>0&&d.cmpn(1)>0;){for(var N=0,I=1;!(b.words[0]&I)&&N<26;++N,I<<=1);if(N>0)for(b.iushrn(N);N-- >0;)p.isOdd()&&p.iadd(M),p.iushrn(1);for(var m=0,x=1;!(d.words[0]&x)&&m<26;++m,x<<=1);if(m>0)for(d.iushrn(m);m-- >0;)A.isOdd()&&A.iadd(M),A.iushrn(1);b.cmp(d)>=0?(b.isub(d),p.isub(A)):(d.isub(b),A.isub(p))}var E;return b.cmpn(1)===0?E=p:E=A,E.cmpn(0)<0&&E.iadd(g),E},s.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var b=this.clone(),d=g.clone();b.negative=0,d.negative=0;for(var p=0;b.isEven()&&d.isEven();p++)b.iushrn(1),d.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;d.isEven();)d.iushrn(1);var A=b.cmp(d);if(A<0){var M=b;b=d,d=M}else if(A===0||d.cmpn(1)===0)break;b.isub(d)}while(!0);return d.iushln(p)},s.prototype.invm=function(g){return this.egcd(g).a.umod(g)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(g){return this.words[0]&g},s.prototype.bincn=function(g){n(typeof g=="number");var b=g%26,d=(g-b)/26,p=1<<b;if(this.length<=d)return this._expand(d+1),this.words[d]|=p,this;for(var A=p,M=d;A!==0&&M<this.length;M++){var N=this.words[M]|0;N+=A,A=N>>>26,N&=67108863,this.words[M]=N}return A!==0&&(this.words[M]=A,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(g){var b=g<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var d;if(this.length>1)d=1;else{b&&(g=-g),n(g<=67108863,"Number is too big");var p=this.words[0]|0;d=p===g?0:p<g?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var b=this.ucmp(g);return this.negative!==0?-b|0:b},s.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var b=0,d=this.length-1;d>=0;d--){var p=this.words[d]|0,A=g.words[d]|0;if(p!==A){p<A?b=-1:p>A&&(b=1);break}}return b},s.prototype.gtn=function(g){return this.cmpn(g)===1},s.prototype.gt=function(g){return this.cmp(g)===1},s.prototype.gten=function(g){return this.cmpn(g)>=0},s.prototype.gte=function(g){return this.cmp(g)>=0},s.prototype.ltn=function(g){return this.cmpn(g)===-1},s.prototype.lt=function(g){return this.cmp(g)===-1},s.prototype.lten=function(g){return this.cmpn(g)<=0},s.prototype.lte=function(g){return this.cmp(g)<=0},s.prototype.eqn=function(g){return this.cmpn(g)===0},s.prototype.eq=function(g){return this.cmp(g)===0},s.red=function(g){return new Q(g)},s.prototype.toRed=function(g){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(g){return this.red=g,this},s.prototype.forceRed=function(g){return n(!this.red,"Already a number in reduction context"),this._forceRed(g)},s.prototype.redAdd=function(g){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},s.prototype.redIAdd=function(g){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},s.prototype.redSub=function(g){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},s.prototype.redISub=function(g){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},s.prototype.redShl=function(g){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},s.prototype.redMul=function(g){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},s.prototype.redIMul=function(g){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(g){return n(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var C={k256:null,p224:null,p192:null,p25519:null};function $(j,g){this.name=j,this.p=new s(g,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var g=new s(null);return g.words=new Array(Math.ceil(this.n/13)),g},$.prototype.ireduce=function(g){var b=g,d;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),d=b.bitLength();while(d>this.n);var p=d<this.n?-1:b.ucmp(this.p);return p===0?(b.words[0]=0,b.length=1):p>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},$.prototype.split=function(g,b){g.iushrn(this.n,0,b)},$.prototype.imulK=function(g){return g.imul(this.k)};function W(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(W,$),W.prototype.split=function(g,b){for(var d=4194303,p=Math.min(g.length,9),A=0;A<p;A++)b.words[A]=g.words[A];if(b.length=p,g.length<=9){g.words[0]=0,g.length=1;return}var M=g.words[9];for(b.words[b.length++]=M&d,A=10;A<g.length;A++){var N=g.words[A]|0;g.words[A-10]=(N&d)<<4|M>>>22,M=N}M>>>=22,g.words[A-10]=M,M===0&&g.length>10?g.length-=10:g.length-=9},W.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var b=0,d=0;d<g.length;d++){var p=g.words[d]|0;b+=p*977,g.words[d]=b&67108863,b=p*64+(b/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function X(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(X,$);function ae(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ae,$);function ee(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ee,$),ee.prototype.imulK=function(g){for(var b=0,d=0;d<g.length;d++){var p=(g.words[d]|0)*19+b,A=p&67108863;p>>>=26,g.words[d]=A,b=p}return b!==0&&(g.words[g.length++]=b),g},s._prime=function(g){if(C[g])return C[g];var b;if(g==="k256")b=new W;else if(g==="p224")b=new X;else if(g==="p192")b=new ae;else if(g==="p25519")b=new ee;else throw new Error("Unknown prime "+g);return C[g]=b,b};function Q(j){if(typeof j=="string"){var g=s._prime(j);this.m=g.p,this.prime=g}else n(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}Q.prototype._verify1=function(g){n(g.negative===0,"red works only with positives"),n(g.red,"red works only with red numbers")},Q.prototype._verify2=function(g,b){n((g.negative|b.negative)===0,"red works only with positives"),n(g.red&&g.red===b.red,"red works only with red numbers")},Q.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):g.umod(this.m)._forceRed(this)},Q.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},Q.prototype.add=function(g,b){this._verify2(g,b);var d=g.add(b);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},Q.prototype.iadd=function(g,b){this._verify2(g,b);var d=g.iadd(b);return d.cmp(this.m)>=0&&d.isub(this.m),d},Q.prototype.sub=function(g,b){this._verify2(g,b);var d=g.sub(b);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},Q.prototype.isub=function(g,b){this._verify2(g,b);var d=g.isub(b);return d.cmpn(0)<0&&d.iadd(this.m),d},Q.prototype.shl=function(g,b){return this._verify1(g),this.imod(g.ushln(b))},Q.prototype.imul=function(g,b){return this._verify2(g,b),this.imod(g.imul(b))},Q.prototype.mul=function(g,b){return this._verify2(g,b),this.imod(g.mul(b))},Q.prototype.isqr=function(g){return this.imul(g,g.clone())},Q.prototype.sqr=function(g){return this.mul(g,g)},Q.prototype.sqrt=function(g){if(g.isZero())return g.clone();var b=this.m.andln(3);if(n(b%2===1),b===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(g,d)}for(var p=this.m.subn(1),A=0;!p.isZero()&&p.andln(1)===0;)A++,p.iushrn(1);n(!p.isZero());var M=new s(1).toRed(this),N=M.redNeg(),I=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new s(2*m*m).toRed(this);this.pow(m,I).cmp(N)!==0;)m.redIAdd(N);for(var x=this.pow(m,p),E=this.pow(g,p.addn(1).iushrn(1)),D=this.pow(g,p),z=A;D.cmp(M)!==0;){for(var P=D,de=0;P.cmp(M)!==0;de++)P=P.redSqr();n(de<z);var Pe=this.pow(x,new s(1).iushln(z-de-1));E=E.redMul(Pe),x=Pe.redSqr(),D=D.redMul(x),z=de}return E},Q.prototype.invm=function(g){var b=g._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},Q.prototype.pow=function(g,b){if(b.isZero())return new s(1).toRed(this);if(b.cmpn(1)===0)return g.clone();var d=4,p=new Array(1<<d);p[0]=new s(1).toRed(this),p[1]=g;for(var A=2;A<p.length;A++)p[A]=this.mul(p[A-1],g);var M=p[0],N=0,I=0,m=b.bitLength()%26;for(m===0&&(m=26),A=b.length-1;A>=0;A--){for(var x=b.words[A],E=m-1;E>=0;E--){var D=x>>E&1;if(M!==p[0]&&(M=this.sqr(M)),D===0&&N===0){I=0;continue}N<<=1,N|=D,I++,!(I!==d&&(A!==0||E!==0))&&(M=this.mul(M,p[N]),I=0,N=0)}m=26}return M},Q.prototype.convertTo=function(g){var b=g.umod(this.m);return b===g?b.clone():b},Q.prototype.convertFrom=function(g){var b=g.clone();return b.red=null,b},s.mont=function(g){return new fe(g)};function fe(j){Q.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(fe,Q),fe.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},fe.prototype.convertFrom=function(g){var b=this.imod(g.mul(this.rinv));return b.red=null,b},fe.prototype.imul=function(g,b){if(g.isZero()||b.isZero())return g.words[0]=0,g.length=1,g;var d=g.imul(b),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(p).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},fe.prototype.mul=function(g,b){if(g.isZero()||b.isZero())return new s(0)._forceRed(this);var d=g.mul(b),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(p).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},fe.prototype.invm=function(g){var b=this.imod(g._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(r,Ki)}(ud)),ud.exports}var sp={},lx;function C9(){return lx||(lx=1,function(r){var e=r;function t(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var o=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)o[u]=s[u]|0;return o}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)o.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var c=s.charCodeAt(u),f=c>>8,l=c&255;f?o.push(f,l):o.push(l)}return o}e.toArray=t;function n(s){return s.length===1?"0"+s:s}e.zero2=n;function i(s){for(var a="",o=0;o<s.length;o++)a+=n(s[o].toString(16));return a}e.toHex=i,e.encode=function(a,o){return o==="hex"?i(a):a}}(sp)),sp}var dx;function di(){return dx||(dx=1,function(r){var e=r,t=Ss(),n=Da(),i=C9();e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(f,l,h){var y=new Array(Math.max(f.bitLength(),h)+1),w;for(w=0;w<y.length;w+=1)y[w]=0;var _=1<<l+1,v=f.clone();for(w=0;w<y.length;w++){var S,k=v.andln(_-1);v.isOdd()?(k>(_>>1)-1?S=(_>>1)-k:S=k,v.isubn(S)):S=0,y[w]=S,v.iushrn(1)}return y}e.getNAF=s;function a(f,l){var h=[[],[]];f=f.clone(),l=l.clone();for(var y=0,w=0,_;f.cmpn(-y)>0||l.cmpn(-w)>0;){var v=f.andln(3)+y&3,S=l.andln(3)+w&3;v===3&&(v=-1),S===3&&(S=-1);var k;v&1?(_=f.andln(7)+y&7,(_===3||_===5)&&S===2?k=-v:k=v):k=0,h[0].push(k);var C;S&1?(_=l.andln(7)+w&7,(_===3||_===5)&&v===2?C=-S:C=S):C=0,h[1].push(C),2*y===k+1&&(y=1-y),2*w===C+1&&(w=1-w),f.iushrn(1),l.iushrn(1)}return h}e.getJSF=a;function o(f,l,h){var y="_"+l;f.prototype[l]=function(){return this[y]!==void 0?this[y]:this[y]=h.call(this)}}e.cachedProperty=o;function u(f){return typeof f=="string"?e.toArray(f,"hex"):f}e.parseBytes=u;function c(f){return new t(f,"hex","le")}e.intFromLE=c}(ip)),ip}var ef={exports:{}},hx;function T9(){if(hx)return ef.exports;hx=1;var r;ef.exports=function(i){return r||(r=new e(null)),r.generate(i)};function e(n){this.rand=n}if(ef.exports.Rand=e,e.prototype.generate=function(i){return this._rand(i)},e.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var s=new Uint8Array(i),a=0;a<s.length;a++)s[a]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var t=Yd;if(typeof t.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(i){return t.randomBytes(i)}}catch{}return ef.exports}var ap={},op,px;function d0(){if(px)return op;px=1;var r=Ss(),e=di(),t=e.getNAF,n=e.getJSF,i=e.assert;function s(o,u){this.type=o,this.p=new r(u.p,16),this.red=u.prime?r.red(u.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=u.n&&new r(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var c=this.n&&this.p.div(this.n);!c||c.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}op=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(u,c){i(u.precomputed);var f=u._getDoubles(),l=t(c,1,this._bitLength),h=(1<<f.step+1)-(f.step%2===0?2:1);h/=3;var y=[],w,_;for(w=0;w<l.length;w+=f.step){_=0;for(var v=w+f.step-1;v>=w;v--)_=(_<<1)+l[v];y.push(_)}for(var S=this.jpoint(null,null,null),k=this.jpoint(null,null,null),C=h;C>0;C--){for(w=0;w<y.length;w++)_=y[w],_===C?k=k.mixedAdd(f.points[w]):_===-C&&(k=k.mixedAdd(f.points[w].neg()));S=S.add(k)}return S.toP()},s.prototype._wnafMul=function(u,c){var f=4,l=u._getNAFPoints(f);f=l.wnd;for(var h=l.points,y=t(c,f,this._bitLength),w=this.jpoint(null,null,null),_=y.length-1;_>=0;_--){for(var v=0;_>=0&&y[_]===0;_--)v++;if(_>=0&&v++,w=w.dblp(v),_<0)break;var S=y[_];i(S!==0),u.type==="affine"?S>0?w=w.mixedAdd(h[S-1>>1]):w=w.mixedAdd(h[-S-1>>1].neg()):S>0?w=w.add(h[S-1>>1]):w=w.add(h[-S-1>>1].neg())}return u.type==="affine"?w.toP():w},s.prototype._wnafMulAdd=function(u,c,f,l,h){var y=this._wnafT1,w=this._wnafT2,_=this._wnafT3,v=0,S,k,C;for(S=0;S<l;S++){C=c[S];var $=C._getNAFPoints(u);y[S]=$.wnd,w[S]=$.points}for(S=l-1;S>=1;S-=2){var W=S-1,X=S;if(y[W]!==1||y[X]!==1){_[W]=t(f[W],y[W],this._bitLength),_[X]=t(f[X],y[X],this._bitLength),v=Math.max(_[W].length,v),v=Math.max(_[X].length,v);continue}var ae=[c[W],null,null,c[X]];c[W].y.cmp(c[X].y)===0?(ae[1]=c[W].add(c[X]),ae[2]=c[W].toJ().mixedAdd(c[X].neg())):c[W].y.cmp(c[X].y.redNeg())===0?(ae[1]=c[W].toJ().mixedAdd(c[X]),ae[2]=c[W].add(c[X].neg())):(ae[1]=c[W].toJ().mixedAdd(c[X]),ae[2]=c[W].toJ().mixedAdd(c[X].neg()));var ee=[-3,-1,-5,-7,0,7,5,1,3],Q=n(f[W],f[X]);for(v=Math.max(Q[0].length,v),_[W]=new Array(v),_[X]=new Array(v),k=0;k<v;k++){var fe=Q[0][k]|0,j=Q[1][k]|0;_[W][k]=ee[(fe+1)*3+(j+1)],_[X][k]=0,w[W]=ae}}var g=this.jpoint(null,null,null),b=this._wnafT4;for(S=v;S>=0;S--){for(var d=0;S>=0;){var p=!0;for(k=0;k<l;k++)b[k]=_[k][S]|0,b[k]!==0&&(p=!1);if(!p)break;d++,S--}if(S>=0&&d++,g=g.dblp(d),S<0)break;for(k=0;k<l;k++){var A=b[k];A!==0&&(A>0?C=w[k][A-1>>1]:A<0&&(C=w[k][-A-1>>1].neg()),C.type==="affine"?g=g.mixedAdd(C):g=g.add(C))}}for(S=0;S<l;S++)w[S]=null;return h?g:g.toP()};function a(o,u){this.curve=o,this.type=u,this.precomputed=null}return s.BasePoint=a,a.prototype.eq=function(){throw new Error("Not implemented")},a.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(u,c){u=e.toArray(u,c);var f=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1===2*f){u[0]===6?i(u[u.length-1]%2===0):u[0]===7&&i(u[u.length-1]%2===1);var l=this.point(u.slice(1,1+f),u.slice(1+f,1+2*f));return l}else if((u[0]===2||u[0]===3)&&u.length-1===f)return this.pointFromX(u.slice(1,1+f),u[0]===3);throw new Error("Unknown point format")},a.prototype.encodeCompressed=function(u){return this.encode(u,!0)},a.prototype._encode=function(u){var c=this.curve.p.byteLength(),f=this.getX().toArray("be",c);return u?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",c))},a.prototype.encode=function(u,c){return e.encode(this._encode(c),u)},a.prototype.precompute=function(u){if(this.precomputed)return this;var c={doubles:null,naf:null,beta:null};return c.naf=this._getNAFPoints(8),c.doubles=this._getDoubles(4,u),c.beta=this._getBeta(),this.precomputed=c,this},a.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var c=this.precomputed.doubles;return c?c.points.length>=Math.ceil((u.bitLength()+1)/c.step):!1},a.prototype._getDoubles=function(u,c){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],l=this,h=0;h<c;h+=u){for(var y=0;y<u;y++)l=l.dbl();f.push(l)}return{step:u,points:f}},a.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var c=[this],f=(1<<u)-1,l=f===1?null:this.dbl(),h=1;h<f;h++)c[h]=c[h-1].add(l);return{wnd:u,points:c}},a.prototype._getBeta=function(){return null},a.prototype.dblp=function(u){for(var c=this,f=0;f<u;f++)c=c.dbl();return c},op}var up,gx;function Ej(){if(gx)return up;gx=1;var r=di(),e=Ss(),t=r0(),n=d0(),i=r.assert;function s(u){n.call(this,"short",u),this.a=new e(u.a,16).toRed(this.red),this.b=new e(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}t(s,n),up=s,s.prototype._getEndomorphism=function(c){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var f,l;if(c.beta)f=new e(c.beta,16).toRed(this.red);else{var h=this._getEndoRoots(this.p);f=h[0].cmp(h[1])<0?h[0]:h[1],f=f.toRed(this.red)}if(c.lambda)l=new e(c.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(f))===0?l=y[0]:(l=y[1],i(this.g.mul(l).x.cmp(this.g.x.redMul(f))===0))}var w;return c.basis?w=c.basis.map(function(_){return{a:new e(_.a,16),b:new e(_.b,16)}}):w=this._getEndoBasis(l),{beta:f,lambda:l,basis:w}}},s.prototype._getEndoRoots=function(c){var f=c===this.p?this.red:e.mont(c),l=new e(2).toRed(f).redInvm(),h=l.redNeg(),y=new e(3).toRed(f).redNeg().redSqrt().redMul(l),w=h.redAdd(y).fromRed(),_=h.redSub(y).fromRed();return[w,_]},s.prototype._getEndoBasis=function(c){for(var f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=c,h=this.n.clone(),y=new e(1),w=new e(0),_=new e(0),v=new e(1),S,k,C,$,W,X,ae,ee=0,Q,fe;l.cmpn(0)!==0;){var j=h.div(l);Q=h.sub(j.mul(l)),fe=_.sub(j.mul(y));var g=v.sub(j.mul(w));if(!C&&Q.cmp(f)<0)S=ae.neg(),k=y,C=Q.neg(),$=fe;else if(C&&++ee===2)break;ae=Q,h=l,l=Q,_=y,y=fe,v=w,w=g}W=Q.neg(),X=fe;var b=C.sqr().add($.sqr()),d=W.sqr().add(X.sqr());return d.cmp(b)>=0&&(W=S,X=k),C.negative&&(C=C.neg(),$=$.neg()),W.negative&&(W=W.neg(),X=X.neg()),[{a:C,b:$},{a:W,b:X}]},s.prototype._endoSplit=function(c){var f=this.endo.basis,l=f[0],h=f[1],y=h.b.mul(c).divRound(this.n),w=l.b.neg().mul(c).divRound(this.n),_=y.mul(l.a),v=w.mul(h.a),S=y.mul(l.b),k=w.mul(h.b),C=c.sub(_).sub(v),$=S.add(k).neg();return{k1:C,k2:$}},s.prototype.pointFromX=function(c,f){c=new e(c,16),c.red||(c=c.toRed(this.red));var l=c.redSqr().redMul(c).redIAdd(c.redMul(this.a)).redIAdd(this.b),h=l.redSqrt();if(h.redSqr().redSub(l).cmp(this.zero)!==0)throw new Error("invalid point");var y=h.fromRed().isOdd();return(f&&!y||!f&&y)&&(h=h.redNeg()),this.point(c,h)},s.prototype.validate=function(c){if(c.inf)return!0;var f=c.x,l=c.y,h=this.a.redMul(f),y=f.redSqr().redMul(f).redIAdd(h).redIAdd(this.b);return l.redSqr().redISub(y).cmpn(0)===0},s.prototype._endoWnafMulAdd=function(c,f,l){for(var h=this._endoWnafT1,y=this._endoWnafT2,w=0;w<c.length;w++){var _=this._endoSplit(f[w]),v=c[w],S=v._getBeta();_.k1.negative&&(_.k1.ineg(),v=v.neg(!0)),_.k2.negative&&(_.k2.ineg(),S=S.neg(!0)),h[w*2]=v,h[w*2+1]=S,y[w*2]=_.k1,y[w*2+1]=_.k2}for(var k=this._wnafMulAdd(1,h,y,w*2,l),C=0;C<w*2;C++)h[C]=null,y[C]=null;return k};function a(u,c,f,l){n.BasePoint.call(this,u,"affine"),c===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(c,16),this.y=new e(f,16),l&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}t(a,n.BasePoint),s.prototype.point=function(c,f,l){return new a(this,c,f,l)},s.prototype.pointFromJSON=function(c,f){return a.fromJSON(this,c,f)},a.prototype._getBeta=function(){if(this.curve.endo){var c=this.precomputed;if(c&&c.beta)return c.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(c){var l=this.curve,h=function(y){return l.point(y.x.redMul(l.endo.beta),y.y)};c.beta=f,f.precomputed={beta:null,naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(h)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(h)}}}return f}},a.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},a.fromJSON=function(c,f,l){typeof f=="string"&&(f=JSON.parse(f));var h=c.point(f[0],f[1],l);if(!f[2])return h;function y(_){return c.point(_[0],_[1],l)}var w=f[2];return h.precomputed={beta:null,doubles:w.doubles&&{step:w.doubles.step,points:[h].concat(w.doubles.points.map(y))},naf:w.naf&&{wnd:w.naf.wnd,points:[h].concat(w.naf.points.map(y))}},h},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.inf},a.prototype.add=function(c){if(this.inf)return c;if(c.inf)return this;if(this.eq(c))return this.dbl();if(this.neg().eq(c))return this.curve.point(null,null);if(this.x.cmp(c.x)===0)return this.curve.point(null,null);var f=this.y.redSub(c.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(c.x).redInvm()));var l=f.redSqr().redISub(this.x).redISub(c.x),h=f.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,h)},a.prototype.dbl=function(){if(this.inf)return this;var c=this.y.redAdd(this.y);if(c.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,l=this.x.redSqr(),h=c.redInvm(),y=l.redAdd(l).redIAdd(l).redIAdd(f).redMul(h),w=y.redSqr().redISub(this.x.redAdd(this.x)),_=y.redMul(this.x.redSub(w)).redISub(this.y);return this.curve.point(w,_)},a.prototype.getX=function(){return this.x.fromRed()},a.prototype.getY=function(){return this.y.fromRed()},a.prototype.mul=function(c){return c=new e(c,16),this.isInfinity()?this:this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve.endo?this.curve._endoWnafMulAdd([this],[c]):this.curve._wnafMul(this,c)},a.prototype.mulAdd=function(c,f,l){var h=[this,f],y=[c,l];return this.curve.endo?this.curve._endoWnafMulAdd(h,y):this.curve._wnafMulAdd(1,h,y,2)},a.prototype.jmulAdd=function(c,f,l){var h=[this,f],y=[c,l];return this.curve.endo?this.curve._endoWnafMulAdd(h,y,!0):this.curve._wnafMulAdd(1,h,y,2,!0)},a.prototype.eq=function(c){return this===c||this.inf===c.inf&&(this.inf||this.x.cmp(c.x)===0&&this.y.cmp(c.y)===0)},a.prototype.neg=function(c){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(c&&this.precomputed){var l=this.precomputed,h=function(y){return y.neg()};f.precomputed={naf:l.naf&&{wnd:l.naf.wnd,points:l.naf.points.map(h)},doubles:l.doubles&&{step:l.doubles.step,points:l.doubles.points.map(h)}}}return f},a.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var c=this.curve.jpoint(this.x,this.y,this.curve.one);return c};function o(u,c,f,l){n.BasePoint.call(this,u,"jacobian"),c===null&&f===null&&l===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(c,16),this.y=new e(f,16),this.z=new e(l,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return t(o,n.BasePoint),s.prototype.jpoint=function(c,f,l){return new o(this,c,f,l)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var c=this.z.redInvm(),f=c.redSqr(),l=this.x.redMul(f),h=this.y.redMul(f).redMul(c);return this.curve.point(l,h)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(c){if(this.isInfinity())return c;if(c.isInfinity())return this;var f=c.z.redSqr(),l=this.z.redSqr(),h=this.x.redMul(f),y=c.x.redMul(l),w=this.y.redMul(f.redMul(c.z)),_=c.y.redMul(l.redMul(this.z)),v=h.redSub(y),S=w.redSub(_);if(v.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=v.redSqr(),C=k.redMul(v),$=h.redMul(k),W=S.redSqr().redIAdd(C).redISub($).redISub($),X=S.redMul($.redISub(W)).redISub(w.redMul(C)),ae=this.z.redMul(c.z).redMul(v);return this.curve.jpoint(W,X,ae)},o.prototype.mixedAdd=function(c){if(this.isInfinity())return c.toJ();if(c.isInfinity())return this;var f=this.z.redSqr(),l=this.x,h=c.x.redMul(f),y=this.y,w=c.y.redMul(f).redMul(this.z),_=l.redSub(h),v=y.redSub(w);if(_.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var S=_.redSqr(),k=S.redMul(_),C=l.redMul(S),$=v.redSqr().redIAdd(k).redISub(C).redISub(C),W=v.redMul(C.redISub($)).redISub(y.redMul(k)),X=this.z.redMul(_);return this.curve.jpoint($,W,X)},o.prototype.dblp=function(c){if(c===0)return this;if(this.isInfinity())return this;if(!c)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var l=this;for(f=0;f<c;f++)l=l.dbl();return l}var h=this.curve.a,y=this.curve.tinv,w=this.x,_=this.y,v=this.z,S=v.redSqr().redSqr(),k=_.redAdd(_);for(f=0;f<c;f++){var C=w.redSqr(),$=k.redSqr(),W=$.redSqr(),X=C.redAdd(C).redIAdd(C).redIAdd(h.redMul(S)),ae=w.redMul($),ee=X.redSqr().redISub(ae.redAdd(ae)),Q=ae.redISub(ee),fe=X.redMul(Q);fe=fe.redIAdd(fe).redISub(W);var j=k.redMul(v);f+1<c&&(S=S.redMul(W)),w=ee,v=j,k=fe}return this.curve.jpoint(w,k.redMul(y),v)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var c,f,l;if(this.zOne){var h=this.x.redSqr(),y=this.y.redSqr(),w=y.redSqr(),_=this.x.redAdd(y).redSqr().redISub(h).redISub(w);_=_.redIAdd(_);var v=h.redAdd(h).redIAdd(h),S=v.redSqr().redISub(_).redISub(_),k=w.redIAdd(w);k=k.redIAdd(k),k=k.redIAdd(k),c=S,f=v.redMul(_.redISub(S)).redISub(k),l=this.y.redAdd(this.y)}else{var C=this.x.redSqr(),$=this.y.redSqr(),W=$.redSqr(),X=this.x.redAdd($).redSqr().redISub(C).redISub(W);X=X.redIAdd(X);var ae=C.redAdd(C).redIAdd(C),ee=ae.redSqr(),Q=W.redIAdd(W);Q=Q.redIAdd(Q),Q=Q.redIAdd(Q),c=ee.redISub(X).redISub(X),f=ae.redMul(X.redISub(c)).redISub(Q),l=this.y.redMul(this.z),l=l.redIAdd(l)}return this.curve.jpoint(c,f,l)},o.prototype._threeDbl=function(){var c,f,l;if(this.zOne){var h=this.x.redSqr(),y=this.y.redSqr(),w=y.redSqr(),_=this.x.redAdd(y).redSqr().redISub(h).redISub(w);_=_.redIAdd(_);var v=h.redAdd(h).redIAdd(h).redIAdd(this.curve.a),S=v.redSqr().redISub(_).redISub(_);c=S;var k=w.redIAdd(w);k=k.redIAdd(k),k=k.redIAdd(k),f=v.redMul(_.redISub(S)).redISub(k),l=this.y.redAdd(this.y)}else{var C=this.z.redSqr(),$=this.y.redSqr(),W=this.x.redMul($),X=this.x.redSub(C).redMul(this.x.redAdd(C));X=X.redAdd(X).redIAdd(X);var ae=W.redIAdd(W);ae=ae.redIAdd(ae);var ee=ae.redAdd(ae);c=X.redSqr().redISub(ee),l=this.y.redAdd(this.z).redSqr().redISub($).redISub(C);var Q=$.redSqr();Q=Q.redIAdd(Q),Q=Q.redIAdd(Q),Q=Q.redIAdd(Q),f=X.redMul(ae.redISub(c)).redISub(Q)}return this.curve.jpoint(c,f,l)},o.prototype._dbl=function(){var c=this.curve.a,f=this.x,l=this.y,h=this.z,y=h.redSqr().redSqr(),w=f.redSqr(),_=l.redSqr(),v=w.redAdd(w).redIAdd(w).redIAdd(c.redMul(y)),S=f.redAdd(f);S=S.redIAdd(S);var k=S.redMul(_),C=v.redSqr().redISub(k.redAdd(k)),$=k.redISub(C),W=_.redSqr();W=W.redIAdd(W),W=W.redIAdd(W),W=W.redIAdd(W);var X=v.redMul($).redISub(W),ae=l.redAdd(l).redMul(h);return this.curve.jpoint(C,X,ae)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var c=this.x.redSqr(),f=this.y.redSqr(),l=this.z.redSqr(),h=f.redSqr(),y=c.redAdd(c).redIAdd(c),w=y.redSqr(),_=this.x.redAdd(f).redSqr().redISub(c).redISub(h);_=_.redIAdd(_),_=_.redAdd(_).redIAdd(_),_=_.redISub(w);var v=_.redSqr(),S=h.redIAdd(h);S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var k=y.redIAdd(_).redSqr().redISub(w).redISub(v).redISub(S),C=f.redMul(k);C=C.redIAdd(C),C=C.redIAdd(C);var $=this.x.redMul(v).redISub(C);$=$.redIAdd($),$=$.redIAdd($);var W=this.y.redMul(k.redMul(S.redISub(k)).redISub(_.redMul(v)));W=W.redIAdd(W),W=W.redIAdd(W),W=W.redIAdd(W);var X=this.z.redAdd(_).redSqr().redISub(l).redISub(v);return this.curve.jpoint($,W,X)},o.prototype.mul=function(c,f){return c=new e(c,f),this.curve._wnafMul(this,c)},o.prototype.eq=function(c){if(c.type==="affine")return this.eq(c.toJ());if(this===c)return!0;var f=this.z.redSqr(),l=c.z.redSqr();if(this.x.redMul(l).redISub(c.x.redMul(f)).cmpn(0)!==0)return!1;var h=f.redMul(this.z),y=l.redMul(c.z);return this.y.redMul(y).redISub(c.y.redMul(h)).cmpn(0)===0},o.prototype.eqXToP=function(c){var f=this.z.redSqr(),l=c.toRed(this.curve.red).redMul(f);if(this.x.cmp(l)===0)return!0;for(var h=c.clone(),y=this.curve.redN.redMul(f);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(l.redIAdd(y),this.x.cmp(l)===0)return!0}},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0},up}var cp,bx;function Sj(){if(bx)return cp;bx=1;var r=Ss(),e=r0(),t=d0(),n=di();function i(a){t.call(this,"mont",a),this.a=new r(a.a,16).toRed(this.red),this.b=new r(a.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(i,t),cp=i,i.prototype.validate=function(o){var u=o.normalize().x,c=u.redSqr(),f=c.redMul(u).redAdd(c.redMul(this.a)).redAdd(u),l=f.redSqrt();return l.redSqr().cmp(f)===0};function s(a,o,u){t.BasePoint.call(this,a,"projective"),o===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(o,16),this.z=new r(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(s,t.BasePoint),i.prototype.decodePoint=function(o,u){return this.point(n.toArray(o,u),1)},i.prototype.point=function(o,u){return new s(this,o,u)},i.prototype.pointFromJSON=function(o){return s.fromJSON(this,o)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(o,u){return new s(o,u[0],u[1]||o.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},s.prototype.dbl=function(){var o=this.x.redAdd(this.z),u=o.redSqr(),c=this.x.redSub(this.z),f=c.redSqr(),l=u.redSub(f),h=u.redMul(f),y=l.redMul(f.redAdd(this.curve.a24.redMul(l)));return this.curve.point(h,y)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(o,u){var c=this.x.redAdd(this.z),f=this.x.redSub(this.z),l=o.x.redAdd(o.z),h=o.x.redSub(o.z),y=h.redMul(c),w=l.redMul(f),_=u.z.redMul(y.redAdd(w).redSqr()),v=u.x.redMul(y.redISub(w).redSqr());return this.curve.point(_,v)},s.prototype.mul=function(o){for(var u=o.clone(),c=this,f=this.curve.point(null,null),l=this,h=[];u.cmpn(0)!==0;u.iushrn(1))h.push(u.andln(1));for(var y=h.length-1;y>=0;y--)h[y]===0?(c=c.diffAdd(f,l),f=f.dbl()):(f=c.diffAdd(f,l),c=c.dbl());return f},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(o){return this.getX().cmp(o.getX())===0},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},cp}var fp,mx;function Ij(){if(mx)return fp;mx=1;var r=di(),e=Ss(),t=r0(),n=d0(),i=r.assert;function s(o){this.twisted=(o.a|0)!==1,this.mOneA=this.twisted&&(o.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",o),this.a=new e(o.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(o.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(o.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(o.c|0)===1}t(s,n),fp=s,s.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},s.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},s.prototype.jpoint=function(u,c,f,l){return this.point(u,c,f,l)},s.prototype.pointFromX=function(u,c){u=new e(u,16),u.red||(u=u.toRed(this.red));var f=u.redSqr(),l=this.c2.redSub(this.a.redMul(f)),h=this.one.redSub(this.c2.redMul(this.d).redMul(f)),y=l.redMul(h.redInvm()),w=y.redSqrt();if(w.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var _=w.fromRed().isOdd();return(c&&!_||!c&&_)&&(w=w.redNeg()),this.point(u,w)},s.prototype.pointFromY=function(u,c){u=new e(u,16),u.red||(u=u.toRed(this.red));var f=u.redSqr(),l=f.redSub(this.c2),h=f.redMul(this.d).redMul(this.c2).redSub(this.a),y=l.redMul(h.redInvm());if(y.cmp(this.zero)===0){if(c)throw new Error("invalid point");return this.point(this.zero,u)}var w=y.redSqrt();if(w.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return w.fromRed().isOdd()!==c&&(w=w.redNeg()),this.point(w,u)},s.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var c=u.x.redSqr(),f=u.y.redSqr(),l=c.redMul(this.a).redAdd(f),h=this.c2.redMul(this.one.redAdd(this.d.redMul(c).redMul(f)));return l.cmp(h)===0};function a(o,u,c,f,l){n.BasePoint.call(this,o,"projective"),u===null&&c===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(u,16),this.y=new e(c,16),this.z=f?new e(f,16):this.curve.one,this.t=l&&new e(l,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return t(a,n.BasePoint),s.prototype.pointFromJSON=function(u){return a.fromJSON(this,u)},s.prototype.point=function(u,c,f,l){return new a(this,u,c,f,l)},a.fromJSON=function(u,c){return new a(u,c[0],c[1],c[2])},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},a.prototype._extDbl=function(){var u=this.x.redSqr(),c=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var l=this.curve._mulA(u),h=this.x.redAdd(this.y).redSqr().redISub(u).redISub(c),y=l.redAdd(c),w=y.redSub(f),_=l.redSub(c),v=h.redMul(w),S=y.redMul(_),k=h.redMul(_),C=w.redMul(y);return this.curve.point(v,S,C,k)},a.prototype._projDbl=function(){var u=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),f=this.y.redSqr(),l,h,y,w,_,v;if(this.curve.twisted){w=this.curve._mulA(c);var S=w.redAdd(f);this.zOne?(l=u.redSub(c).redSub(f).redMul(S.redSub(this.curve.two)),h=S.redMul(w.redSub(f)),y=S.redSqr().redSub(S).redSub(S)):(_=this.z.redSqr(),v=S.redSub(_).redISub(_),l=u.redSub(c).redISub(f).redMul(v),h=S.redMul(w.redSub(f)),y=S.redMul(v))}else w=c.redAdd(f),_=this.curve._mulC(this.z).redSqr(),v=w.redSub(_).redSub(_),l=this.curve._mulC(u.redISub(w)).redMul(v),h=this.curve._mulC(w).redMul(c.redISub(f)),y=w.redMul(v);return this.curve.point(l,h,y)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},a.prototype._extAdd=function(u){var c=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),f=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),l=this.t.redMul(this.curve.dd).redMul(u.t),h=this.z.redMul(u.z.redAdd(u.z)),y=f.redSub(c),w=h.redSub(l),_=h.redAdd(l),v=f.redAdd(c),S=y.redMul(w),k=_.redMul(v),C=y.redMul(v),$=w.redMul(_);return this.curve.point(S,k,$,C)},a.prototype._projAdd=function(u){var c=this.z.redMul(u.z),f=c.redSqr(),l=this.x.redMul(u.x),h=this.y.redMul(u.y),y=this.curve.d.redMul(l).redMul(h),w=f.redSub(y),_=f.redAdd(y),v=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(l).redISub(h),S=c.redMul(w).redMul(v),k,C;return this.curve.twisted?(k=c.redMul(_).redMul(h.redSub(this.curve._mulA(l))),C=w.redMul(_)):(k=c.redMul(_).redMul(h.redSub(l)),C=this.curve._mulC(w).redMul(_)),this.curve.point(S,k,C)},a.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},a.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},a.prototype.mulAdd=function(u,c,f){return this.curve._wnafMulAdd(1,[this,c],[u,f],2,!1)},a.prototype.jmulAdd=function(u,c,f){return this.curve._wnafMulAdd(1,[this,c],[u,f],2,!0)},a.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},a.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},a.prototype.getY=function(){return this.normalize(),this.y.fromRed()},a.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},a.prototype.eqXToP=function(u){var c=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(c)===0)return!0;for(var f=u.clone(),l=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(l),this.x.cmp(c)===0)return!0}},a.prototype.toP=a.prototype.normalize,a.prototype.mixedAdd=a.prototype.add,fp}var vx;function D9(){return vx||(vx=1,function(r){var e=r;e.base=d0(),e.short=Ej(),e.mont=Sj(),e.edwards=Ij()}(ap)),ap}var lp={},dp,yx;function Mj(){return yx||(yx=1,dp={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),dp}var xx;function db(){return xx||(xx=1,function(r){var e=r,t=n0(),n=D9(),i=di(),s=i.assert;function a(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function o(c,f){Object.defineProperty(e,c,{configurable:!0,enumerable:!0,get:function(){var l=new a(f);return Object.defineProperty(e,c,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=Mj()}catch{u=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})}(lp)),lp}var hp,wx;function Pj(){if(wx)return hp;wx=1;var r=n0(),e=C9(),t=Da();function n(i){if(!(this instanceof n))return new n(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var s=e.toArray(i.entropy,i.entropyEnc||"hex"),a=e.toArray(i.nonce,i.nonceEnc||"hex"),o=e.toArray(i.pers,i.persEnc||"hex");t(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(s,a,o)}return hp=n,n.prototype._init=function(s,a,o){var u=s.concat(a).concat(o);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var c=0;c<this.V.length;c++)this.K[c]=0,this.V[c]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},n.prototype._update=function(s){var a=this._hmac().update(this.V).update([0]);s&&(a=a.update(s)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest(),s&&(this.K=this._hmac().update(this.V).update([1]).update(s).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(s,a,o,u){typeof a!="string"&&(u=o,o=a,a=null),s=e.toArray(s,a),o=e.toArray(o,u),t(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(s.concat(o||[])),this._reseed=1},n.prototype.generate=function(s,a,o,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof a!="string"&&(u=o,o=a,a=null),o&&(o=e.toArray(o,u||"hex"),this._update(o));for(var c=[];c.length<s;)this.V=this._hmac().update(this.V).digest(),c=c.concat(this.V);var f=c.slice(0,s);return this._update(o),this._reseed++,e.encode(f,a)},hp}var pp,Ax;function Rj(){if(Ax)return pp;Ax=1;var r=Ss(),e=di(),t=e.assert;function n(i,s){this.ec=i,this.priv=null,this.pub=null,s.priv&&this._importPrivate(s.priv,s.privEnc),s.pub&&this._importPublic(s.pub,s.pubEnc)}return pp=n,n.fromPublic=function(s,a,o){return a instanceof n?a:new n(s,{pub:a,pubEnc:o})},n.fromPrivate=function(s,a,o){return a instanceof n?a:new n(s,{priv:a,privEnc:o})},n.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(s,a){return typeof s=="string"&&(a=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,s):this.pub},n.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(s,a){this.priv=new r(s,a||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(s,a){if(s.x||s.y){this.ec.curve.type==="mont"?t(s.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&t(s.x&&s.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(s.x,s.y);return}this.pub=this.ec.curve.decodePoint(s,a)},n.prototype.derive=function(s){return s.validate()||t(s.validate(),"public point not validated"),s.mul(this.priv).getX()},n.prototype.sign=function(s,a,o){return this.ec.sign(s,this,a,o)},n.prototype.verify=function(s,a,o){return this.ec.verify(s,a,this,void 0,o)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},pp}var gp,_x;function kj(){if(_x)return gp;_x=1;var r=Ss(),e=di(),t=e.assert;function n(u,c){if(u instanceof n)return u;this._importDER(u,c)||(t(u.r&&u.s,"Signature without r or s"),this.r=new r(u.r,16),this.s=new r(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}gp=n;function i(){this.place=0}function s(u,c){var f=u[c.place++];if(!(f&128))return f;var l=f&15;if(l===0||l>4||u[c.place]===0)return!1;for(var h=0,y=0,w=c.place;y<l;y++,w++)h<<=8,h|=u[w],h>>>=0;return h<=127?!1:(c.place=w,h)}function a(u){for(var c=0,f=u.length-1;!u[c]&&!(u[c+1]&128)&&c<f;)c++;return c===0?u:u.slice(c)}n.prototype._importDER=function(c,f){c=e.toArray(c,f);var l=new i;if(c[l.place++]!==48)return!1;var h=s(c,l);if(h===!1||h+l.place!==c.length||c[l.place++]!==2)return!1;var y=s(c,l);if(y===!1||c[l.place]&128)return!1;var w=c.slice(l.place,y+l.place);if(l.place+=y,c[l.place++]!==2)return!1;var _=s(c,l);if(_===!1||c.length!==_+l.place||c[l.place]&128)return!1;var v=c.slice(l.place,_+l.place);if(w[0]===0)if(w[1]&128)w=w.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new r(w),this.s=new r(v),this.recoveryParam=null,!0};function o(u,c){if(c<128){u.push(c);return}var f=1+(Math.log(c)/Math.LN2>>>3);for(u.push(f|128);--f;)u.push(c>>>(f<<3)&255);u.push(c)}return n.prototype.toDER=function(c){var f=this.r.toArray(),l=this.s.toArray();for(f[0]&128&&(f=[0].concat(f)),l[0]&128&&(l=[0].concat(l)),f=a(f),l=a(l);!l[0]&&!(l[1]&128);)l=l.slice(1);var h=[2];o(h,f.length),h=h.concat(f),h.push(2),o(h,l.length);var y=h.concat(l),w=[48];return o(w,y.length),w=w.concat(y),e.encode(w,c)},gp}var bp,Ex;function Nj(){if(Ex)return bp;Ex=1;var r=Ss(),e=Pj(),t=di(),n=db(),i=T9(),s=t.assert,a=Rj(),o=kj();function u(c){if(!(this instanceof u))return new u(c);typeof c=="string"&&(s(Object.prototype.hasOwnProperty.call(n,c),"Unknown curve "+c),c=n[c]),c instanceof n.PresetCurve&&(c={curve:c}),this.curve=c.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=c.curve.g,this.g.precompute(c.curve.n.bitLength()+1),this.hash=c.hash||c.curve.hash}return bp=u,u.prototype.keyPair=function(f){return new a(this,f)},u.prototype.keyFromPrivate=function(f,l){return a.fromPrivate(this,f,l)},u.prototype.keyFromPublic=function(f,l){return a.fromPublic(this,f,l)},u.prototype.genKeyPair=function(f){f||(f={});for(var l=new e({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||i(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),h=this.n.byteLength(),y=this.n.sub(new r(2));;){var w=new r(l.generate(h));if(!(w.cmp(y)>0))return w.iaddn(1),this.keyFromPrivate(w)}},u.prototype._truncateToN=function(f,l,h){var y;if(r.isBN(f)||typeof f=="number")f=new r(f,16),y=f.byteLength();else if(typeof f=="object")y=f.length,f=new r(f,16);else{var w=f.toString();y=w.length+1>>>1,f=new r(w,16)}typeof h!="number"&&(h=y*8);var _=h-this.n.bitLength();return _>0&&(f=f.ushrn(_)),!l&&f.cmp(this.n)>=0?f.sub(this.n):f},u.prototype.sign=function(f,l,h,y){if(typeof h=="object"&&(y=h,h=null),y||(y={}),typeof f!="string"&&typeof f!="number"&&!r.isBN(f)){s(typeof f=="object"&&f&&typeof f.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),s(f.length>>>0===f.length);for(var w=0;w<f.length;w++)s((f[w]&255)===f[w])}l=this.keyFromPrivate(l,h),f=this._truncateToN(f,!1,y.msgBitLength),s(!f.isNeg(),"Can not sign a negative message");var _=this.n.byteLength(),v=l.getPrivate().toArray("be",_),S=f.toArray("be",_);s(new r(S).eq(f),"Can not sign message");for(var k=new e({hash:this.hash,entropy:v,nonce:S,pers:y.pers,persEnc:y.persEnc||"utf8"}),C=this.n.sub(new r(1)),$=0;;$++){var W=y.k?y.k($):new r(k.generate(this.n.byteLength()));if(W=this._truncateToN(W,!0),!(W.cmpn(1)<=0||W.cmp(C)>=0)){var X=this.g.mul(W);if(!X.isInfinity()){var ae=X.getX(),ee=ae.umod(this.n);if(ee.cmpn(0)!==0){var Q=W.invm(this.n).mul(ee.mul(l.getPrivate()).iadd(f));if(Q=Q.umod(this.n),Q.cmpn(0)!==0){var fe=(X.getY().isOdd()?1:0)|(ae.cmp(ee)!==0?2:0);return y.canonical&&Q.cmp(this.nh)>0&&(Q=this.n.sub(Q),fe^=1),new o({r:ee,s:Q,recoveryParam:fe})}}}}}},u.prototype.verify=function(f,l,h,y,w){w||(w={}),f=this._truncateToN(f,!1,w.msgBitLength),h=this.keyFromPublic(h,y),l=new o(l,"hex");var _=l.r,v=l.s;if(_.cmpn(1)<0||_.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var S=v.invm(this.n),k=S.mul(f).umod(this.n),C=S.mul(_).umod(this.n),$;return this.curve._maxwellTrick?($=this.g.jmulAdd(k,h.getPublic(),C),$.isInfinity()?!1:$.eqXToP(_)):($=this.g.mulAdd(k,h.getPublic(),C),$.isInfinity()?!1:$.getX().umod(this.n).cmp(_)===0)},u.prototype.recoverPubKey=function(c,f,l,h){s((3&l)===l,"The recovery param is more than two bits"),f=new o(f,h);var y=this.n,w=new r(c),_=f.r,v=f.s,S=l&1,k=l>>1;if(_.cmp(this.curve.p.umod(this.curve.n))>=0&&k)throw new Error("Unable to find sencond key candinate");k?_=this.curve.pointFromX(_.add(this.curve.n),S):_=this.curve.pointFromX(_,S);var C=f.r.invm(y),$=y.sub(w).mul(C).umod(y),W=v.mul(C).umod(y);return this.g.mulAdd($,_,W)},u.prototype.getKeyRecoveryParam=function(c,f,l,h){if(f=new o(f,h),f.recoveryParam!==null)return f.recoveryParam;for(var y=0;y<4;y++){var w;try{w=this.recoverPubKey(c,f,y)}catch{continue}if(w.eq(l))return y}throw new Error("Unable to find valid recovery factor")},bp}var mp,Sx;function Oj(){if(Sx)return mp;Sx=1;var r=di(),e=r.assert,t=r.parseBytes,n=r.cachedProperty;function i(s,a){this.eddsa=s,this._secret=t(a.secret),s.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=t(a.pub)}return i.fromPublic=function(a,o){return o instanceof i?o:new i(a,{pub:o})},i.fromSecret=function(a,o){return o instanceof i?o:new i(a,{secret:o})},i.prototype.secret=function(){return this._secret},n(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(i,"privBytes",function(){var a=this.eddsa,o=this.hash(),u=a.encodingLength-1,c=o.slice(0,a.encodingLength);return c[0]&=248,c[u]&=127,c[u]|=64,c}),n(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(a){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(a,this)},i.prototype.verify=function(a,o){return this.eddsa.verify(a,o,this)},i.prototype.getSecret=function(a){return e(this._secret,"KeyPair is public only"),r.encode(this.secret(),a)},i.prototype.getPublic=function(a){return r.encode(this.pubBytes(),a)},mp=i,mp}var vp,Ix;function Cj(){if(Ix)return vp;Ix=1;var r=Ss(),e=di(),t=e.assert,n=e.cachedProperty,i=e.parseBytes;function s(a,o){this.eddsa=a,typeof o!="object"&&(o=i(o)),Array.isArray(o)&&(t(o.length===a.encodingLength*2,"Signature has invalid size"),o={R:o.slice(0,a.encodingLength),S:o.slice(a.encodingLength)}),t(o.R&&o.S,"Signature without R or S"),a.isPoint(o.R)&&(this._R=o.R),o.S instanceof r&&(this._S=o.S),this._Rencoded=Array.isArray(o.R)?o.R:o.Rencoded,this._Sencoded=Array.isArray(o.S)?o.S:o.Sencoded}return n(s,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(s,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(s,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(s,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},vp=s,vp}var yp,Mx;function Tj(){if(Mx)return yp;Mx=1;var r=n0(),e=db(),t=di(),n=t.assert,i=t.parseBytes,s=Oj(),a=Cj();function o(u){if(n(u==="ed25519","only tested with ed25519 so far"),!(this instanceof o))return new o(u);u=e[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=r.sha512}return yp=o,o.prototype.sign=function(c,f){c=i(c);var l=this.keyFromSecret(f),h=this.hashInt(l.messagePrefix(),c),y=this.g.mul(h),w=this.encodePoint(y),_=this.hashInt(w,l.pubBytes(),c).mul(l.priv()),v=h.add(_).umod(this.curve.n);return this.makeSignature({R:y,S:v,Rencoded:w})},o.prototype.verify=function(c,f,l){if(c=i(c),f=this.makeSignature(f),f.S().gte(f.eddsa.curve.n)||f.S().isNeg())return!1;var h=this.keyFromPublic(l),y=this.hashInt(f.Rencoded(),h.pubBytes(),c),w=this.g.mul(f.S()),_=f.R().add(h.pub().mul(y));return _.eq(w)},o.prototype.hashInt=function(){for(var c=this.hash(),f=0;f<arguments.length;f++)c.update(arguments[f]);return t.intFromLE(c.digest()).umod(this.curve.n)},o.prototype.keyFromPublic=function(c){return s.fromPublic(this,c)},o.prototype.keyFromSecret=function(c){return s.fromSecret(this,c)},o.prototype.makeSignature=function(c){return c instanceof a?c:new a(this,c)},o.prototype.encodePoint=function(c){var f=c.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=c.getX().isOdd()?128:0,f},o.prototype.decodePoint=function(c){c=t.parseBytes(c);var f=c.length-1,l=c.slice(0,f).concat(c[f]&-129),h=(c[f]&128)!==0,y=t.intFromLE(l);return this.curve.pointFromY(y,h)},o.prototype.encodeInt=function(c){return c.toArray("le",this.encodingLength)},o.prototype.decodeInt=function(c){return t.intFromLE(c)},o.prototype.isPoint=function(c){return c instanceof this.pointClass},yp}var Px;function Dj(){return Px||(Px=1,function(r){var e=r;e.version=_j.version,e.utils=di(),e.rand=T9(),e.curve=D9(),e.curves=db(),e.ec=Nj(),e.eddsa=Tj()}(np)),np}var xp={exports:{}},Rx;function Bj(){return Rx||(Rx=1,function(r){function e(t){return r.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r.exports.__esModule=!0,r.exports.default=r.exports,e(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(xp)),xp.exports}var wp={exports:{}},Ap={exports:{}},kx;function Lj(){return kx||(kx=1,function(r){function e(t,n){return r.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},r.exports.__esModule=!0,r.exports.default=r.exports,e(t,n)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Ap)),Ap.exports}var Nx;function $j(){return Nx||(Nx=1,function(r){var e=Lj();function t(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&e(n,i)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(wp)),wp.exports}var _p={exports:{}},Ox;function Fj(){return Ox||(Ox=1,function(r){var e=pc().default,t=O9();function n(i,s){if(s&&(e(s)=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(i)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(_p)),_p.exports}var tf={exports:{}},Ep,Cx;function B9(){return Cx||(Cx=1,Ep=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}}),Ep}var Sp,Tx;function Hn(){if(Tx)return Sp;Tx=1;var r=B9(),e=Object.prototype.toString;function t(ee){return Array.isArray(ee)}function n(ee){return typeof ee>"u"}function i(ee){return ee!==null&&!n(ee)&&ee.constructor!==null&&!n(ee.constructor)&&typeof ee.constructor.isBuffer=="function"&&ee.constructor.isBuffer(ee)}function s(ee){return e.call(ee)==="[object ArrayBuffer]"}function a(ee){return e.call(ee)==="[object FormData]"}function o(ee){var Q;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?Q=ArrayBuffer.isView(ee):Q=ee&&ee.buffer&&s(ee.buffer),Q}function u(ee){return typeof ee=="string"}function c(ee){return typeof ee=="number"}function f(ee){return ee!==null&&typeof ee=="object"}function l(ee){if(e.call(ee)!=="[object Object]")return!1;var Q=Object.getPrototypeOf(ee);return Q===null||Q===Object.prototype}function h(ee){return e.call(ee)==="[object Date]"}function y(ee){return e.call(ee)==="[object File]"}function w(ee){return e.call(ee)==="[object Blob]"}function _(ee){return e.call(ee)==="[object Function]"}function v(ee){return f(ee)&&_(ee.pipe)}function S(ee){return e.call(ee)==="[object URLSearchParams]"}function k(ee){return ee.trim?ee.trim():ee.replace(/^\s+|\s+$/g,"")}function C(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function $(ee,Q){if(!(ee===null||typeof ee>"u"))if(typeof ee!="object"&&(ee=[ee]),t(ee))for(var fe=0,j=ee.length;fe<j;fe++)Q.call(null,ee[fe],fe,ee);else for(var g in ee)Object.prototype.hasOwnProperty.call(ee,g)&&Q.call(null,ee[g],g,ee)}function W(){var ee={};function Q(g,b){l(ee[b])&&l(g)?ee[b]=W(ee[b],g):l(g)?ee[b]=W({},g):t(g)?ee[b]=g.slice():ee[b]=g}for(var fe=0,j=arguments.length;fe<j;fe++)$(arguments[fe],Q);return ee}function X(ee,Q,fe){return $(Q,function(g,b){fe&&typeof g=="function"?ee[b]=r(g,fe):ee[b]=g}),ee}function ae(ee){return ee.charCodeAt(0)===65279&&(ee=ee.slice(1)),ee}return Sp={isArray:t,isArrayBuffer:s,isBuffer:i,isFormData:a,isArrayBufferView:o,isString:u,isNumber:c,isObject:f,isPlainObject:l,isUndefined:n,isDate:h,isFile:y,isBlob:w,isFunction:_,isStream:v,isURLSearchParams:S,isStandardBrowserEnv:C,forEach:$,merge:W,extend:X,trim:k,stripBOM:ae},Sp}var Ip,Dx;function L9(){if(Dx)return Ip;Dx=1;var r=Hn();function e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return Ip=function(n,i,s){if(!i)return n;var a;if(s)a=s(i);else if(r.isURLSearchParams(i))a=i.toString();else{var o=[];r.forEach(i,function(f,l){f===null||typeof f>"u"||(r.isArray(f)?l=l+"[]":f=[f],r.forEach(f,function(y){r.isDate(y)?y=y.toISOString():r.isObject(y)&&(y=JSON.stringify(y)),o.push(e(l)+"="+e(y))}))}),a=o.join("&")}if(a){var u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n},Ip}var Mp,Bx;function Uj(){if(Bx)return Mp;Bx=1;var r=Hn();function e(){this.handlers=[]}return e.prototype.use=function(n,i,s){return this.handlers.push({fulfilled:n,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)},e.prototype.forEach=function(n){r.forEach(this.handlers,function(s){s!==null&&n(s)})},Mp=e,Mp}var Pp,Lx;function qj(){if(Lx)return Pp;Lx=1;var r=Hn();return Pp=function(t,n){r.forEach(t,function(s,a){a!==n&&a.toUpperCase()===n.toUpperCase()&&(t[n]=s,delete t[a])})},Pp}var Rp,$x;function $9(){return $x||($x=1,Rp=function(e,t,n,i,s){return e.config=t,n&&(e.code=n),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}),Rp}var kp,Fx;function F9(){return Fx||(Fx=1,kp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}),kp}var Np,Ux;function U9(){if(Ux)return Np;Ux=1;var r=$9();return Np=function(t,n,i,s,a){var o=new Error(t);return r(o,n,i,s,a)},Np}var Op,qx;function jj(){if(qx)return Op;qx=1;var r=U9();return Op=function(t,n,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):n(r("Request failed with status code "+i.status,i.config,null,i.request,i))},Op}var Cp,jx;function zj(){if(jx)return Cp;jx=1;var r=Hn();return Cp=r.isStandardBrowserEnv()?function(){return{write:function(n,i,s,a,o,u){var c=[];c.push(n+"="+encodeURIComponent(i)),r.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),r.isString(a)&&c.push("path="+a),r.isString(o)&&c.push("domain="+o),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Cp}var Tp,zx;function Wj(){return zx||(zx=1,Tp=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Tp}var Dp,Wx;function Kj(){return Wx||(Wx=1,Dp=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),Dp}var Bp,Kx;function Hj(){if(Kx)return Bp;Kx=1;var r=Wj(),e=Kj();return Bp=function(n,i){return n&&!r(i)?e(n,i):i},Bp}var Lp,Hx;function Vj(){if(Hx)return Lp;Hx=1;var r=Hn(),e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Lp=function(n){var i={},s,a,o;return n&&r.forEach(n.split(`
`),function(c){if(o=c.indexOf(":"),s=r.trim(c.substr(0,o)).toLowerCase(),a=r.trim(c.substr(o+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([a]):i[s]=i[s]?i[s]+", "+a:a}}),i},Lp}var $p,Vx;function Gj(){if(Vx)return $p;Vx=1;var r=Hn();return $p=r.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function s(a){var o=a;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(o){var u=r.isString(o)?s(o):o;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),$p}var Fp,Gx;function h0(){if(Gx)return Fp;Gx=1;function r(e){this.message=e}return r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,Fp=r,Fp}var Up,Zx;function Jx(){if(Zx)return Up;Zx=1;var r=Hn(),e=jj(),t=zj(),n=L9(),i=Hj(),s=Vj(),a=Gj(),o=U9(),u=F9(),c=h0();return Up=function(l){return new Promise(function(y,w){var _=l.data,v=l.headers,S=l.responseType,k;function C(){l.cancelToken&&l.cancelToken.unsubscribe(k),l.signal&&l.signal.removeEventListener("abort",k)}r.isFormData(_)&&delete v["Content-Type"];var $=new XMLHttpRequest;if(l.auth){var W=l.auth.username||"",X=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";v.Authorization="Basic "+btoa(W+":"+X)}var ae=i(l.baseURL,l.url);$.open(l.method.toUpperCase(),n(ae,l.params,l.paramsSerializer),!0),$.timeout=l.timeout;function ee(){if($){var fe="getAllResponseHeaders"in $?s($.getAllResponseHeaders()):null,j=!S||S==="text"||S==="json"?$.responseText:$.response,g={data:j,status:$.status,statusText:$.statusText,headers:fe,config:l,request:$};e(function(d){y(d),C()},function(d){w(d),C()},g),$=null}}if("onloadend"in $?$.onloadend=ee:$.onreadystatechange=function(){!$||$.readyState!==4||$.status===0&&!($.responseURL&&$.responseURL.indexOf("file:")===0)||setTimeout(ee)},$.onabort=function(){$&&(w(o("Request aborted",l,"ECONNABORTED",$)),$=null)},$.onerror=function(){w(o("Network Error",l,null,$)),$=null},$.ontimeout=function(){var j=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",g=l.transitional||u;l.timeoutErrorMessage&&(j=l.timeoutErrorMessage),w(o(j,l,g.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",$)),$=null},r.isStandardBrowserEnv()){var Q=(l.withCredentials||a(ae))&&l.xsrfCookieName?t.read(l.xsrfCookieName):void 0;Q&&(v[l.xsrfHeaderName]=Q)}"setRequestHeader"in $&&r.forEach(v,function(j,g){typeof _>"u"&&g.toLowerCase()==="content-type"?delete v[g]:$.setRequestHeader(g,j)}),r.isUndefined(l.withCredentials)||($.withCredentials=!!l.withCredentials),S&&S!=="json"&&($.responseType=l.responseType),typeof l.onDownloadProgress=="function"&&$.addEventListener("progress",l.onDownloadProgress),typeof l.onUploadProgress=="function"&&$.upload&&$.upload.addEventListener("progress",l.onUploadProgress),(l.cancelToken||l.signal)&&(k=function(fe){$&&(w(!fe||fe&&fe.type?new c("canceled"):fe),$.abort(),$=null)},l.cancelToken&&l.cancelToken.subscribe(k),l.signal&&(l.signal.aborted?k():l.signal.addEventListener("abort",k))),_||(_=null),$.send(_)})},Up}var qp,Yx;function hb(){if(Yx)return qp;Yx=1;var r=Hn(),e=qj(),t=$9(),n=F9(),i={"Content-Type":"application/x-www-form-urlencoded"};function s(c,f){!r.isUndefined(c)&&r.isUndefined(c["Content-Type"])&&(c["Content-Type"]=f)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=Jx()),c}function o(c,f,l){if(r.isString(c))try{return(f||JSON.parse)(c),r.trim(c)}catch(h){if(h.name!=="SyntaxError")throw h}return(l||JSON.stringify)(c)}var u={transitional:n,adapter:a(),transformRequest:[function(f,l){return e(l,"Accept"),e(l,"Content-Type"),r.isFormData(f)||r.isArrayBuffer(f)||r.isBuffer(f)||r.isStream(f)||r.isFile(f)||r.isBlob(f)?f:r.isArrayBufferView(f)?f.buffer:r.isURLSearchParams(f)?(s(l,"application/x-www-form-urlencoded;charset=utf-8"),f.toString()):r.isObject(f)||l&&l["Content-Type"]==="application/json"?(s(l,"application/json"),o(f)):f}],transformResponse:[function(f){var l=this.transitional||u.transitional,h=l&&l.silentJSONParsing,y=l&&l.forcedJSONParsing,w=!h&&this.responseType==="json";if(w||y&&r.isString(f)&&f.length)try{return JSON.parse(f)}catch(_){if(w)throw _.name==="SyntaxError"?t(_,this,"E_JSON_PARSE"):_}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return r.forEach(["delete","get","head"],function(f){u.headers[f]={}}),r.forEach(["post","put","patch"],function(f){u.headers[f]=r.merge(i)}),qp=u,qp}var jp,Qx;function Zj(){if(Qx)return jp;Qx=1;var r=Hn(),e=hb();return jp=function(n,i,s){var a=this||e;return r.forEach(s,function(u){n=u.call(a,n,i)}),n},jp}var zp,Xx;function q9(){return Xx||(Xx=1,zp=function(e){return!!(e&&e.__CANCEL__)}),zp}var Wp,ew;function Jj(){if(ew)return Wp;ew=1;var r=Hn(),e=Zj(),t=q9(),n=hb(),i=h0();function s(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new i("canceled")}return Wp=function(o){s(o),o.headers=o.headers||{},o.data=e.call(o,o.data,o.headers,o.transformRequest),o.headers=r.merge(o.headers.common||{},o.headers[o.method]||{},o.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(f){delete o.headers[f]});var u=o.adapter||n.adapter;return u(o).then(function(f){return s(o),f.data=e.call(o,f.data,f.headers,o.transformResponse),f},function(f){return t(f)||(s(o),f&&f.response&&(f.response.data=e.call(o,f.response.data,f.response.headers,o.transformResponse))),Promise.reject(f)})},Wp}var Kp,tw;function j9(){if(tw)return Kp;tw=1;var r=Hn();return Kp=function(t,n){n=n||{};var i={};function s(l,h){return r.isPlainObject(l)&&r.isPlainObject(h)?r.merge(l,h):r.isPlainObject(h)?r.merge({},h):r.isArray(h)?h.slice():h}function a(l){if(r.isUndefined(n[l])){if(!r.isUndefined(t[l]))return s(void 0,t[l])}else return s(t[l],n[l])}function o(l){if(!r.isUndefined(n[l]))return s(void 0,n[l])}function u(l){if(r.isUndefined(n[l])){if(!r.isUndefined(t[l]))return s(void 0,t[l])}else return s(void 0,n[l])}function c(l){if(l in n)return s(t[l],n[l]);if(l in t)return s(void 0,t[l])}var f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:c};return r.forEach(Object.keys(t).concat(Object.keys(n)),function(h){var y=f[h]||a,w=y(h);r.isUndefined(w)&&y!==c||(i[h]=w)}),i},Kp}var Hp,rw;function z9(){return rw||(rw=1,Hp={version:"0.26.1"}),Hp}var Vp,nw;function Yj(){if(nw)return Vp;nw=1;var r=z9().version,e={};["object","boolean","number","function","string","symbol"].forEach(function(i,s){e[i]=function(o){return typeof o===i||"a"+(s<1?"n ":" ")+i}});var t={};e.transitional=function(s,a,o){function u(c,f){return"[Axios v"+r+"] Transitional option '"+c+"'"+f+(o?". "+o:"")}return function(c,f,l){if(s===!1)throw new Error(u(f," has been removed"+(a?" in "+a:"")));return a&&!t[f]&&(t[f]=!0,console.warn(u(f," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(c,f,l):!0}};function n(i,s,a){if(typeof i!="object")throw new TypeError("options must be an object");for(var o=Object.keys(i),u=o.length;u-- >0;){var c=o[u],f=s[c];if(f){var l=i[c],h=l===void 0||f(l,c,i);if(h!==!0)throw new TypeError("option "+c+" must be "+h);continue}if(a!==!0)throw Error("Unknown option "+c)}}return Vp={assertOptions:n,validators:e},Vp}var Gp,iw;function Qj(){if(iw)return Gp;iw=1;var r=Hn(),e=L9(),t=Uj(),n=Jj(),i=j9(),s=Yj(),a=s.validators;function o(u){this.defaults=u,this.interceptors={request:new t,response:new t}}return o.prototype.request=function(c,f){typeof c=="string"?(f=f||{},f.url=c):f=c||{},f=i(this.defaults,f),f.method?f.method=f.method.toLowerCase():this.defaults.method?f.method=this.defaults.method.toLowerCase():f.method="get";var l=f.transitional;l!==void 0&&s.assertOptions(l,{silentJSONParsing:a.transitional(a.boolean),forcedJSONParsing:a.transitional(a.boolean),clarifyTimeoutError:a.transitional(a.boolean)},!1);var h=[],y=!0;this.interceptors.request.forEach(function(W){typeof W.runWhen=="function"&&W.runWhen(f)===!1||(y=y&&W.synchronous,h.unshift(W.fulfilled,W.rejected))});var w=[];this.interceptors.response.forEach(function(W){w.push(W.fulfilled,W.rejected)});var _;if(!y){var v=[n,void 0];for(Array.prototype.unshift.apply(v,h),v=v.concat(w),_=Promise.resolve(f);v.length;)_=_.then(v.shift(),v.shift());return _}for(var S=f;h.length;){var k=h.shift(),C=h.shift();try{S=k(S)}catch($){C($);break}}try{_=n(S)}catch($){return Promise.reject($)}for(;w.length;)_=_.then(w.shift(),w.shift());return _},o.prototype.getUri=function(c){return c=i(this.defaults,c),e(c.url,c.params,c.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(c){o.prototype[c]=function(f,l){return this.request(i(l||{},{method:c,url:f,data:(l||{}).data}))}}),r.forEach(["post","put","patch"],function(c){o.prototype[c]=function(f,l,h){return this.request(i(h||{},{method:c,url:f,data:l}))}}),Gp=o,Gp}var Zp,sw;function Xj(){if(sw)return Zp;sw=1;var r=h0();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(a){n=a});var i=this;this.promise.then(function(s){if(i._listeners){var a,o=i._listeners.length;for(a=0;a<o;a++)i._listeners[a](s);i._listeners=null}}),this.promise.then=function(s){var a,o=new Promise(function(u){i.subscribe(u),a=u}).then(s);return o.cancel=function(){i.unsubscribe(a)},o},t(function(a){i.reason||(i.reason=new r(a),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(a){n=a});return{token:i,cancel:n}},Zp=e,Zp}var Jp,aw;function ez(){return aw||(aw=1,Jp=function(e){return function(n){return e.apply(null,n)}}),Jp}var Yp,ow;function tz(){if(ow)return Yp;ow=1;var r=Hn();return Yp=function(t){return r.isObject(t)&&t.isAxiosError===!0},Yp}var uw;function rz(){if(uw)return tf.exports;uw=1;var r=Hn(),e=B9(),t=Qj(),n=j9(),i=hb();function s(o){var u=new t(o),c=e(t.prototype.request,u);return r.extend(c,t.prototype,u),r.extend(c,u),c.create=function(l){return s(n(o,l))},c}var a=s(i);return a.Axios=t,a.Cancel=h0(),a.CancelToken=Xj(),a.isCancel=q9(),a.VERSION=z9().version,a.all=function(u){return Promise.all(u)},a.spread=ez(),a.isAxiosError=tz(),tf.exports=a,tf.exports.default=a,tf.exports}var Qp,cw;function nz(){return cw||(cw=1,Qp=rz()),Qp}const iz=ws(tF),sz=ws(XL);var rf={exports:{}},nf={exports:{}},sf={exports:{}},fw;function rt(){return fw||(fw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function t(i){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t(i)}function n(i){var s=typeof i=="string"||i instanceof String;if(!s){var a=t(i);throw i===null?a="null":a==="object"&&(a=i.constructor.name),new TypeError("Expected a string but received a ".concat(a))}}r.exports=e.default,r.exports.default=e.default}(sf,sf.exports)),sf.exports}var lw;function pb(){return lw||(lw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s),s=Date.parse(s),isNaN(s)?null:new Date(s)}r.exports=e.default,r.exports.default=e.default}(nf,nf.exports)),nf.exports}var af={exports:{}},Qa={},of={exports:{}},dw;function W9(){return dw||(dw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){return n==null}r.exports=e.default,r.exports.default=e.default}(of,of.exports)),of.exports}var Tr={},hw;function xc(){if(hw)return Tr;hw=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.farsiLocales=Tr.englishLocales=Tr.dotDecimal=Tr.decimal=Tr.commaDecimal=Tr.bengaliLocales=Tr.arabicLocales=Tr.alphanumeric=Tr.alpha=void 0;for(var r=Tr.alpha={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZÇƏĞİıÖŞÜ]+$/i,"bg-BG":/^[А-Я]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[A-ZÆØÅ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"el-GR":/^[Α-ώ]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fa-IR":/^[ابپتثجچحخدذرزژسشصضطظعغفقکگلمنوهی]+$/i,"fi-FI":/^[A-ZÅÄÖ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[A-ZÀÉÈÌÎÓÒÙ]+$/i,"ja-JP":/^[ぁ-んァ-ヶｦ-ﾟ一-龠ー・。、]+$/i,"nb-NO":/^[A-ZÆØÅ]+$/i,"nl-NL":/^[A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[A-ZÆØÅ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÄÇÉÊËÍÏÕÓÔÖÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"kk-KZ":/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[A-ZÅÄÖ]+$/i,"th-TH":/^[ก-๐\s]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[А-ЩЬЮЯЄIЇҐі]+$/i,"vi-VN":/^[A-ZÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴĐÈÉẸẺẼÊỀẾỆỂỄÌÍỊỈĨÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠÙÚỤỦŨƯỪỨỰỬỮỲÝỴỶỸ]+$/i,"ko-KR":/^[ㄱ-ㅎㅏ-ㅣ가-힣]*$/,"ku-IQ":/^[ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/,he:/^[א-ת]+$/,fa:/^['آاءأؤئبپتثجچحخدذرزژسشصضطظعغفقکگلمنوهةی']+$/i,bn:/^['ঀঁংঃঅআইঈউঊঋঌএঐওঔকখগঘঙচছজঝঞটঠডঢণতথদধনপফবভমযরলশষসহ়ঽািীুূৃৄেৈোৌ্ৎৗড়ঢ়য়ৠৡৢৣৰৱ৲৳৴৵৶৷৸৹৺৻']+$/,eo:/^[ABCĈD-GĜHĤIJĴK-PRSŜTUŬVZ]+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/},e=Tr.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZÇƏĞİıÖŞÜ]+$/i,"bg-BG":/^[0-9А-Я]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[0-9A-ZÆØÅ]+$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"el-GR":/^[0-9Α-ω]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fi-FI":/^[0-9A-ZÅÄÖ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[0-9A-ZÀÉÈÌÎÓÒÙ]+$/i,"ja-JP":/^[0-9０-９ぁ-んァ-ヶｦ-ﾟ一-龠ー・。、]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nb-NO":/^[0-9A-ZÆØÅ]+$/i,"nl-NL":/^[0-9A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[0-9A-ZÆØÅ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÄÇÉÊËÍÏÕÓÔÖÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"kk-KZ":/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[0-9A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[0-9A-ZÅÄÖ]+$/i,"th-TH":/^[ก-๙\s]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[0-9А-ЩЬЮЯЄIЇҐі]+$/i,"ko-KR":/^[0-9ㄱ-ㅎㅏ-ㅣ가-힣]*$/,"ku-IQ":/^[٠١٢٣٤٥٦٧٨٩0-9ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,"vi-VN":/^[0-9A-ZÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴĐÈÉẸẺẼÊỀẾỆỂỄÌÍỊỈĨÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠÙÚỤỦŨƯỪỨỰỬỮỲÝỴỶỸ]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/,he:/^[0-9א-ת]+$/,fa:/^['0-9آاءأؤئبپتثجچحخدذرزژسشصضطظعغفقکگلمنوهةی۱۲۳۴۵۶۷۸۹۰']+$/i,bn:/^['ঀঁংঃঅআইঈউঊঋঌএঐওঔকখগঘঙচছজঝঞটঠডঢণতথদধনপফবভমযরলশষসহ়ঽািীুূৃৄেৈোৌ্ৎৗড়ঢ়য়ৠৡৢৣ০১২৩৪৫৬৭৮৯ৰৱ৲৳৴৵৶৷৸৹৺৻']+$/,eo:/^[0-9ABCĈD-GĜHĤIJĴK-PRSŜTUŬVZ]+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/},t=Tr.decimal={"en-US":".",ar:"٫"},n=Tr.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],i,s=0;s<n.length;s++)i="en-".concat(n[s]),r[i]=r["en-US"],e[i]=e["en-US"],t[i]=t["en-US"];for(var a=Tr.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],o,u=0;u<a.length;u++)o="ar-".concat(a[u]),r[o]=r.ar,e[o]=e.ar,t[o]=t.ar;for(var c=Tr.farsiLocales=["IR","AF"],f,l=0;l<c.length;l++)f="fa-".concat(c[l]),e[f]=e.fa,t[f]=t.ar;for(var h=Tr.bengaliLocales=["BD","IN"],y,w=0;w<h.length;w++)y="bn-".concat(h[w]),r[y]=r.bn,e[y]=e.bn,t[y]=t["en-US"];for(var _=Tr.dotDecimal=["ar-EG","ar-LB","ar-LY"],v=Tr.commaDecimal=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","eo","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"],S=0;S<_.length;S++)t[_[S]]=t["en-US"];for(var k=0;k<v.length;k++)t[v[k]]=",";return r["fr-CA"]=r["fr-FR"],e["fr-CA"]=e["fr-FR"],r["pt-BR"]=r["pt-PT"],e["pt-BR"]=e["pt-PT"],t["pt-BR"]=t["pt-PT"],r["pl-Pl"]=r["pl-PL"],e["pl-Pl"]=e["pl-PL"],t["pl-Pl"]=t["pl-PL"],r["fa-AF"]=r.fa,Tr}var pw;function K9(){if(pw)return Qa;pw=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.default=i,Qa.locales=void 0;var r=n(rt()),e=n(W9()),t=xc();function n(s){return s&&s.__esModule?s:{default:s}}function i(s,a){(0,r.default)(s),a=a||{};var o=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(a.locale?t.decimal[a.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(s===""||s==="."||s===","||s==="-"||s==="+")return!1;var u=parseFloat(s.replace(",","."));return o.test(s)&&(!a.hasOwnProperty("min")||(0,e.default)(a.min)||u>=a.min)&&(!a.hasOwnProperty("max")||(0,e.default)(a.max)||u<=a.max)&&(!a.hasOwnProperty("lt")||(0,e.default)(a.lt)||u<a.lt)&&(!a.hasOwnProperty("gt")||(0,e.default)(a.gt)||u>a.gt)}return Qa.locales=Object.keys(t.decimal),Qa}var gw;function H9(){return gw||(gw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(K9());function n(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s)?parseFloat(s):NaN}r.exports=e.default,r.exports.default=e.default}(af,af.exports)),af.exports}var uf={exports:{}},bw;function az(){return bw||(bw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,t.default)(s),parseInt(s,a||10)}r.exports=e.default,r.exports.default=e.default}(uf,uf.exports)),uf.exports}var cf={exports:{}},mw;function oz(){return mw||(mw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,t.default)(s),a?s==="1"||/^true$/i.test(s):s!=="0"&&!/^false$/i.test(s)&&s!==""}r.exports=e.default,r.exports.default=e.default}(cf,cf.exports)),cf.exports}var ff={exports:{}},vw;function uz(){return vw||(vw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,t.default)(s),s===a}r.exports=e.default,r.exports.default=e.default}(ff,ff.exports)),ff.exports}var lf={exports:{}},df={exports:{}},yw;function V9(){return yw||(yw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function t(i){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t(i)}function n(i){return t(i)==="object"&&i!==null?typeof i.toString=="function"?i=i.toString():i="[object Object]":(i===null||typeof i>"u"||isNaN(i)&&!i.length)&&(i=""),String(i)}r.exports=e.default,r.exports.default=e.default}(df,df.exports)),df.exports}var hf={exports:{}},xw;function Dn(){return xw||(xw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;for(var s in i)typeof n[s]>"u"&&(n[s]=i[s]);return n}r.exports=e.default,r.exports.default=e.default}(hf,hf.exports)),hf.exports}var ww;function cz(){return ww||(ww=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(rt()),n=s(V9()),i=s(Dn());function s(u){return u&&u.__esModule?u:{default:u}}var a={ignoreCase:!1,minOccurrences:1};function o(u,c,f){return(0,t.default)(u),f=(0,i.default)(f,a),f.ignoreCase?u.toLowerCase().split((0,n.default)(c).toLowerCase()).length>f.minOccurrences:u.split((0,n.default)(c)).length>f.minOccurrences}r.exports=e.default,r.exports.default=e.default}(lf,lf.exports)),lf.exports}var pf={exports:{}},Aw;function fz(){return Aw||(Aw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s,a,o){return(0,t.default)(s),Object.prototype.toString.call(a)!=="[object RegExp]"&&(a=new RegExp(a,o)),!!s.match(a)}r.exports=e.default,r.exports.default=e.default}(pf,pf.exports)),pf.exports}var gf={exports:{}},bf={exports:{}},_w;function G9(){return _w||(_w=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function t(i){return Object.prototype.toString.call(i)==="[object RegExp]"}function n(i,s){for(var a=0;a<s.length;a++){var o=s[a];if(i===o||t(o)&&o.test(i))return!0}return!1}r.exports=e.default,r.exports.default=e.default}(bf,bf.exports)),bf.exports}var mf={exports:{}},Ew;function Z9(){return Ew||(Ew=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}function i(a){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(a)}function s(a,o){(0,t.default)(a);var u,c;i(o)==="object"?(u=o.min||0,c=o.max):(u=arguments[1],c=arguments[2]);var f=encodeURI(a).split(/%..|./).length-1;return f>=u&&(typeof c>"u"||f<=c)}r.exports=e.default,r.exports.default=e.default}(mf,mf.exports)),mf.exports}var vf={exports:{}},Sw;function gb(){return Sw||(Sw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(rt()),n=i(Dn());function i(o){return o&&o.__esModule?o:{default:o}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function a(o,u){(0,t.default)(o),u=(0,n.default)(u,s),u.allow_trailing_dot&&o[o.length-1]==="."&&(o=o.substring(0,o.length-1)),u.allow_wildcard===!0&&o.indexOf("*.")===0&&(o=o.substring(2));var c=o.split("."),f=c[c.length-1];return u.require_tld&&(c.length<2||!u.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(f)||/\s/.test(f))||!u.allow_numeric_tld&&/^\d+$/.test(f)?!1:c.every(function(l){return!(l.length>63&&!u.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(l)||/[\uff01-\uff5e]/.test(l)||/^-|-$/.test(l)||!u.allow_underscores&&/_/.test(l))})}r.exports=e.default,r.exports.default=e.default}(vf,vf.exports)),vf.exports}var yf={exports:{}},Iw;function p0(){return Iw||(Iw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=n(rt());function n(f){return f&&f.__esModule?f:{default:f}}var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",s="(".concat(i,"[.]){3}").concat(i),a=new RegExp("^".concat(s,"$")),o="(?:[0-9a-fA-F]{1,4})",u=new RegExp("^("+"(?:".concat(o,":){7}(?:").concat(o,"|:)|")+"(?:".concat(o,":){6}(?:").concat(s,"|:").concat(o,"|:)|")+"(?:".concat(o,":){5}(?::").concat(s,"|(:").concat(o,"){1,2}|:)|")+"(?:".concat(o,":){4}(?:(:").concat(o,"){0,1}:").concat(s,"|(:").concat(o,"){1,3}|:)|")+"(?:".concat(o,":){3}(?:(:").concat(o,"){0,2}:").concat(s,"|(:").concat(o,"){1,4}|:)|")+"(?:".concat(o,":){2}(?:(:").concat(o,"){0,3}:").concat(s,"|(:").concat(o,"){1,5}|:)|")+"(?:".concat(o,":){1}(?:(:").concat(o,"){0,4}:").concat(s,"|(:").concat(o,"){1,6}|:)|")+"(?::((?::".concat(o,"){0,5}:").concat(s,"|(?::").concat(o,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function c(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,t.default)(f),l=String(l),l?l==="4"?a.test(f):l==="6"?u.test(f):!1:c(f,4)||c(f,6)}r.exports=e.default,r.exports.default=e.default}(yf,yf.exports)),yf.exports}var Mw;function J9(){return Mw||(Mw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=k;var t=u(rt()),n=u(G9()),i=u(Z9()),s=u(gb()),a=u(p0()),o=u(Dn());function u(C){return C&&C.__esModule?C:{default:C}}var c={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},f=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,l=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,h=/^[a-z\d]+$/,y=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,w=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,_=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,v=254;function S(C){var $=C.replace(/^"(.+)"$/,"$1");if(!$.trim())return!1;var W=/[\.";<>]/.test($);if(W){if($===C)return!1;var X=$.split('"').length===$.split('\\"').length;if(!X)return!1}return!0}function k(C,$){if((0,t.default)(C),$=(0,o.default)($,c),$.require_display_name||$.allow_display_name){var W=C.match(f);if(W){var X=W[1];if(C=C.replace(X,"").replace(/(^<|>$)/g,""),X.endsWith(" ")&&(X=X.slice(0,-1)),!S(X))return!1}else if($.require_display_name)return!1}if(!$.ignore_max_length&&C.length>v)return!1;var ae=C.split("@"),ee=ae.pop(),Q=ee.toLowerCase();if($.host_blacklist.length>0&&(0,n.default)(Q,$.host_blacklist)||$.host_whitelist.length>0&&!(0,n.default)(Q,$.host_whitelist))return!1;var fe=ae.join("@");if($.domain_specific_validation&&(Q==="gmail.com"||Q==="googlemail.com")){fe=fe.toLowerCase();var j=fe.split("+")[0];if(!(0,i.default)(j.replace(/\./g,""),{min:6,max:30}))return!1;for(var g=j.split("."),b=0;b<g.length;b++)if(!h.test(g[b]))return!1}if($.ignore_max_length===!1&&(!(0,i.default)(fe,{max:64})||!(0,i.default)(ee,{max:254})))return!1;if(!(0,s.default)(ee,{require_tld:$.require_tld,ignore_max_length:$.ignore_max_length,allow_underscores:$.allow_underscores})){if(!$.allow_ip_domain)return!1;if(!(0,a.default)(ee)){if(!ee.startsWith("[")||!ee.endsWith("]"))return!1;var d=ee.slice(1,-1);if(d.length===0||!(0,a.default)(d))return!1}}if($.blacklisted_chars&&fe.search(new RegExp("[".concat($.blacklisted_chars,"]+"),"g"))!==-1)return!1;if(fe[0]==='"'&&fe[fe.length-1]==='"')return fe=fe.slice(1,fe.length-1),$.allow_utf8_local_part?_.test(fe):y.test(fe);for(var p=$.allow_utf8_local_part?w:l,A=fe.split("."),M=0;M<A.length;M++)if(!p.test(A[M]))return!1;return!0}r.exports=e.default,r.exports.default=e.default}(gf,gf.exports)),gf.exports}var xf={exports:{}},Pw;function lz(){return Pw||(Pw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;var t=o(rt()),n=o(G9()),i=o(gb()),s=o(p0()),a=o(Dn());function o(S){return S&&S.__esModule?S:{default:S}}function u(S,k){return y(S)||h(S,k)||f(S,k)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(S,k){if(S){if(typeof S=="string")return l(S,k);var C={}.toString.call(S).slice(8,-1);return C==="Object"&&S.constructor&&(C=S.constructor.name),C==="Map"||C==="Set"?Array.from(S):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?l(S,k):void 0}}function l(S,k){(k==null||k>S.length)&&(k=S.length);for(var C=0,$=Array(k);C<k;C++)$[C]=S[C];return $}function h(S,k){var C=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(C!=null){var $,W,X,ae,ee=[],Q=!0,fe=!1;try{if(X=(C=C.call(S)).next,k!==0)for(;!(Q=($=X.call(C)).done)&&(ee.push($.value),ee.length!==k);Q=!0);}catch(j){fe=!0,W=j}finally{try{if(!Q&&C.return!=null&&(ae=C.return(),Object(ae)!==ae))return}finally{if(fe)throw W}}return ee}}function y(S){if(Array.isArray(S))return S}var w={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0,max_allowed_length:2084},_=/^\[([^\]]+)\](?::([0-9]+))?$/;function v(S,k){if((0,t.default)(S),!S||/[\s<>]/.test(S)||S.indexOf("mailto:")===0||(k=(0,a.default)(k,w),k.validate_length&&S.length>k.max_allowed_length)||!k.allow_fragments&&S.includes("#")||!k.allow_query_components&&(S.includes("?")||S.includes("&")))return!1;var C,$,W,X,ae,ee,Q,fe;if(Q=S.split("#"),S=Q.shift(),Q=S.split("?"),S=Q.shift(),Q=S.split("://"),Q.length>1){if(C=Q.shift().toLowerCase(),k.require_valid_protocol&&k.protocols.indexOf(C)===-1)return!1}else{if(k.require_protocol)return!1;if(S.slice(0,2)==="//"){if(!k.allow_protocol_relative_urls)return!1;Q[0]=S.slice(2)}}if(S=Q.join("://"),S==="")return!1;if(Q=S.split("/"),S=Q.shift(),S===""&&!k.require_host)return!0;if(Q=S.split("@"),Q.length>1){if(k.disallow_auth||Q[0]===""||($=Q.shift(),$.indexOf(":")>=0&&$.split(":").length>2))return!1;var j=$.split(":"),g=u(j,2),b=g[0],d=g[1];if(b===""&&d==="")return!1}X=Q.join("@"),ee=null,fe=null;var p=X.match(_);if(p?(W="",fe=p[1],ee=p[2]||null):(Q=X.split(":"),W=Q.shift(),Q.length&&(ee=Q.join(":"))),ee!==null&&ee.length>0){if(ae=parseInt(ee,10),!/^[0-9]+$/.test(ee)||ae<=0||ae>65535)return!1}else if(k.require_port)return!1;return k.host_whitelist?(0,n.default)(W,k.host_whitelist):W===""&&!k.require_host?!0:!(!(0,s.default)(W)&&!(0,i.default)(W,k)&&(!fe||!(0,s.default)(fe,6))||(W=W||fe,k.host_blacklist&&(0,n.default)(W,k.host_blacklist)))}r.exports=e.default,r.exports.default=e.default}(xf,xf.exports)),xf.exports}var wf={exports:{}},Rw;function dz(){return Rw||(Rw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var t=n(rt());function n(l){return l&&l.__esModule?l:{default:l}}var i=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,s=/^([0-9a-fA-F]){12}$/,a=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,o=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,u=/^([0-9a-fA-F]){16}$/,c=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;function f(l,h){return(0,t.default)(l),h!=null&&h.eui&&(h.eui=String(h.eui)),h!=null&&h.no_colons||h!=null&&h.no_separators?h.eui==="48"?s.test(l):h.eui==="64"?u.test(l):s.test(l)||u.test(l):(h==null?void 0:h.eui)==="48"?i.test(l)||a.test(l):(h==null?void 0:h.eui)==="64"?o.test(l)||c.test(l):f(l,{eui:"48"})||f(l,{eui:"64"})}r.exports=e.default,r.exports.default=e.default}(wf,wf.exports)),wf.exports}var Af={exports:{}},kw;function hz(){return kw||(kw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=i(rt()),n=i(p0());function i(c){return c&&c.__esModule?c:{default:c}}var s=/^\d{1,3}$/,a=32,o=128;function u(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(0,t.default)(c);var l=c.split("/");if(l.length!==2||!s.test(l[1])||l[1].length>1&&l[1].startsWith("0"))return!1;var h=(0,n.default)(l[0],f);if(!h)return!1;var y=null;switch(String(f)){case"4":y=a;break;case"6":y=o;break;default:y=(0,n.default)(l[0],"6")?o:a}return l[1]<=y&&l[1]>=0}r.exports=e.default,r.exports.default=e.default}(Af,Af.exports)),Af.exports}var _f={exports:{}},Nw;function Y9(){return Nw||(Nw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=w;var t=n(Dn());function n(_){return _&&_.__esModule?_:{default:_}}function i(_,v){return o(_)||a(_,v)||c(_,v)||s()}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(_,v){var S=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(S!=null){var k,C,$,W,X=[],ae=!0,ee=!1;try{if($=(S=S.call(_)).next,v!==0)for(;!(ae=(k=$.call(S)).done)&&(X.push(k.value),X.length!==v);ae=!0);}catch(Q){ee=!0,C=Q}finally{try{if(!ae&&S.return!=null&&(W=S.return(),Object(W)!==W))return}finally{if(ee)throw C}}return X}}function o(_){if(Array.isArray(_))return _}function u(_,v){var S=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!S){if(Array.isArray(_)||(S=c(_))||v){S&&(_=S);var k=0,C=function(){};return{s:C,n:function(){return k>=_.length?{done:!0}:{done:!1,value:_[k++]}},e:function(ee){throw ee},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $,W=!0,X=!1;return{s:function(){S=S.call(_)},n:function(){var ee=S.next();return W=ee.done,ee},e:function(ee){X=!0,$=ee},f:function(){try{W||S.return==null||S.return()}finally{if(X)throw $}}}}function c(_,v){if(_){if(typeof _=="string")return f(_,v);var S={}.toString.call(_).slice(8,-1);return S==="Object"&&_.constructor&&(S=_.constructor.name),S==="Map"||S==="Set"?Array.from(_):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?f(_,v):void 0}}function f(_,v){(v==null||v>_.length)&&(v=_.length);for(var S=0,k=Array(v);S<v;S++)k[S]=_[S];return k}var l={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function h(_){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(_)}function y(_,v){for(var S=[],k=Math.max(_.length,v.length),C=0;C<k;C++)S.push([_[C],v[C]]);return S}function w(_,v){if(typeof v=="string"?v=(0,t.default)({format:v},l):v=(0,t.default)(v,l),typeof _=="string"&&h(v.format)){if(v.strictMode&&_.length!==v.format.length)return!1;var S=v.delimiters.find(function(p){return v.format.indexOf(p)!==-1}),k=v.strictMode?S:v.delimiters.find(function(p){return _.indexOf(p)!==-1}),C=y(_.split(k),v.format.toLowerCase().split(S)),$={},W=u(C),X;try{for(W.s();!(X=W.n()).done;){var ae=i(X.value,2),ee=ae[0],Q=ae[1];if(!ee||!Q||ee.length!==Q.length)return!1;$[Q.charAt(0)]=ee}}catch(p){W.e(p)}finally{W.f()}var fe=$.y;if(fe.startsWith("-"))return!1;if($.y.length===2){var j=parseInt($.y,10);if(isNaN(j))return!1;var g=new Date().getFullYear()%100;j<g?fe="20".concat($.y):fe="19".concat($.y)}var b=$.m;$.m.length===1&&(b="0".concat($.m));var d=$.d;return $.d.length===1&&(d="0".concat($.d)),new Date("".concat(fe,"-").concat(b,"-").concat(d,"T00:00:00.000Z")).getUTCDate()===+$.d}return v.strictMode?!1:Object.prototype.toString.call(_)==="[object Date]"&&isFinite(_)}r.exports=e.default,r.exports.default=e.default}(_f,_f.exports)),_f.exports}var Ef={exports:{}},Ow;function pz(){return Ow||(Ow=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=n(Dn());function n(o){return o&&o.__esModule?o:{default:o}}var i={hourFormat:"hour24",mode:"default"},s={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/}};function a(o,u){return u=(0,t.default)(u,i),typeof o!="string"?!1:s[u.hourFormat][u.mode].test(o)}r.exports=e.default,r.exports.default=e.default}(Ef,Ef.exports)),Ef.exports}var Sf={exports:{}},Cw;function gz(){return Cw||(Cw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=n(rt());function n(u){return u&&u.__esModule?u:{default:u}}var i={loose:!1},s=["true","false","1","0"],a=[].concat(s,["yes","no"]);function o(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i;return(0,t.default)(u),c.loose?a.includes(u.toLowerCase()):s.includes(u)}r.exports=e.default,r.exports.default=e.default}(Sf,Sf.exports)),Sf.exports}var If={exports:{}},Tw;function bz(){return Tw||(Tw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=k;var t=n(rt());function n(C){return C&&C.__esModule?C:{default:C}}var i="([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",s="(([a-zA-Z]{2,3}(-".concat(i,")?)|([a-zA-Z]{5,8}))"),a="([A-Za-z]{4})",o="([A-Za-z]{2}|\\d{3})",u="([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",c="(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])",f="(".concat(c,"(-[A-Za-z0-9]{2,8})+)"),l="(x(-[A-Za-z0-9]{1,8})+)",h="((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))",y="((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",w="(".concat(h,"|").concat(y,")"),_="(-|_)",v="".concat(s,"(").concat(_).concat(a,")?(").concat(_).concat(o,")?(").concat(_).concat(u,")*(").concat(_).concat(f,")*(").concat(_).concat(l,")?"),S=new RegExp("(^".concat(l,"$)|(^").concat(w,"$)|(^").concat(v,"$)"));function k(C){return(0,t.default)(C),S.test(C)}r.exports=e.default,r.exports.default=e.default}(If,If.exports)),If.exports}var Mf={exports:{}},Dw;function mz(){return Dw||(Dw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/^(?!(1[3-9])|(20)|(3[3-9])|(4[0-9])|(5[0-9])|(60)|(7[3-9])|(8[1-9])|(9[0-2])|(9[3-9]))[0-9]{9}$/;function s(a){if((0,t.default)(a),!i.test(a))return!1;for(var o=0,u=0;u<a.length;u++)u%3===0?o+=a[u]*3:u%3===1?o+=a[u]*7:o+=a[u]*1;return o%10===0}r.exports=e.default,r.exports.default=e.default}(Mf,Mf.exports)),Mf.exports}var Xa={},Bw;function vz(){if(Bw)return Xa;Bw=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.default=n,Xa.locales=void 0;var r=t(rt()),e=xc();function t(i){return i&&i.__esModule?i:{default:i}}function n(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,r.default)(i);var o=i,u=a.ignore;if(u)if(u instanceof RegExp)o=o.replace(u,"");else if(typeof u=="string")o=o.replace(new RegExp("[".concat(u.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(s in e.alpha)return e.alpha[s].test(o);throw new Error("Invalid locale '".concat(s,"'"))}return Xa.locales=Object.keys(e.alpha),Xa}var eo={},Lw;function yz(){if(Lw)return eo;Lw=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.default=n,eo.locales=void 0;var r=t(rt()),e=xc();function t(i){return i&&i.__esModule?i:{default:i}}function n(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,r.default)(i);var o=i,u=a.ignore;if(u)if(u instanceof RegExp)o=o.replace(u,"");else if(typeof u=="string")o=o.replace(new RegExp("[".concat(u.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(s in e.alphanumeric)return e.alphanumeric[s].test(o);throw new Error("Invalid locale '".concat(s,"'"))}return eo.locales=Object.keys(e.alphanumeric),eo}var Pf={exports:{}},$w;function xz(){return $w||($w=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(rt()),n=xc();function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[0-9]+$/;function a(o,u){return(0,t.default)(o),u&&u.no_symbols?s.test(o):new RegExp("^[+-]?([0-9]*[".concat((u||{}).locale?n.decimal[u.locale]:".","])?[0-9]+$")).test(o)}r.exports=e.default,r.exports.default=e.default}(Pf,Pf.exports)),Pf.exports}var to={},Fw;function wz(){if(Fw)return to;Fw=1,Object.defineProperty(to,"__esModule",{value:!0}),to.default=n,to.locales=void 0;var r=e(rt());function e(i){return i&&i.__esModule?i:{default:i}}var t={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{1}\d{8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/,ZA:/^[TAMD]\d{8}$/};to.locales=Object.keys(t);function n(i,s){(0,r.default)(i);var a=i.replace(/\s/g,"").toUpperCase();return s.toUpperCase()in t&&t[s].test(a)}return to}var Rf={exports:{}},kf={exports:{}},Uw;function bb(){return Uw||(Uw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(rt()),n=i(W9());function i(u){return u&&u.__esModule?u:{default:u}}var s=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,a=/^[-+]?[0-9]+$/;function o(u,c){(0,t.default)(u),c=c||{};var f=c.allow_leading_zeroes===!1?s:a,l=!c.hasOwnProperty("min")||(0,n.default)(c.min)||u>=c.min,h=!c.hasOwnProperty("max")||(0,n.default)(c.max)||u<=c.max,y=!c.hasOwnProperty("lt")||(0,n.default)(c.lt)||u<c.lt,w=!c.hasOwnProperty("gt")||(0,n.default)(c.gt)||u>c.gt;return f.test(u)&&l&&h&&y&&w}r.exports=e.default,r.exports.default=e.default}(kf,kf.exports)),kf.exports}var qw;function Az(){return qw||(qw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(bb());function n(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s,{allow_leading_zeroes:!1,min:0,max:65535})}r.exports=e.default,r.exports.default=e.default}(Rf,Rf.exports)),Rf.exports}var Nf={exports:{}},jw;function _z(){return jw||(jw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s),s===s.toLowerCase()}r.exports=e.default,r.exports.default=e.default}(Nf,Nf.exports)),Nf.exports}var Of={exports:{}},zw;function Ez(){return zw||(zw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s),s===s.toUpperCase()}r.exports=e.default,r.exports.default=e.default}(Of,Of.exports)),Of.exports}var Cf={exports:{}},Ww;function Sz(){return Ww||(Ww=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=n(rt());function n(o){return o&&o.__esModule?o:{default:o}}var i=/^[0-9]{15}$/,s=/^\d{2}-\d{6}-\d{6}-\d{1}$/;function a(o,u){(0,t.default)(o),u=u||{};var c=i;if(u.allow_hyphens&&(c=s),!c.test(o))return!1;o=o.replace(/-/g,"");for(var f=0,l=2,h=14,y=0;y<h;y++){var w=o.substring(h-y-1,h-y),_=parseInt(w,10)*l;_>=10?f+=_%10+1:f+=_,l===1?l+=1:l-=1}var v=(10-f%10)%10;return v===parseInt(o.substring(14,15),10)}r.exports=e.default,r.exports.default=e.default}(Cf,Cf.exports)),Cf.exports}var Tf={exports:{}},Kw;function Iz(){return Kw||(Kw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/^[\x00-\x7F]+$/;function s(a){return(0,t.default)(a),i.test(a)}r.exports=e.default,r.exports.default=e.default}(Tf,Tf.exports)),Tf.exports}var ro={},Hw;function Q9(){if(Hw)return ro;Hw=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.default=n,ro.fullWidth=void 0;var r=e(rt());function e(i){return i&&i.__esModule?i:{default:i}}var t=ro.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function n(i){return(0,r.default)(i),t.test(i)}return ro}var no={},Vw;function X9(){if(Vw)return no;Vw=1,Object.defineProperty(no,"__esModule",{value:!0}),no.default=n,no.halfWidth=void 0;var r=e(rt());function e(i){return i&&i.__esModule?i:{default:i}}var t=no.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function n(i){return(0,r.default)(i),t.test(i)}return no}var Df={exports:{}},Gw;function Mz(){return Gw||(Gw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(rt()),n=Q9(),i=X9();function s(o){return o&&o.__esModule?o:{default:o}}function a(o){return(0,t.default)(o),n.fullWidth.test(o)&&i.halfWidth.test(o)}r.exports=e.default,r.exports.default=e.default}(Df,Df.exports)),Df.exports}var Bf={exports:{}},Zw;function Pz(){return Zw||(Zw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/[^\x00-\x7F]/;function s(a){return(0,t.default)(a),i.test(a)}r.exports=e.default,r.exports.default=e.default}(Bf,Bf.exports)),Bf.exports}var Lf={exports:{}},$f={exports:{}},Jw;function Rz(){return Jw||(Jw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n,i){var s=n.join("");return new RegExp(s,i)}r.exports=e.default,r.exports.default=e.default}($f,$f.exports)),$f.exports}var Yw;function kz(){return Yw||(Yw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(rt()),n=i(Rz());function i(o){return o&&o.__esModule?o:{default:o}}var s=(0,n.default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");function a(o){return(0,t.default)(o),s.test(o)}r.exports=e.default,r.exports.default=e.default}(Lf,Lf.exports)),Lf.exports}var Ff={exports:{}},Qw;function Nz(){return Qw||(Qw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;function s(a){return(0,t.default)(a),i.test(a)}r.exports=e.default,r.exports.default=e.default}(Ff,Ff.exports)),Ff.exports}var Uf={exports:{}},qf={exports:{}},Xw;function Oz(){return Xw||(Xw=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(i,s){return i.some(function(a){return s===a})};e.default=t,r.exports=e.default,r.exports.default=e.default}(qf,qf.exports)),qf.exports}var e3;function Cz(){return e3||(e3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var t=a(Dn()),n=a(rt()),i=a(Oz()),s=xc();function a(l){return l&&l.__esModule?l:{default:l}}function o(l){var h=new RegExp("^[-+]?([0-9]+)?(\\".concat(s.decimal[l.locale],"[0-9]{").concat(l.decimal_digits,"})").concat(l.force_decimal?"":"?","$"));return h}var u={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},c=["","-","+"];function f(l,h){if((0,n.default)(l),h=(0,t.default)(h,u),h.locale in s.decimal)return!(0,i.default)(c,l.replace(/ /g,""))&&o(h).test(l);throw new Error("Invalid locale '".concat(h.locale,"'"))}r.exports=e.default,r.exports.default=e.default}(Uf,Uf.exports)),Uf.exports}var jf={exports:{}},t3;function e7(){return t3||(t3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/^(0x|0h)?[0-9A-F]+$/i;function s(a){return(0,t.default)(a),i.test(a)}r.exports=e.default,r.exports.default=e.default}(jf,jf.exports)),jf.exports}var zf={exports:{}},r3;function Tz(){return r3||(r3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/^(0o)?[0-7]+$/i;function s(a){return(0,t.default)(a),i.test(a)}r.exports=e.default,r.exports.default=e.default}(zf,zf.exports)),zf.exports}var Wf={exports:{}},n3;function Dz(){return n3||(n3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(rt()),n=i(H9());function i(a){return a&&a.__esModule?a:{default:a}}function s(a,o){return(0,t.default)(a),(0,n.default)(a)%parseInt(o,10)===0}r.exports=e.default,r.exports.default=e.default}(Wf,Wf.exports)),Wf.exports}var Kf={exports:{}},i3;function Bz(){return i3||(i3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;function s(a){return(0,t.default)(a),i.test(a)}r.exports=e.default,r.exports.default=e.default}(Kf,Kf.exports)),Kf.exports}var Hf={exports:{}},s3;function Lz(){return s3||(s3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var t=n(rt());function n(l){return l&&l.__esModule?l:{default:l}}function i(l){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},i(l)}var s=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,a=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,o=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,u=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,c=/^rgba?/;function f(l,h){(0,t.default)(l);var y=!1,w=!0;if(i(h)!=="object"?arguments.length>=2&&(w=arguments[1]):(y=h.allowSpaces!==void 0?h.allowSpaces:y,w=h.includePercentValues!==void 0?h.includePercentValues:w),y){if(!c.test(l))return!1;l=l.replace(/\s/g,"")}return w?s.test(l)||a.test(l)||o.test(l)||u.test(l):s.test(l)||a.test(l)}r.exports=e.default,r.exports.default=e.default}(Hf,Hf.exports)),Hf.exports}var Vf={exports:{}},a3;function $z(){return a3||(a3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=n(rt());function n(o){return o&&o.__esModule?o:{default:o}}var i=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,s=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;function a(o){(0,t.default)(o);var u=o.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/ig,"$1");return u.indexOf(",")!==-1?i.test(u):s.test(u)}r.exports=e.default,r.exports.default=e.default}(Vf,Vf.exports)),Vf.exports}var Gf={exports:{}},o3;function Fz(){return o3||(o3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;function s(a){return(0,t.default)(a),i.test(a)}r.exports=e.default,r.exports.default=e.default}(Gf,Gf.exports)),Gf.exports}var io={},u3;function Uz(){if(u3)return io;u3=1,Object.defineProperty(io,"__esModule",{value:!0}),io.default=a,io.locales=void 0;var r=e(rt());function e(o){return o&&o.__esModule?o:{default:o}}var t={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,DZ:/^(DZ\d{24})$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};function n(o){var u=o.filter(function(c){return!(c in t)});return!(u.length>0)}function i(o,u){var c=o.replace(/[\s\-]+/gi,"").toUpperCase(),f=c.slice(0,2).toUpperCase(),l=f in t;if(u.whitelist){if(!n(u.whitelist))return!1;var h=u.whitelist.includes(f);if(!h)return!1}if(u.blacklist){var y=u.blacklist.includes(f);if(y)return!1}return l&&t[f].test(c)}function s(o){var u=o.replace(/[^A-Z0-9]+/gi,"").toUpperCase(),c=u.slice(4)+u.slice(0,4),f=c.replace(/[A-Z]/g,function(h){return h.charCodeAt(0)-55}),l=f.match(/\d{1,7}/g).reduce(function(h,y){return Number(h+y)%97},"");return l===1}function a(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.default)(o),i(o,u)&&s(o)}return io.locales=Object.keys(t),io}var Zf={exports:{}},so={},c3;function t7(){if(c3)return so;c3=1,Object.defineProperty(so,"__esModule",{value:!0}),so.CountryCodes=void 0,so.default=n;var r=e(rt());function e(i){return i&&i.__esModule?i:{default:i}}var t=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);function n(i){return(0,r.default)(i),t.has(i.toUpperCase())}return so.CountryCodes=t,so}var f3;function qz(){return f3||(f3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(rt()),n=t7();function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;function a(o){(0,t.default)(o);var u=o.slice(4,6).toUpperCase();return!n.CountryCodes.has(u)&&u!=="XK"?!1:s.test(o)}r.exports=e.default,r.exports.default=e.default}(Zf,Zf.exports)),Zf.exports}var Jf={exports:{}},l3;function jz(){return l3||(l3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/^[a-f0-9]{32}$/;function s(a){return(0,t.default)(a),i.test(a)}r.exports=e.default,r.exports.default=e.default}(Jf,Jf.exports)),Jf.exports}var Yf={exports:{}},d3;function zz(){return d3||(d3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};function s(a,o){(0,t.default)(a);var u=new RegExp("^[a-fA-F0-9]{".concat(i[o],"}$"));return u.test(a)}r.exports=e.default,r.exports.default=e.default}(Yf,Yf.exports)),Yf.exports}var Qf={exports:{}},Xf={exports:{}},h3;function r7(){return h3||(h3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=i(rt()),n=i(Dn());function i(c){return c&&c.__esModule?c:{default:c}}var s=/[^A-Z0-9+\/=]/i,a=/^[A-Z0-9_\-]*$/i,o={urlSafe:!1};function u(c,f){(0,t.default)(c),f=(0,n.default)(f,o);var l=c.length;if(f.urlSafe)return a.test(c);if(l%4!==0||s.test(c))return!1;var h=c.indexOf("=");return h===-1||h===l-1||h===l-2&&c[l-1]==="="}r.exports=e.default,r.exports.default=e.default}(Xf,Xf.exports)),Xf.exports}var p3;function Wz(){return p3||(p3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(rt()),n=i(r7());function i(a){return a&&a.__esModule?a:{default:a}}function s(a){(0,t.default)(a);var o=a.split("."),u=o.length;return u!==3?!1:o.reduce(function(c,f){return c&&(0,n.default)(f,{urlSafe:!0})},!0)}r.exports=e.default,r.exports.default=e.default}(Qf,Qf.exports)),Qf.exports}var el={exports:{}},g3;function Kz(){return g3||(g3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(rt()),n=i(Dn());function i(u){return u&&u.__esModule?u:{default:u}}function s(u){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},s(u)}var a={allow_primitives:!1};function o(u,c){(0,t.default)(u);try{c=(0,n.default)(c,a);var f=[];c.allow_primitives&&(f=[null,!1,!0]);var l=JSON.parse(u);return f.includes(l)||!!l&&s(l)==="object"}catch{}return!1}r.exports=e.default,r.exports.default=e.default}(el,el.exports)),el.exports}var tl={exports:{}},b3;function Hz(){return b3||(b3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(rt()),n=i(Dn());function i(o){return o&&o.__esModule?o:{default:o}}var s={ignore_whitespace:!1};function a(o,u){return(0,t.default)(o),u=(0,n.default)(u,s),(u.ignore_whitespace?o.trim().length:o.length)===0}r.exports=e.default,r.exports.default=e.default}(tl,tl.exports)),tl.exports}var rl={exports:{}},m3;function Vz(){return m3||(m3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}function i(a){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(a)}function s(a,o){(0,t.default)(a);var u,c;i(o)==="object"?(u=o.min||0,c=o.max):(u=arguments[1]||0,c=arguments[2]);var f=a.match(/(\uFE0F|\uFE0E)/g)||[],l=a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],h=a.length-f.length-l.length,y=h>=u&&(typeof c>"u"||h<=c);return y&&Array.isArray(o==null?void 0:o.discreteLengths)?o.discreteLengths.some(function(w){return w===h}):y}r.exports=e.default,r.exports.default=e.default}(rl,rl.exports)),rl.exports}var nl={exports:{}},v3;function Gz(){return v3||(v3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s),/^[0-7][0-9A-HJKMNP-TV-Z]{25}$/i.test(s)}r.exports=e.default,r.exports.default=e.default}(nl,nl.exports)),nl.exports}var il={exports:{}},y3;function Zz(){return y3||(y3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,6:/^[0-9A-F]{8}-[0-9A-F]{4}-6[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,7:/^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,8:/^[0-9A-F]{8}-[0-9A-F]{4}-8[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,nil:/^00000000-0000-0000-0000-000000000000$/i,max:/^ffffffff-ffff-ffff-ffff-ffffffffffff$/i,all:/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i};function s(a,o){return(0,t.default)(a),o==null&&(o="all"),o in i?i[o].test(a):!1}r.exports=e.default,r.exports.default=e.default}(il,il.exports)),il.exports}var sl={exports:{}},x3;function Jz(){return x3||(x3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(rt()),n=i(e7());function i(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,t.default)(a),(0,n.default)(a)&&a.length===24}r.exports=e.default,r.exports.default=e.default}(sl,sl.exports)),sl.exports}var al={exports:{}},w3;function Yz(){return w3||(w3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(pb());function n(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var o=(a==null?void 0:a.comparisonDate)||a||Date().toString(),u=(0,t.default)(o),c=(0,t.default)(s);return!!(c&&u&&c>u)}r.exports=e.default,r.exports.default=e.default}(al,al.exports)),al.exports}var ol={exports:{}},A3;function Qz(){return A3||(A3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(rt()),n=i(pb());function i(a){return a&&a.__esModule?a:{default:a}}function s(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:String(new Date);(0,t.default)(a);var u=(0,n.default)(o),c=(0,n.default)(a);return!!(c&&u&&c<u)}r.exports=e.default,r.exports.default=e.default}(ol,ol.exports)),ol.exports}var ul={exports:{}},_3;function Xz(){return _3||(_3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(rt()),n=i(V9());function i(o){return o&&o.__esModule?o:{default:o}}function s(o){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(o)}function a(o,u){(0,t.default)(o);var c;if(Object.prototype.toString.call(u)==="[object Array]"){var f=[];for(c in u)({}).hasOwnProperty.call(u,c)&&(f[c]=(0,n.default)(u[c]));return f.indexOf(o)>=0}else{if(s(u)==="object")return u.hasOwnProperty(o);if(u&&typeof u.indexOf=="function")return u.indexOf(o)>=0}return!1}r.exports=e.default,r.exports.default=e.default}(ul,ul.exports)),ul.exports}var cl={exports:{}},E3;function n7(){return E3||(E3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s){(0,t.default)(s);for(var a=s.replace(/[- ]+/g,""),o=0,u,c,f,l=a.length-1;l>=0;l--)u=a.substring(l,l+1),c=parseInt(u,10),f?(c*=2,c>=10?o+=c%10+1:o+=c):o+=c,f=!f;return!!(o%10===0&&a)}r.exports=e.default,r.exports.default=e.default}(cl,cl.exports)),cl.exports}var fl={exports:{}},S3;function eW(){return S3||(S3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(rt()),n=i(n7());function i(u){return u&&u.__esModule?u:{default:u}}var s={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},a=function(){var u=[];for(var c in s)s.hasOwnProperty(c)&&u.push(s[c]);return u}();function o(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(u);var f=c.provider,l=u.replace(/[- ]+/g,"");if(f&&f.toLowerCase()in s){if(!s[f.toLowerCase()].test(l))return!1}else{if(f&&!(f.toLowerCase()in s))throw new Error("".concat(f," is not a valid credit card provider."));if(!a.some(function(h){return h.test(l)}))return!1}return(0,n.default)(u)}r.exports=e.default,r.exports.default=e.default}(fl,fl.exports)),fl.exports}var ll={exports:{}},I3;function tW(){return I3||(I3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(rt()),n=i(bb());function i(o){return o&&o.__esModule?o:{default:o}}var s={PL:function(u){(0,t.default)(u);var c={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(u!=null&&u.length===11&&(0,n.default)(u,{allow_leading_zeroes:!0})){var f=u.split("").slice(0,-1),l=f.reduce(function(w,_,v){return w+Number(_)*c[v+1]},0),h=l%10,y=Number(u.charAt(u.length-1));if(h===0&&y===0||y===10-h)return!0}return!1},ES:function(u){(0,t.default)(u);var c=/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/,f={X:0,Y:1,Z:2},l=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],h=u.trim().toUpperCase();if(!c.test(h))return!1;var y=h.slice(0,-1).replace(/[X,Y,Z]/g,function(w){return f[w]});return h.endsWith(l[y%23])},FI:function(u){if((0,t.default)(u),u.length!==11||!u.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))return!1;var c="0123456789ABCDEFHJKLMNPRSTUVWXY",f=parseInt(u.slice(0,6),10)*1e3+parseInt(u.slice(7,10),10),l=f%31,h=c[l];return h===u.slice(10,11)},IN:function(u){var c=/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/,f=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],l=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],h=u.trim();if(!c.test(h))return!1;var y=0,w=h.replace(/\s/g,"").split("").map(Number).reverse();return w.forEach(function(_,v){y=f[y][l[v%8][_]]}),y===0},IR:function(u){if(!u.match(/^\d{10}$/)||(u="0000".concat(u).slice(u.length-6),parseInt(u.slice(3,9),10)===0))return!1;for(var c=parseInt(u.slice(9,10),10),f=0,l=0;l<9;l++)f+=parseInt(u.slice(l,l+1),10)*(10-l);return f%=11,f<2&&c===f||f>=2&&c===11-f},IT:function(u){return u.length!==9||u==="CA00000AA"?!1:u.search(/C[A-Z]\d{5}[A-Z]{2}/i)>-1},NO:function(u){var c=u.trim();if(isNaN(Number(c))||c.length!==11||c==="00000000000")return!1;var f=c.split("").map(Number),l=(11-(3*f[0]+7*f[1]+6*f[2]+1*f[3]+8*f[4]+9*f[5]+4*f[6]+5*f[7]+2*f[8])%11)%11,h=(11-(5*f[0]+4*f[1]+3*f[2]+2*f[3]+7*f[4]+6*f[5]+5*f[6]+4*f[7]+3*f[8]+2*l)%11)%11;return!(l!==f[9]||h!==f[10])},TH:function(u){if(!u.match(/^[1-8]\d{12}$/))return!1;for(var c=0,f=0;f<12;f++)c+=parseInt(u[f],10)*(13-f);return u[12]===((11-c%11)%10).toString()},LK:function(u){var c=/^[1-9]\d{8}[vx]$/i,f=/^[1-9]\d{11}$/i;return u.length===10&&c.test(u)?!0:!!(u.length===12&&f.test(u))},"he-IL":function(u){var c=/^\d{9}$/,f=u.trim();if(!c.test(f))return!1;for(var l=f,h=0,y,w=0;w<l.length;w++)y=Number(l[w])*(w%2+1),h+=y>9?y-9:y;return h%10===0},"ar-LY":function(u){var c=/^(1|2)\d{11}$/,f=u.trim();return!!c.test(f)},"ar-TN":function(u){var c=/^\d{8}$/,f=u.trim();return!!c.test(f)},"zh-CN":function(u){var c=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],f=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],l=["1","0","X","9","8","7","6","5","4","3","2"],h=function($){return c.includes($)},y=function($){var W=parseInt($.substring(0,4),10),X=parseInt($.substring(4,6),10),ae=parseInt($.substring(6),10),ee=new Date(W,X-1,ae);return ee>new Date?!1:ee.getFullYear()===W&&ee.getMonth()===X-1&&ee.getDate()===ae},w=function($){for(var W=$.substring(0,17),X=0,ae=0;ae<17;ae++)X+=parseInt(W.charAt(ae),10)*parseInt(f[ae],10);var ee=X%11;return l[ee]},_=function($){return w($)===$.charAt(17).toUpperCase()},v=function($){var W=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test($);if(!W)return!1;var X=$.substring(0,2);if(W=h(X),!W)return!1;var ae="19".concat($.substring(6,12));return W=y(ae),!!W},S=function($){var W=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test($);if(!W)return!1;var X=$.substring(0,2);if(W=h(X),!W)return!1;var ae=$.substring(6,14);return W=y(ae),W?_($):!1},k=function($){var W=/^\d{15}|(\d{17}(\d|x|X))$/.test($);return W?$.length===15?v($):S($):!1};return k(u)},"zh-HK":function(u){u=u.trim();var c=/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/,f=/^[0-9]$/;if(u=u.toUpperCase(),!c.test(u))return!1;u=u.replace(/\[|\]|\(|\)/g,""),u.length===8&&(u="3".concat(u));for(var l=0,h=0;h<=7;h++){var y=void 0;f.test(u[h])?y=u[h]:y=(u[h].charCodeAt(0)-55)%11,l+=y*(9-h)}l%=11;var w;return l===0?w="0":l===1?w="A":w=String(11-l),w===u[u.length-1]},"zh-TW":function(u){var c={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},f=u.trim().toUpperCase();return/^[A-Z][0-9]{9}$/.test(f)?Array.from(f).reduce(function(l,h,y){if(y===0){var w=c[h];return w%10*9+Math.floor(w/10)}return y===9?(10-l%10-Number(h))%10===0:l+Number(h)*(9-y)},0):!1},PK:function(u){var c=/^[1-7][0-9]{4}-[0-9]{7}-[1-9]$/,f=u.trim();return c.test(f)}};function a(o,u){if((0,t.default)(o),u in s)return s[u](o);if(u==="any"){for(var c in s)if(s.hasOwnProperty(c)){var f=s[c];if(f(o))return!0}return!1}throw new Error("Invalid locale '".concat(u,"'"))}r.exports=e.default,r.exports.default=e.default}(ll,ll.exports)),ll.exports}var dl={exports:{}},M3;function rW(){return M3||(M3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=n(rt());function n(f){return f&&f.__esModule?f:{default:f}}var i=8,s=14,a=/^(\d{8}|\d{13}|\d{14})$/;function o(f,l){return f===i||f===s?l%2===0?3:1:l%2===0?1:3}function u(f){var l=f.slice(0,-1).split("").map(function(y,w){return Number(y)*o(f.length,w)}).reduce(function(y,w){return y+w},0),h=10-l%10;return h<10?h:0}function c(f){(0,t.default)(f);var l=Number(f.slice(-1));return a.test(f)&&l===u(f)}r.exports=e.default,r.exports.default=e.default}(dl,dl.exports)),dl.exports}var hl={exports:{}},P3;function nW(){return P3||(P3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;function s(a){if((0,t.default)(a),!i.test(a))return!1;for(var o=!0,u=0,c=a.length-2;c>=0;c--)if(a[c]>="A"&&a[c]<="Z")for(var f=a[c].charCodeAt(0)-55,l=f%10,h=Math.trunc(f/10),y=0,w=[l,h];y<w.length;y++){var _=w[y];o?_>=5?u+=1+(_-5)*2:u+=_*2:u+=_,o=!o}else{var v=a[c].charCodeAt(0)-48;o?v>=5?u+=1+(v-5)*2:u+=v*2:u+=v,o=!o}var S=Math.trunc((u+9)/10)*10-u;return+a[a.length-1]===S}r.exports=e.default,r.exports.default=e.default}(hl,hl.exports)),hl.exports}var pl={exports:{}},R3;function iW(){return R3||(R3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=n(rt());function n(u){return u&&u.__esModule?u:{default:u}}var i=/^(?:[0-9]{9}X|[0-9]{10})$/,s=/^(?:[0-9]{13})$/,a=[1,3];function o(u,c){(0,t.default)(u);var f=String((c==null?void 0:c.version)||c);if(!(c!=null&&c.version||c))return o(u,{version:10})||o(u,{version:13});var l=u.replace(/[\s-]+/g,""),h=0;if(f==="10"){if(!i.test(l))return!1;for(var y=0;y<f-1;y++)h+=(y+1)*l.charAt(y);if(l.charAt(9)==="X"?h+=10*10:h+=10*l.charAt(9),h%11===0)return!0}else if(f==="13"){if(!s.test(l))return!1;for(var w=0;w<12;w++)h+=a[w%2]*l.charAt(w);if(l.charAt(12)-(10-h%10)%10===0)return!0}return!1}r.exports=e.default,r.exports.default=e.default}(pl,pl.exports)),pl.exports}var gl={exports:{}},k3;function sW(){return k3||(k3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i="^\\d{4}-?\\d{3}[\\dX]$";function s(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(a);var u=i;if(u=o.require_hyphen?u.replace("?",""):u,u=o.case_sensitive?new RegExp(u):new RegExp(u,"i"),!u.test(a))return!1;for(var c=a.replace("-","").toUpperCase(),f=0,l=0;l<c.length;l++){var h=c[l];f+=(h==="X"?10:+h)*(8-l)}return f%11===0}r.exports=e.default,r.exports.default=e.default}(gl,gl.exports)),gl.exports}var bl={exports:{}},sa={},N3;function i7(){if(N3)return sa;N3=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.iso7064Check=r,sa.luhnCheck=e,sa.reverseMultiplyAndSum=t,sa.verhoeffCheck=n;function r(i){for(var s=10,a=0;a<i.length-1;a++)s=(parseInt(i[a],10)+s)%10===0?10*2%11:(parseInt(i[a],10)+s)%10*2%11;return s=s===1?0:11-s,s===parseInt(i[10],10)}function e(i){for(var s=0,a=!1,o=i.length-1;o>=0;o--){if(a){var u=parseInt(i[o],10)*2;u>9?s+=u.toString().split("").map(function(c){return parseInt(c,10)}).reduce(function(c,f){return c+f},0):s+=u}else s+=parseInt(i[o],10);a=!a}return s%10===0}function t(i,s){for(var a=0,o=0;o<i.length;o++)a+=i[o]*(s-o);return a}function n(i){for(var s=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],a=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],o=i.split("").reverse().join(""),u=0,c=0;c<o.length;c++)u=s[u][a[c%8][parseInt(o[c],10)]];return u===0}return sa}var O3;function aW(){return O3||(O3=1,function(r,e){function t(F){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},t(F)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ae;var n=u(rt()),i=o(i7()),s=u(Y9());function a(F){if(typeof WeakMap!="function")return null;var G=new WeakMap,ne=new WeakMap;return(a=function(Ne){return Ne?ne:G})(F)}function o(F,G){if(F&&F.__esModule)return F;if(F===null||t(F)!="object"&&typeof F!="function")return{default:F};var ne=a(G);if(ne&&ne.has(F))return ne.get(F);var ye={__proto__:null},Ne=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ke in F)if(ke!=="default"&&{}.hasOwnProperty.call(F,ke)){var Ke=Ne?Object.getOwnPropertyDescriptor(F,ke):null;Ke&&(Ke.get||Ke.set)?Object.defineProperty(ye,ke,Ke):ye[ke]=F[ke]}return ye.default=F,ne&&ne.set(F,ye),ye}function u(F){return F&&F.__esModule?F:{default:F}}function c(F){return y(F)||h(F)||l(F)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(F,G){if(F){if(typeof F=="string")return w(F,G);var ne={}.toString.call(F).slice(8,-1);return ne==="Object"&&F.constructor&&(ne=F.constructor.name),ne==="Map"||ne==="Set"?Array.from(F):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?w(F,G):void 0}}function h(F){if(typeof Symbol<"u"&&F[Symbol.iterator]!=null||F["@@iterator"]!=null)return Array.from(F)}function y(F){if(Array.isArray(F))return w(F)}function w(F,G){(G==null||G>F.length)&&(G=F.length);for(var ne=0,ye=Array(G);ne<G;ne++)ye[ne]=F[ne];return ye}function _(F){var G=F.slice(0,2),ne=parseInt(F.slice(2,4),10);ne>40?(ne-=40,G="20".concat(G)):ne>20?(ne-=20,G="18".concat(G)):G="19".concat(G),ne<10&&(ne="0".concat(ne));var ye="".concat(G,"/").concat(ne,"/").concat(F.slice(4,6));if(!(0,s.default)(ye,"YYYY/MM/DD"))return!1;for(var Ne=F.split("").map(function(nt){return parseInt(nt,10)}),ke=[2,4,8,5,10,9,7,3,6],Ke=0,Ze=0;Ze<ke.length;Ze++)Ke+=Ne[Ze]*ke[Ze];return Ke=Ke%11===10?0:Ke%11,Ke===Ne[9]}function v(F){var G=F.split(""),ne=G.filter(function(Ne,ke){return ke%2}).map(function(Ne){return Number(Ne)*2}).join("").split(""),ye=G.filter(function(Ne,ke){return!(ke%2)}).concat(ne).map(function(Ne){return Number(Ne)}).reduce(function(Ne,ke){return Ne+ke});return ye%10===0}function S(F){F=F.replace(/\W/,"");var G=parseInt(F.slice(0,2),10);if(F.length===10)G<54?G="20".concat(G):G="19".concat(G);else{if(F.slice(6)==="000")return!1;if(G<54)G="19".concat(G);else return!1}G.length===3&&(G=[G.slice(0,2),"0",G.slice(2)].join(""));var ne=parseInt(F.slice(2,4),10);if(ne>50&&(ne-=50),ne>20){if(parseInt(G,10)<2004)return!1;ne-=20}ne<10&&(ne="0".concat(ne));var ye="".concat(G,"/").concat(ne,"/").concat(F.slice(4,6));if(!(0,s.default)(ye,"YYYY/MM/DD"))return!1;if(F.length===10&&parseInt(F,10)%11!==0){var Ne=parseInt(F.slice(0,9),10)%11;if(parseInt(G,10)<1986&&Ne===10){if(parseInt(F.slice(9),10)!==0)return!1}else return!1}return!0}function k(F){return i.luhnCheck(F)}function C(F){for(var G=F.split("").map(function(nt){return parseInt(nt,10)}),ne=[],ye=0;ye<G.length-1;ye++){ne.push("");for(var Ne=0;Ne<G.length-1;Ne++)G[ye]===G[Ne]&&(ne[ye]+=Ne)}if(ne=ne.filter(function(nt){return nt.length>1}),ne.length!==2&&ne.length!==3)return!1;if(ne[0].length===3){for(var ke=ne[0].split("").map(function(nt){return parseInt(nt,10)}),Ke=0,Ze=0;Ze<ke.length-1;Ze++)ke[Ze]+1===ke[Ze+1]&&(Ke+=1);if(Ke===2)return!1}return i.iso7064Check(F)}function $(F){F=F.replace(/\W/,"");var G=parseInt(F.slice(4,6),10),ne=F.slice(6,7);switch(ne){case"0":case"1":case"2":case"3":G="19".concat(G);break;case"4":case"9":G<37?G="20".concat(G):G="19".concat(G);break;default:if(G<37)G="20".concat(G);else if(G>58)G="18".concat(G);else return!1;break}G.length===3&&(G=[G.slice(0,2),"0",G.slice(2)].join(""));var ye="".concat(G,"/").concat(F.slice(2,4),"/").concat(F.slice(0,2));if(!(0,s.default)(ye,"YYYY/MM/DD"))return!1;for(var Ne=F.split("").map(function(nt){return parseInt(nt,10)}),ke=0,Ke=4,Ze=0;Ze<9;Ze++)ke+=Ne[Ze]*Ke,Ke-=1,Ke===1&&(Ke=7);return ke%=11,ke===1?!1:ke===0?Ne[9]===0:Ne[9]===11-ke}function W(F){for(var G=F.slice(0,8).split("").map(function(ke){return parseInt(ke,10)}),ne=0,ye=1;ye<G.length;ye+=2)ne+=G[ye];for(var Ne=0;Ne<G.length;Ne+=2)G[Ne]<2?ne+=1-G[Ne]:(ne+=2*(G[Ne]-2)+5,G[Ne]>4&&(ne+=2));return String.fromCharCode(ne%26+65)===F.charAt(8)}function X(F){for(var G=F.split("").map(function(Ne){return parseInt(Ne,10)}),ne=0,ye=0;ye<8;ye++)ne+=G[ye]*Math.pow(2,8-ye);return ne%11%10===G[8]}function ae(F){var G=i.reverseMultiplyAndSum(F.split("").slice(0,7).map(function(ne){return parseInt(ne,10)}),8);return F.length===9&&F[8]!=="W"&&(G+=(F[8].charCodeAt(0)-64)*9),G%=23,G===0?F[7].toUpperCase()==="W":F[7].toUpperCase()===String.fromCharCode(64+G)}var ee={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function Q(){var F=[];for(var G in ee)ee.hasOwnProperty(G)&&F.push.apply(F,c(ee[G]));return F}function fe(F){return Q().indexOf(F.slice(0,2))!==-1}function j(F){for(var G=0,ne=F.split(""),ye=parseInt(ne.pop(),10),Ne=0;Ne<ne.length;Ne++)G+=ne[9-Ne]*(2+Ne%6);var ke=11-G%11;return ke===11?ke=0:ke===10&&(ke=9),ye===ke}function g(F){var G=F.toUpperCase().split("");if(isNaN(parseInt(G[0],10))&&G.length>1){var ne=0;switch(G[0]){case"Y":ne=1;break;case"Z":ne=2;break}G.splice(0,1,ne)}else for(;G.length<9;)G.unshift(0);var ye=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"];G=G.join("");var Ne=parseInt(G.slice(0,8),10)%23;return G[8]===ye[Ne]}function b(F){var G=F.slice(1,3),ne=F.slice(0,1);switch(ne){case"1":case"2":G="18".concat(G);break;case"3":case"4":G="19".concat(G);break;default:G="20".concat(G);break}var ye="".concat(G,"/").concat(F.slice(3,5),"/").concat(F.slice(5,7));if(!(0,s.default)(ye,"YYYY/MM/DD"))return!1;for(var Ne=F.split("").map(function(U){return parseInt(U,10)}),ke=0,Ke=1,Ze=0;Ze<10;Ze++)ke+=Ne[Ze]*Ke,Ke+=1,Ke===10&&(Ke=1);if(ke%11===10){ke=0,Ke=3;for(var nt=0;nt<10;nt++)ke+=Ne[nt]*Ke,Ke+=1,Ke===10&&(Ke=1);if(ke%11===10)return Ne[10]===0}return ke%11===Ne[10]}function d(F){var G=F.slice(4,6),ne=F.slice(6,7);switch(ne){case"+":G="18".concat(G);break;case"-":G="19".concat(G);break;default:G="20".concat(G);break}var ye="".concat(G,"/").concat(F.slice(2,4),"/").concat(F.slice(0,2));if(!(0,s.default)(ye,"YYYY/MM/DD"))return!1;var Ne=parseInt(F.slice(0,6)+F.slice(7,10),10)%31;if(Ne<10)return Ne===parseInt(F.slice(10),10);Ne-=10;var ke=["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"];return ke[Ne]===F.slice(10)}function p(F){if(F.slice(2,4)!=="00"||F.slice(4,6)!=="00"){var G="".concat(F.slice(0,2),"/").concat(F.slice(2,4),"/").concat(F.slice(4,6));if(!(0,s.default)(G,"YY/MM/DD"))return!1}var ne=97-parseInt(F.slice(0,9),10)%97,ye=parseInt(F.slice(9,11),10);return!(ne!==ye&&(ne=97-parseInt("2".concat(F.slice(0,9)),10)%97,ne!==ye))}function A(F){F=F.replace(/\s/g,"");var G=parseInt(F.slice(0,10),10)%511,ne=parseInt(F.slice(10,13),10);return G===ne}function M(F){var G="".concat(F.slice(0,4),"/").concat(F.slice(4,6),"/").concat(F.slice(6,8));return!(0,s.default)(G,"YYYY/MM/DD")||!i.luhnCheck(F.slice(0,12))?!1:i.verhoeffCheck("".concat(F.slice(0,11)).concat(F[12]))}function N(F){return i.iso7064Check(F)}function I(F){for(var G=F.split("").map(function(Ne){return parseInt(Ne,10)}),ne=8,ye=1;ye<9;ye++)ne+=G[ye]*(ye+1);return ne%11===G[9]}function m(F){for(var G=!1,ne=!1,ye=0;ye<3;ye++)if(!G&&/[AEIOU]/.test(F[ye]))G=!0;else if(!ne&&G&&F[ye]==="X")ne=!0;else if(ye>0&&(G&&!ne&&!/[AEIOU]/.test(F[ye])||ne&&!/X/.test(F[ye])))return!1;return!0}function x(F){var G=F.toUpperCase().split("");if(!m(G.slice(0,3))||!m(G.slice(3,6)))return!1;for(var ne=[6,7,9,10,12,13,14],ye={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},Ne=0,ke=ne;Ne<ke.length;Ne++){var Ke=ke[Ne];G[Ke]in ye&&G.splice(Ke,1,ye[G[Ke]])}var Ze={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"},nt=Ze[G[8]],U=parseInt(G[9]+G[10],10);U>40&&(U-=40),U<10&&(U="0".concat(U));var R="".concat(G[6]).concat(G[7],"/").concat(nt,"/").concat(U);if(!(0,s.default)(R,"YY/MM/DD"))return!1;for(var O=0,oe=1;oe<G.length-1;oe+=2){var Ie=parseInt(G[oe],10);isNaN(Ie)&&(Ie=G[oe].charCodeAt(0)-65),O+=Ie}for(var Le={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},Ue=0;Ue<G.length-1;Ue+=2){var ct=0;if(G[Ue]in Le)ct=Le[G[Ue]];else{var gt=parseInt(G[Ue],10);ct=2*gt+1,gt>4&&(ct+=2)}O+=ct}return String.fromCharCode(65+O%26)===G[15]}function E(F){F=F.replace(/\W/,"");var G=F.slice(0,2);if(G!=="32"){var ne=F.slice(2,4);if(ne!=="00"){var ye=F.slice(4,6);switch(F[6]){case"0":ye="18".concat(ye);break;case"1":ye="19".concat(ye);break;default:ye="20".concat(ye);break}var Ne="".concat(ye,"/").concat(F.slice(2,4),"/").concat(G);if(!(0,s.default)(Ne,"YYYY/MM/DD"))return!1}for(var ke=1101,Ke=[1,6,3,7,9,10,5,8,4,2],Ze=0;Ze<F.length-1;Ze++)ke-=parseInt(F[Ze],10)*Ke[Ze];return parseInt(F[10],10)===ke%11}return!0}function D(F){if(F.length!==9){for(var G=F.toUpperCase().split("");G.length<8;)G.unshift(0);switch(F[7]){case"A":case"P":if(parseInt(G[6],10)===0)return!1;break;default:{var ne=parseInt(G.join("").slice(0,5),10);if(ne>32e3)return!1;var ye=parseInt(G.join("").slice(5,7),10);if(ne===ye)return!1}}}return!0}function z(F){return i.reverseMultiplyAndSum(F.split("").slice(0,8).map(function(G){return parseInt(G,10)}),9)%11===parseInt(F[8],10)}function P(F){if(F.length===10){for(var G=[6,5,7,2,3,4,5,6,7],ne=0,ye=0;ye<G.length;ye++)ne+=parseInt(F[ye],10)*G[ye];return ne%=11,ne===10?!1:ne===parseInt(F[9],10)}var Ne=F.slice(0,2),ke=parseInt(F.slice(2,4),10);ke>80?(Ne="18".concat(Ne),ke-=80):ke>60?(Ne="22".concat(Ne),ke-=60):ke>40?(Ne="21".concat(Ne),ke-=40):ke>20?(Ne="20".concat(Ne),ke-=20):Ne="19".concat(Ne),ke<10&&(ke="0".concat(ke));var Ke="".concat(Ne,"/").concat(ke,"/").concat(F.slice(4,6));if(!(0,s.default)(Ke,"YYYY/MM/DD"))return!1;for(var Ze=0,nt=1,U=0;U<F.length-1;U++)Ze+=parseInt(F[U],10)*nt%10,nt+=2,nt>10?nt=1:nt===5&&(nt+=2);return Ze=10-Ze%10,Ze===parseInt(F[10],10)}function de(F){if(F.length===11){var G,ne;if(G=0,F==="11111111111"||F==="22222222222"||F==="33333333333"||F==="44444444444"||F==="55555555555"||F==="66666666666"||F==="77777777777"||F==="88888888888"||F==="99999999999"||F==="00000000000")return!1;for(var ye=1;ye<=9;ye++)G+=parseInt(F.substring(ye-1,ye),10)*(11-ye);if(ne=G*10%11,ne===10&&(ne=0),ne!==parseInt(F.substring(9,10),10))return!1;G=0;for(var Ne=1;Ne<=10;Ne++)G+=parseInt(F.substring(Ne-1,Ne),10)*(12-Ne);return ne=G*10%11,ne===10&&(ne=0),ne===parseInt(F.substring(10,11),10)}if(F==="00000000000000"||F==="11111111111111"||F==="22222222222222"||F==="33333333333333"||F==="44444444444444"||F==="55555555555555"||F==="66666666666666"||F==="77777777777777"||F==="88888888888888"||F==="99999999999999")return!1;for(var ke=F.length-2,Ke=F.substring(0,ke),Ze=F.substring(ke),nt=0,U=ke-7,R=ke;R>=1;R--)nt+=Ke.charAt(ke-R)*U,U-=1,U<2&&(U=9);var O=nt%11<2?0:11-nt%11;if(O!==parseInt(Ze.charAt(0),10))return!1;ke+=1,Ke=F.substring(0,ke),nt=0,U=ke-7;for(var oe=ke;oe>=1;oe--)nt+=Ke.charAt(ke-oe)*U,U-=1,U<2&&(U=9);return O=nt%11<2?0:11-nt%11,O===parseInt(Ze.charAt(1),10)}function Pe(F){var G=11-i.reverseMultiplyAndSum(F.split("").slice(0,8).map(function(ne){return parseInt(ne,10)}),9)%11;return G>9?parseInt(F[8],10)===0:G===parseInt(F[8],10)}function Me(F){if(F.slice(0,4)!=="9000"){var G=F.slice(1,3);switch(F[0]){case"1":case"2":G="19".concat(G);break;case"3":case"4":G="18".concat(G);break;case"5":case"6":G="20".concat(G);break}var ne="".concat(G,"/").concat(F.slice(3,5),"/").concat(F.slice(5,7));if(ne.length===8){if(!(0,s.default)(ne,"YY/MM/DD"))return!1}else if(!(0,s.default)(ne,"YYYY/MM/DD"))return!1;for(var ye=F.split("").map(function(Ze){return parseInt(Ze,10)}),Ne=[2,7,9,1,4,6,3,5,8,2,7,9],ke=0,Ke=0;Ke<Ne.length;Ke++)ke+=ye[Ke]*Ne[Ke];return ke%11===10?ye[12]===1:ye[12]===ke%11}return!0}function Oe(F){if(F.length===9){if(F=F.replace(/\W/,""),F.slice(6)==="000")return!1;var G=parseInt(F.slice(0,2),10);if(G>53)return!1;G<10?G="190".concat(G):G="19".concat(G);var ne=parseInt(F.slice(2,4),10);ne>50&&(ne-=50),ne<10&&(ne="0".concat(ne));var ye="".concat(G,"/").concat(ne,"/").concat(F.slice(4,6));if(!(0,s.default)(ye,"YYYY/MM/DD"))return!1}return!0}function K(F){var G=11-i.reverseMultiplyAndSum(F.split("").slice(0,7).map(function(ne){return parseInt(ne,10)}),8)%11;return G===10?parseInt(F[7],10)===0:G===parseInt(F[7],10)}function te(F){var G=F.slice(0);F.length>11&&(G=G.slice(2));var ne="",ye=G.slice(2,4),Ne=parseInt(G.slice(4,6),10);if(F.length>11)ne=F.slice(0,4);else if(ne=F.slice(0,2),F.length===11&&Ne<60){var ke=new Date().getFullYear().toString(),Ke=parseInt(ke.slice(0,2),10);if(ke=parseInt(ke,10),F[6]==="-")parseInt("".concat(Ke).concat(ne),10)>ke?ne="".concat(Ke-1).concat(ne):ne="".concat(Ke).concat(ne);else if(ne="".concat(Ke-1).concat(ne),ke-parseInt(ne,10)<100)return!1}Ne>60&&(Ne-=60),Ne<10&&(Ne="0".concat(Ne));var Ze="".concat(ne,"/").concat(ye,"/").concat(Ne);if(Ze.length===8){if(!(0,s.default)(Ze,"YY/MM/DD"))return!1}else if(!(0,s.default)(Ze,"YYYY/MM/DD"))return!1;return i.luhnCheck(F.replace(/\W/,""))}function re(F){for(var G=F.split("").map(function(ke){return parseInt(ke,10)}),ne=[-1,5,7,9,4,6,10,5,7],ye=0,Ne=0;Ne<ne.length;Ne++)ye+=G[Ne]*ne[Ne];return ye%11===10?G[9]===0:G[9]===ye%11}var we={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-AR":/(20|23|24|27|30|33|34)[0-9]{8}[0-9]/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/,"uk-UA":/^\d{10}$/};we["lb-LU"]=we["fr-LU"],we["lt-LT"]=we["et-EE"],we["nl-BE"]=we["fr-BE"],we["fr-CA"]=we["en-CA"];var ge={"bg-BG":_,"cs-CZ":S,"de-AT":k,"de-DE":C,"dk-DK":$,"el-CY":W,"el-GR":X,"en-CA":v,"en-IE":ae,"en-US":fe,"es-AR":j,"es-ES":g,"et-EE":b,"fi-FI":d,"fr-BE":p,"fr-FR":A,"fr-LU":M,"hr-HR":N,"hu-HU":I,"it-IT":x,"lv-LV":E,"mt-MT":D,"nl-NL":z,"pl-PL":P,"pt-BR":de,"pt-PT":Pe,"ro-RO":Me,"sk-SK":Oe,"sl-SI":K,"sv-SE":te,"uk-UA":re};ge["lb-LU"]=ge["fr-LU"],ge["lt-LT"]=ge["et-EE"],ge["nl-BE"]=ge["fr-BE"],ge["fr-CA"]=ge["en-CA"];var xe=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,$e={"de-AT":xe,"de-DE":/[\/\\]/g,"fr-BE":xe};$e["nl-BE"]=$e["fr-BE"];function Ae(F){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US";(0,n.default)(F);var ne=F.slice(0);if(G in we)return G in $e&&(ne=ne.replace($e[G],"")),we[G].test(ne)?G in ge?ge[G](ne):!0:!1;throw new Error("Invalid locale '".concat(G,"'"))}r.exports=e.default,r.exports.default=e.default}(bl,bl.exports)),bl.exports}var ao={},C3;function oW(){if(C3)return ao;C3=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.default=n,ao.locales=void 0;var r=e(rt());function e(i){return i&&i.__esModule?i:{default:i}}var t={"am-AM":/^(\+?374|0)(33|4[134]|55|77|88|9[13-689])\d{6}$/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|6)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7[1-9]\d{8}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|53|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-MW":/^(\+?265|0)(((77|88|31|99|98|21)\d{7})|(((111)|1)\d{6})|(32000\d{4}))$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?0[79][567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-GT":/^(\+?502)?[2|6|7]\d{7}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+996\s?)?(22[0-9]|50[0-9]|55[0-9]|70[0-9]|75[0-9]|77[0-9]|880|990|995|996|997|998)\s?\d{3}\s?\d{3}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[2-9]\d{7}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38)?0(50|6[36-8]|7[357]|9[1-9])\d{7}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/,"mk-MK":/^(\+?389|0)?((?:2[2-9]\d{6}|(?:3[1-4]|4[2-8])\d{6}|500\d{5}|5[2-9]\d{6}|7[0-9][2-9]\d{5}|8[1-9]\d{6}|800\d{5}|8009\d{4}))$/};t["en-CA"]=t["en-US"],t["fr-CA"]=t["en-CA"],t["fr-BE"]=t["nl-BE"],t["zh-HK"]=t["en-HK"],t["zh-MO"]=t["en-MO"],t["ga-IE"]=t["en-IE"],t["fr-CH"]=t["de-CH"],t["it-CH"]=t["fr-CH"];function n(i,s,a){if((0,r.default)(i),a&&a.strictMode&&!i.startsWith("+"))return!1;if(Array.isArray(s))return s.some(function(c){if(t.hasOwnProperty(c)){var f=t[c];if(f.test(i))return!0}return!1});if(s in t)return t[s].test(i);if(!s||s==="any"){for(var o in t)if(t.hasOwnProperty(o)){var u=t[o];if(u.test(i))return!0}return!1}throw new Error("Invalid locale '".concat(s,"'"))}return ao.locales=Object.keys(t),ao}var ml={exports:{}},T3;function uW(){return T3||(T3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/^(0x)[0-9a-f]{40}$/i;function s(a){return(0,t.default)(a),i.test(a)}r.exports=e.default,r.exports.default=e.default}(ml,ml.exports)),ml.exports}var vl={exports:{}},D3;function cW(){return D3||(D3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(Dn()),n=i(rt());function i(u){return u&&u.__esModule?u:{default:u}}function s(u){var c="\\d{".concat(u.digits_after_decimal[0],"}");u.digits_after_decimal.forEach(function(k,C){C!==0&&(c="".concat(c,"|\\d{").concat(k,"}"))});var f="(".concat(u.symbol.replace(/\W/,function(k){return"\\".concat(k)}),")").concat(u.require_symbol?"":"?"),l="-?",h="[1-9]\\d*",y="[1-9]\\d{0,2}(\\".concat(u.thousands_separator,"\\d{3})*"),w=["0",h,y],_="(".concat(w.join("|"),")?"),v="(\\".concat(u.decimal_separator,"(").concat(c,"))").concat(u.require_decimal?"":"?"),S=_+(u.allow_decimal||u.require_decimal?v:"");return u.allow_negatives&&!u.parens_for_negatives&&(u.negative_sign_after_digits?S+=l:u.negative_sign_before_digits&&(S=l+S)),u.allow_negative_sign_placeholder?S="( (?!\\-))?".concat(S):u.allow_space_after_symbol?S=" ?".concat(S):u.allow_space_after_digits&&(S+="( (?!$))?"),u.symbol_after_digits?S+=f:S=f+S,u.allow_negatives&&(u.parens_for_negatives?S="(\\(".concat(S,"\\)|").concat(S,")"):u.negative_sign_before_digits||u.negative_sign_after_digits||(S=l+S)),new RegExp("^(?!-? )(?=.*\\d)".concat(S,"$"))}var a={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};function o(u,c){return(0,n.default)(u),c=(0,t.default)(c,a),s(c).test(u)}r.exports=e.default,r.exports.default=e.default}(vl,vl.exports)),vl.exports}var yl={exports:{}},B3;function fW(){return B3||(B3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=n(rt());function n(o){return o&&o.__esModule?o:{default:o}}var i=/^(bc1|tb1|bc1p|tb1p)[ac-hj-np-z02-9]{39,58}$/,s=/^(1|2|3|m)[A-HJ-NP-Za-km-z1-9]{25,39}$/;function a(o){return(0,t.default)(o),i.test(o)||s.test(o)}r.exports=e.default,r.exports.default=e.default}(yl,yl.exports)),yl.exports}var oo={},L3;function lW(){if(L3)return oo;L3=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.isFreightContainerID=void 0,oo.isISO6346=i;var r=e(rt());function e(s){return s&&s.__esModule?s:{default:s}}var t=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,n=/^[0-9]$/;function i(s){if((0,r.default)(s),s=s.toUpperCase(),!t.test(s))return!1;if(s.length===11){for(var a=0,o=0;o<s.length-1;o++)if(n.test(s[o]))a+=s[o]*Math.pow(2,o);else{var u=void 0,c=s.charCodeAt(o)-55;c<11?u=c:c>=11&&c<=20?u=12+c%11:c>=21&&c<=30?u=23+c%21:u=34+c%31,a+=u*Math.pow(2,o)}var f=a%11;return f===10&&(f=0),Number(s[s.length-1])===f}return!0}return oo.isFreightContainerID=i,oo}var xl={exports:{}},$3;function dW(){return $3||($3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);function s(a){return(0,t.default)(a),i.has(a)}r.exports=e.default,r.exports.default=e.default}(xl,xl.exports)),xl.exports}var wl={exports:{}},F3;function hW(){return F3||(F3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=n(rt());function n(u){return u&&u.__esModule?u:{default:u}}var i=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,s=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,a=function(c){var f=c.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(f){var l=Number(f[1]),h=Number(f[2]);return l%4===0&&l%100!==0||l%400===0?h<=366:h<=365}var y=c.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),w=y[1],_=y[2],v=y[3],S=_&&"0".concat(_).slice(-2),k=v&&"0".concat(v).slice(-2),C=new Date("".concat(w,"-").concat(S||"01","-").concat(k||"01"));return _&&v?C.getUTCFullYear()===w&&C.getUTCMonth()+1===_&&C.getUTCDate()===v:!0};function o(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(u);var f=c.strictSeparator?s.test(u):i.test(u);return f&&c.strict?a(u):f}r.exports=e.default,r.exports.default=e.default}(wl,wl.exports)),wl.exports}var Al={exports:{}},U3;function pW(){return U3||(U3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=S;var t=n(rt());function n(k){return k&&k.__esModule?k:{default:k}}var i=/[0-9]{4}/,s=/(0[1-9]|1[0-2])/,a=/([12]\d|0[1-9]|3[01])/,o=/([01][0-9]|2[0-3])/,u=/[0-5][0-9]/,c=/([0-5][0-9]|60)/,f=/(\.[0-9]+)?/,l=new RegExp("[-+]".concat(o.source,":").concat(u.source)),h=new RegExp("([zZ]|".concat(l.source,")")),y=new RegExp("".concat(o.source,":").concat(u.source,":").concat(c.source).concat(f.source)),w=new RegExp("".concat(i.source,"-").concat(s.source,"-").concat(a.source)),_=new RegExp("".concat(y.source).concat(h.source)),v=new RegExp("^".concat(w.source,"[ tT]").concat(_.source,"$"));function S(k){return(0,t.default)(k),v.test(k)}r.exports=e.default,r.exports.default=e.default}(Al,Al.exports)),Al.exports}var uo={},q3;function gW(){if(q3)return uo;q3=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.ScriptCodes=void 0,uo.default=n;var r=e(rt());function e(i){return i&&i.__esModule?i:{default:i}}var t=new Set(["Adlm","Afak","Aghb","Ahom","Arab","Aran","Armi","Armn","Avst","Bali","Bamu","Bass","Batk","Beng","Bhks","Blis","Bopo","Brah","Brai","Bugi","Buhd","Cakm","Cans","Cari","Cham","Cher","Chis","Chrs","Cirt","Copt","Cpmn","Cprt","Cyrl","Cyrs","Deva","Diak","Dogr","Dsrt","Dupl","Egyd","Egyh","Egyp","Elba","Elym","Ethi","Gara","Geok","Geor","Glag","Gong","Gonm","Goth","Gran","Grek","Gujr","Gukh","Guru","Hanb","Hang","Hani","Hano","Hans","Hant","Hatr","Hebr","Hira","Hluw","Hmng","Hmnp","Hrkt","Hung","Inds","Ital","Jamo","Java","Jpan","Jurc","Kali","Kana","Kawi","Khar","Khmr","Khoj","Kitl","Kits","Knda","Kore","Kpel","Krai","Kthi","Lana","Laoo","Latf","Latg","Latn","Leke","Lepc","Limb","Lina","Linb","Lisu","Loma","Lyci","Lydi","Mahj","Maka","Mand","Mani","Marc","Maya","Medf","Mend","Merc","Mero","Mlym","Modi","Mong","Moon","Mroo","Mtei","Mult","Mymr","Nagm","Nand","Narb","Nbat","Newa","Nkdb","Nkgb","Nkoo","Nshu","Ogam","Olck","Onao","Orkh","Orya","Osge","Osma","Ougr","Palm","Pauc","Pcun","Pelm","Perm","Phag","Phli","Phlp","Phlv","Phnx","Plrd","Piqd","Prti","Psin","Qaaa","Qaab","Qaac","Qaad","Qaae","Qaaf","Qaag","Qaah","Qaai","Qaaj","Qaak","Qaal","Qaam","Qaan","Qaao","Qaap","Qaaq","Qaar","Qaas","Qaat","Qaau","Qaav","Qaaw","Qaax","Qaay","Qaaz","Qaba","Qabb","Qabc","Qabd","Qabe","Qabf","Qabg","Qabh","Qabi","Qabj","Qabk","Qabl","Qabm","Qabn","Qabo","Qabp","Qabq","Qabr","Qabs","Qabt","Qabu","Qabv","Qabw","Qabx","Ranj","Rjng","Rohg","Roro","Runr","Samr","Sara","Sarb","Saur","Sgnw","Shaw","Shrd","Shui","Sidd","Sidt","Sind","Sinh","Sogd","Sogo","Sora","Soyo","Sund","Sunu","Sylo","Syrc","Syre","Syrj","Syrn","Tagb","Takr","Tale","Talu","Taml","Tang","Tavt","Tayo","Telu","Teng","Tfng","Tglg","Thaa","Thai","Tibt","Tirh","Tnsa","Todr","Tols","Toto","Tutg","Ugar","Vaii","Visp","Vith","Wara","Wcho","Wole","Xpeo","Xsux","Yezi","Yiii","Zanb","Zinh","Zmth","Zsye","Zsym","Zxxx","Zyyy","Zzzz"]);function n(i){return(0,r.default)(i),t.has(i)}return uo.ScriptCodes=t,uo}var _l={exports:{}},j3;function bW(){return j3||(j3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);function s(a){return(0,t.default)(a),i.has(a.toUpperCase())}r.exports=e.default,r.exports.default=e.default}(_l,_l.exports)),_l.exports}var El={exports:{}},z3;function mW(){return z3||(z3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=new Set(["004","008","010","012","016","020","024","028","031","032","036","040","044","048","050","051","052","056","060","064","068","070","072","074","076","084","086","090","092","096","100","104","108","112","116","120","124","132","136","140","144","148","152","156","158","162","166","170","174","175","178","180","184","188","191","192","196","203","204","208","212","214","218","222","226","231","232","233","234","238","239","242","246","248","250","254","258","260","262","266","268","270","275","276","288","292","296","300","304","308","312","316","320","324","328","332","334","336","340","344","348","352","356","360","364","368","372","376","380","384","388","392","398","400","404","408","410","414","417","418","422","426","428","430","434","438","440","442","446","450","454","458","462","466","470","474","478","480","484","492","496","498","499","500","504","508","512","516","520","524","528","531","533","534","535","540","548","554","558","562","566","570","574","578","580","581","583","584","585","586","591","598","600","604","608","612","616","620","624","626","630","634","638","642","643","646","652","654","659","660","662","663","666","670","674","678","682","686","688","690","694","702","703","704","705","706","710","716","724","728","729","732","740","744","748","752","756","760","762","764","768","772","776","780","784","788","792","795","796","798","800","804","807","818","826","831","832","833","834","840","850","854","858","860","862","876","882","887","894"]);function s(a){return(0,t.default)(a),i.has(a)}r.exports=e.default,r.exports.default=e.default}(El,El.exports)),El.exports}var co={},W3;function vW(){if(W3)return co;W3=1,Object.defineProperty(co,"__esModule",{value:!0}),co.CurrencyCodes=void 0,co.default=n;var r=e(rt());function e(i){return i&&i.__esModule?i:{default:i}}var t=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLE","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VED","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);function n(i){return(0,r.default)(i),t.has(i.toUpperCase())}return co.CurrencyCodes=t,co}var Sl={exports:{}},K3;function yW(){return K3||(K3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=i(rt()),n=i(Dn());function i(c){return c&&c.__esModule?c:{default:c}}var s=/^[A-Z2-7]+=*$/,a=/^[A-HJKMNP-TV-Z0-9]+$/,o={crockford:!1};function u(c,f){if((0,t.default)(c),f=(0,n.default)(f,o),f.crockford)return a.test(c);var l=c.length;return!!(l%8===0&&s.test(c))}r.exports=e.default,r.exports.default=e.default}(Sl,Sl.exports)),Sl.exports}var Il={exports:{}},H3;function xW(){return H3||(H3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/^[A-HJ-NP-Za-km-z1-9]*$/;function s(a){return(0,t.default)(a),!!i.test(a)}r.exports=e.default,r.exports.default=e.default}(Il,Il.exports)),Il.exports}var Ml={exports:{}},V3;function wW(){return V3||(V3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=n(rt());function n(u){return u&&u.__esModule?u:{default:u}}var i=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,s=/^[a-z\-]+=[a-z0-9\-]+$/i,a=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;function o(u){(0,t.default)(u);var c=u.split(",");if(c.length<2)return!1;var f=c.shift().trim().split(";"),l=f.shift();if(l.slice(0,5)!=="data:")return!1;var h=l.slice(5);if(h!==""&&!i.test(h))return!1;for(var y=0;y<f.length;y++)if(!(y===f.length-1&&f[y].toLowerCase()==="base64")&&!s.test(f[y]))return!1;for(var w=0;w<c.length;w++)if(!a.test(c[w]))return!1;return!0}r.exports=e.default,r.exports.default=e.default}(Ml,Ml.exports)),Ml.exports}var Pl={exports:{}},G3;function AW(){return G3||(G3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;function s(a){return(0,t.default)(a),a.indexOf("magnet:?")!==0?!1:i.test(a)}r.exports=e.default,r.exports.default=e.default}(Pl,Pl.exports)),Pl.exports}var Rl={exports:{}},kl={exports:{}},Nl={exports:{}},Z3;function s7(){return Z3||(Z3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s,a){if((0,t.default)(s),a){var o=new RegExp("[".concat(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return s.replace(o,"")}for(var u=s.length-1;/\s/.test(s.charAt(u));)u-=1;return s.slice(0,u+1)}r.exports=e.default,r.exports.default=e.default}(Nl,Nl.exports)),Nl.exports}var Ol={exports:{}},J3;function a7(){return J3||(J3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s,a){(0,t.default)(s);var o=a?new RegExp("^[".concat(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return s.replace(o,"")}r.exports=e.default,r.exports.default=e.default}(Ol,Ol.exports)),Ol.exports}var Y3;function o7(){return Y3||(Y3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(s7()),n=i(a7());function i(a){return a&&a.__esModule?a:{default:a}}function s(a,o){return(0,t.default)((0,n.default)(a,o),o)}r.exports=e.default,r.exports.default=e.default}(kl,kl.exports)),kl.exports}var Q3;function _W(){return Q3||(Q3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=w;var t=s(o7()),n=s(J9()),i=s(rt());function s(_){return _&&_.__esModule?_:{default:_}}function a(_,v){return c(_)||u(_,v)||l(_,v)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(_,v){var S=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(S!=null){var k,C,$,W,X=[],ae=!0,ee=!1;try{if($=(S=S.call(_)).next,v!==0)for(;!(ae=(k=$.call(S)).done)&&(X.push(k.value),X.length!==v);ae=!0);}catch(Q){ee=!0,C=Q}finally{try{if(!ae&&S.return!=null&&(W=S.return(),Object(W)!==W))return}finally{if(ee)throw C}}return X}}function c(_){if(Array.isArray(_))return _}function f(_,v){var S=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!S){if(Array.isArray(_)||(S=l(_))||v){S&&(_=S);var k=0,C=function(){};return{s:C,n:function(){return k>=_.length?{done:!0}:{done:!1,value:_[k++]}},e:function(ee){throw ee},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $,W=!0,X=!1;return{s:function(){S=S.call(_)},n:function(){var ee=S.next();return W=ee.done,ee},e:function(ee){X=!0,$=ee},f:function(){try{W||S.return==null||S.return()}finally{if(X)throw $}}}}function l(_,v){if(_){if(typeof _=="string")return h(_,v);var S={}.toString.call(_).slice(8,-1);return S==="Object"&&_.constructor&&(S=_.constructor.name),S==="Map"||S==="Set"?Array.from(_):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?h(_,v):void 0}}function h(_,v){(v==null||v>_.length)&&(v=_.length);for(var S=0,k=Array(v);S<v;S++)k[S]=_[S];return k}function y(_){var v=new Set(["subject","body","cc","bcc"]),S={cc:"",bcc:""},k=!1,C=_.split("&");if(C.length>4)return!1;var $=f(C),W;try{for($.s();!(W=$.n()).done;){var X=W.value,ae=X.split("="),ee=a(ae,2),Q=ee[0],fe=ee[1];if(Q&&!v.has(Q)){k=!0;break}fe&&(Q==="cc"||Q==="bcc")&&(S[Q]=fe),Q&&v.delete(Q)}}catch(j){$.e(j)}finally{$.f()}return k?!1:S}function w(_,v){if((0,i.default)(_),_.indexOf("mailto:")!==0)return!1;var S=_.replace("mailto:","").split("?"),k=a(S,2),C=k[0],$=k[1],W=$===void 0?"":$;if(!C&&!W)return!0;var X=y(W);return X?"".concat(C,",").concat(X.cc,",").concat(X.bcc).split(",").every(function(ae){return ae=(0,t.default)(ae," "),ae?(0,n.default)(ae,v):!0}):!1}r.exports=e.default,r.exports.default=e.default}(Rl,Rl.exports)),Rl.exports}var Cl={exports:{}},X3;function EW(){return X3||(X3=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=n(rt());function n(u){return u&&u.__esModule?u:{default:u}}var i=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,s=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,a=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;function o(u){return(0,t.default)(u),i.test(u)||s.test(u)||a.test(u)}r.exports=e.default,r.exports.default=e.default}(Cl,Cl.exports)),Cl.exports}var Tl={exports:{}},e6;function SW(){return e6||(e6=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var t=i(rt()),n=i(Dn());function i(l){return l&&l.__esModule?l:{default:l}}var s=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,a=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,o=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,u=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,c={checkDMS:!1};function f(l,h){if((0,t.default)(l),h=(0,n.default)(h,c),!l.includes(","))return!1;var y=l.split(",");return y[0].startsWith("(")&&!y[1].endsWith(")")||y[1].endsWith(")")&&!y[0].startsWith("(")?!1:h.checkDMS?o.test(y[0])&&u.test(y[1]):s.test(y[0])&&a.test(y[1])}r.exports=e.default,r.exports.default=e.default}(Tl,Tl.exports)),Tl.exports}var fo={},t6;function IW(){if(t6)return fo;t6=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.default=o,fo.locales=void 0;var r=e(rt());function e(u){return u&&u.__esModule?u:{default:u}}var t=/^\d{3}$/,n=/^\d{4}$/,i=/^\d{5}$/,s=/^\d{6}$/,a={AD:/^AD\d{3}$/,AT:n,AU:n,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BE:n,BG:n,BR:/^\d{5}-?\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:n,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CO:/^(05|08|11|13|15|17|18|19|20|23|25|27|41|44|47|50|52|54|63|66|68|70|73|76|81|85|86|88|91|94|95|97|99)(\d{4})$/,CZ:/^\d{3}\s?\d{2}$/,DE:i,DK:n,DO:i,DZ:i,EE:i,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:i,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:n,ID:i,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:t,IT:i,JP:/^\d{3}\-\d{4}$/,KE:i,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:n,LV:/^LV\-\d{4}$/,LK:i,MG:t,MX:i,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:i,NL:/^[1-9]\d{3}\s?(?!sa|sd|ss)[a-z]{2}$/i,NO:n,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:n,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:s,RU:s,SA:i,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:s,SI:n,SK:/^\d{3}\s?\d{2}$/,TH:i,TN:n,TW:/^\d{3}(\d{2})?$/,UA:i,US:/^\d{5}(-\d{4})?$/,ZA:n,ZM:i};fo.locales=Object.keys(a);function o(u,c){if((0,r.default)(u),c in a)return a[c].test(u);if(c==="any"){for(var f in a)if(a.hasOwnProperty(f)){var l=a[f];if(l.test(u))return!0}return!1}throw new Error("Invalid locale '".concat(c,"'"))}return fo}var Dl={exports:{}},r6;function MW(){return r6||(r6=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s),s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}r.exports=e.default,r.exports.default=e.default}(Dl,Dl.exports)),Dl.exports}var Bl={exports:{}},n6;function PW(){return n6||(n6=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s),s.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")}r.exports=e.default,r.exports.default=e.default}(Bl,Bl.exports)),Bl.exports}var Ll={exports:{}},$l={exports:{}},i6;function u7(){return i6||(i6=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,t.default)(s),s.replace(new RegExp("[".concat(a,"]+"),"g"),"")}r.exports=e.default,r.exports.default=e.default}($l,$l.exports)),$l.exports}var s6;function RW(){return s6||(s6=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(rt()),n=i(u7());function i(a){return a&&a.__esModule?a:{default:a}}function s(a,o){(0,t.default)(a);var u=o?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,n.default)(a,u)}r.exports=e.default,r.exports.default=e.default}(Ll,Ll.exports)),Ll.exports}var Fl={exports:{}},a6;function kW(){return a6||(a6=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,t.default)(s),s.replace(new RegExp("[^".concat(a,"]+"),"g"),"")}r.exports=e.default,r.exports.default=e.default}(Fl,Fl.exports)),Fl.exports}var Ul={exports:{}},o6;function NW(){return o6||(o6=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n(rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s,a){(0,t.default)(s);for(var o=s.length-1;o>=0;o--)if(a.indexOf(s[o])===-1)return!1;return!0}r.exports=e.default,r.exports.default=e.default}(Ul,Ul.exports)),Ul.exports}var ql={exports:{}},u6;function OW(){return u6||(u6=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var t=n(Dn());function n(l){return l&&l.__esModule?l:{default:l}}var i={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,yandex_convert_yandexru:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},s=["icloud.com","me.com"],a=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],o=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],u=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function c(l){return l.length>1?l:""}function f(l,h){h=(0,t.default)(h,i);var y=l.split("@"),w=y.pop(),_=y.join("@"),v=[_,w];if(v[1]=v[1].toLowerCase(),v[1]==="gmail.com"||v[1]==="googlemail.com"){if(h.gmail_remove_subaddress&&(v[0]=v[0].split("+")[0]),h.gmail_remove_dots&&(v[0]=v[0].replace(/\.+/g,c)),!v[0].length)return!1;(h.all_lowercase||h.gmail_lowercase)&&(v[0]=v[0].toLowerCase()),v[1]=h.gmail_convert_googlemaildotcom?"gmail.com":v[1]}else if(s.indexOf(v[1])>=0){if(h.icloud_remove_subaddress&&(v[0]=v[0].split("+")[0]),!v[0].length)return!1;(h.all_lowercase||h.icloud_lowercase)&&(v[0]=v[0].toLowerCase())}else if(a.indexOf(v[1])>=0){if(h.outlookdotcom_remove_subaddress&&(v[0]=v[0].split("+")[0]),!v[0].length)return!1;(h.all_lowercase||h.outlookdotcom_lowercase)&&(v[0]=v[0].toLowerCase())}else if(o.indexOf(v[1])>=0){if(h.yahoo_remove_subaddress){var S=v[0].split("-");v[0]=S.length>1?S.slice(0,-1).join("-"):S[0]}if(!v[0].length)return!1;(h.all_lowercase||h.yahoo_lowercase)&&(v[0]=v[0].toLowerCase())}else u.indexOf(v[1])>=0?((h.all_lowercase||h.yandex_lowercase)&&(v[0]=v[0].toLowerCase()),v[1]=h.yandex_convert_yandexru?"yandex.ru":v[1]):h.all_lowercase&&(v[0]=v[0].toLowerCase());return v.join("@")}r.exports=e.default,r.exports.default=e.default}(ql,ql.exports)),ql.exports}var jl={exports:{}},c6;function CW(){return c6||(c6=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;function s(a){return(0,t.default)(a),i.test(a)}r.exports=e.default,r.exports.default=e.default}(jl,jl.exports)),jl.exports}var zl={exports:{}},f6;function TW(){return f6||(f6=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}var i={"cs-CZ":function(o){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(o)},"de-DE":function(o){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|AÖ|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|BÖ|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|FÜ|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|GÖ|GP|GR|GS|GT|GÜ|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|LÖ|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|MÜ|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|NÖ|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|TÜ|ÜB|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|WÜ|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|BÜD|BUL|BÜR|BÜS|BÜZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|DÜW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FLÖ|FOR|FRG|FRI|FRW|FTL|FÜS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HMÜ|HOG|HOH|HOL|HOM|HOR|HÖS|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|JÜL|KEH|KEL|KEM|KIB|KLE|KLZ|KÖN|KÖT|KÖZ|KRU|KÜN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|LÖB|LOS|LRO|LSZ|LÜN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|MÜB|MÜR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|ÖHR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PLÖ|PRÜ|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|RÜD|RÜG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SLÜ|SLZ|SMÜ|SOB|SOG|SOK|SÖM|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|SÜW|SWA|SZB|TBB|TDO|TET|TIR|TÖL|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|WÜM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(o)},"de-LI":function(o){return/^FL[- ]?\d{1,5}[UZ]?$/.test(o)},"en-IN":function(o){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(o)},"en-SG":function(o){return/^[A-Z]{3}[ -]?[\d]{4}[ -]?[A-Z]{1}$/.test(o)},"es-AR":function(o){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(o)},"fi-FI":function(o){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(o)},"hu-HU":function(o){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(o)},"pt-BR":function(o){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(o)},"pt-PT":function(o){return/^([A-Z]{2}|[0-9]{2})[ -·]?([A-Z]{2}|[0-9]{2})[ -·]?([A-Z]{2}|[0-9]{2})$/.test(o)},"sq-AL":function(o){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(o)},"sv-SE":function(o){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-ZÅÄÖ ]{2,7}$)/.test(o.trim())},"en-PK":function(o){return/(^[A-Z]{2}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{3}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{4}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]((\s|-){0,1})[0-9]{4}((\s|-)[0-9]{2}){0,1}$)/.test(o.trim())}};function s(a,o){if((0,t.default)(a),o in i)return i[o](a);if(o==="any"){for(var u in i){var c=i[u];if(c(a))return!0}return!1}throw new Error("Invalid locale '".concat(o,"'"))}r.exports=e.default,r.exports.default=e.default}(zl,zl.exports)),zl.exports}var Wl={exports:{}},l6;function DW(){return l6||(l6=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var t=i(Dn()),n=i(rt());function i(w){return w&&w.__esModule?w:{default:w}}var s=/^[A-Z]$/,a=/^[a-z]$/,o=/^[0-9]$/,u=/^[-#!$@£%^&*()_+|~=`{}\[\]:";'<>?,.\/\\ ]$/,c={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function f(w){var _={};return Array.from(w).forEach(function(v){var S=_[v];S?_[v]+=1:_[v]=1}),_}function l(w){var _=f(w),v={length:w.length,uniqueChars:Object.keys(_).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(_).forEach(function(S){s.test(S)?v.uppercaseCount+=_[S]:a.test(S)?v.lowercaseCount+=_[S]:o.test(S)?v.numberCount+=_[S]:u.test(S)&&(v.symbolCount+=_[S])}),v}function h(w,_){var v=0;return v+=w.uniqueChars*_.pointsPerUnique,v+=(w.length-w.uniqueChars)*_.pointsPerRepeat,w.lowercaseCount>0&&(v+=_.pointsForContainingLower),w.uppercaseCount>0&&(v+=_.pointsForContainingUpper),w.numberCount>0&&(v+=_.pointsForContainingNumber),w.symbolCount>0&&(v+=_.pointsForContainingSymbol),v}function y(w){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;(0,n.default)(w);var v=l(w);return _=(0,t.default)(_||{},c),_.returnScore?h(v,_):v.length>=_.minLength&&v.lowercaseCount>=_.minLowercase&&v.uppercaseCount>=_.minUppercase&&v.numberCount>=_.minNumbers&&v.symbolCount>=_.minSymbols}r.exports=e.default,r.exports.default=e.default}(Wl,Wl.exports)),Wl.exports}var lo={},d6;function BW(){if(d6)return lo;d6=1;function r(l){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r(l)}Object.defineProperty(lo,"__esModule",{value:!0}),lo.default=f,lo.vatMatchers=void 0;var e=s(rt()),t=i(i7());function n(l){if(typeof WeakMap!="function")return null;var h=new WeakMap,y=new WeakMap;return(n=function(_){return _?y:h})(l)}function i(l,h){if(l&&l.__esModule)return l;if(l===null||r(l)!="object"&&typeof l!="function")return{default:l};var y=n(h);if(y&&y.has(l))return y.get(l);var w={__proto__:null},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&{}.hasOwnProperty.call(l,v)){var S=_?Object.getOwnPropertyDescriptor(l,v):null;S&&(S.get||S.set)?Object.defineProperty(w,v,S):w[v]=l[v]}return w.default=l,y&&y.set(l,w),w}function s(l){return l&&l.__esModule?l:{default:l}}var a=function(h){var y=h.match(/^(AU)?(\d{11})$/);if(!y)return!1;var w=[10,1,3,5,7,9,11,13,15,17,19];h=h.replace(/^AU/,"");for(var _=(parseInt(h.slice(0,1),10)-1).toString()+h.slice(1),v=0,S=0;S<11;S++)v+=w[S]*_.charAt(S);return v!==0&&v%89===0},o=function(h){var y=function(_){var v=_.pop(),S=[5,4,3,2,7,6,5,4],k=(11-_.reduce(function(C,$,W){return C+$*S[W]},0)%11)%11;return v===k};return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(h)&&y(h.match(/\d/g).map(function(w){return+w}))},u=function(h){var y=h.match(/^(PT)?(\d{9})$/);if(!y)return!1;var w=y[2],_=11-t.reverseMultiplyAndSum(w.split("").slice(0,8).map(function(v){return parseInt(v,10)}),9)%11;return _>9?parseInt(w[8],10)===0:_===parseInt(w[8],10)},c=lo.vatMatchers={AT:function(h){return/^(AT)?U\d{8}$/.test(h)},BE:function(h){return/^(BE)?\d{10}$/.test(h)},BG:function(h){return/^(BG)?\d{9,10}$/.test(h)},HR:function(h){return/^(HR)?\d{11}$/.test(h)},CY:function(h){return/^(CY)?\w{9}$/.test(h)},CZ:function(h){return/^(CZ)?\d{8,10}$/.test(h)},DK:function(h){return/^(DK)?\d{8}$/.test(h)},EE:function(h){return/^(EE)?\d{9}$/.test(h)},FI:function(h){return/^(FI)?\d{8}$/.test(h)},FR:function(h){return/^(FR)?\w{2}\d{9}$/.test(h)},DE:function(h){return/^(DE)?\d{9}$/.test(h)},EL:function(h){return/^(EL)?\d{9}$/.test(h)},HU:function(h){return/^(HU)?\d{8}$/.test(h)},IE:function(h){return/^(IE)?\d{7}\w{1}(W)?$/.test(h)},IT:function(h){return/^(IT)?\d{11}$/.test(h)},LV:function(h){return/^(LV)?\d{11}$/.test(h)},LT:function(h){return/^(LT)?\d{9,12}$/.test(h)},LU:function(h){return/^(LU)?\d{8}$/.test(h)},MT:function(h){return/^(MT)?\d{8}$/.test(h)},NL:function(h){return/^(NL)?\d{9}B\d{2}$/.test(h)},PL:function(h){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(h)},PT:u,RO:function(h){return/^(RO)?\d{2,10}$/.test(h)},SK:function(h){return/^(SK)?\d{10}$/.test(h)},SI:function(h){return/^(SI)?\d{8}$/.test(h)},ES:function(h){return/^(ES)?\w\d{7}[A-Z]$/.test(h)},SE:function(h){return/^(SE)?\d{12}$/.test(h)},AL:function(h){return/^(AL)?\w{9}[A-Z]$/.test(h)},MK:function(h){return/^(MK)?\d{13}$/.test(h)},AU:a,BY:function(h){return/^(УНП )?\d{9}$/.test(h)},CA:function(h){return/^(CA)?\d{9}$/.test(h)},IS:function(h){return/^(IS)?\d{5,6}$/.test(h)},IN:function(h){return/^(IN)?\d{15}$/.test(h)},ID:function(h){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(h)},IL:function(h){return/^(IL)?\d{9}$/.test(h)},KZ:function(h){return/^(KZ)?\d{12}$/.test(h)},NZ:function(h){return/^(NZ)?\d{9}$/.test(h)},NG:function(h){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(h)},NO:function(h){return/^(NO)?\d{9}MVA$/.test(h)},PH:function(h){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(h)},RU:function(h){return/^(RU)?(\d{10}|\d{12})$/.test(h)},SM:function(h){return/^(SM)?\d{5}$/.test(h)},SA:function(h){return/^(SA)?\d{15}$/.test(h)},RS:function(h){return/^(RS)?\d{9}$/.test(h)},CH:o,TR:function(h){return/^(TR)?\d{10}$/.test(h)},UA:function(h){return/^(UA)?\d{12}$/.test(h)},GB:function(h){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(h)},UZ:function(h){return/^(UZ)?\d{9}$/.test(h)},AR:function(h){return/^(AR)?\d{11}$/.test(h)},BO:function(h){return/^(BO)?\d{7}$/.test(h)},BR:function(h){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(h)},CL:function(h){return/^(CL)?\d{8}-\d{1}$/.test(h)},CO:function(h){return/^(CO)?\d{10}$/.test(h)},CR:function(h){return/^(CR)?\d{9,12}$/.test(h)},EC:function(h){return/^(EC)?\d{13}$/.test(h)},SV:function(h){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(h)},GT:function(h){return/^(GT)?\d{7}-\d{1}$/.test(h)},HN:function(h){return/^(HN)?$/.test(h)},MX:function(h){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(h)},NI:function(h){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(h)},PA:function(h){return/^(PA)?$/.test(h)},PY:function(h){return/^(PY)?\d{6,8}-\d{1}$/.test(h)},PE:function(h){return/^(PE)?\d{11}$/.test(h)},DO:function(h){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(h)},UY:function(h){return/^(UY)?\d{12}$/.test(h)},VE:function(h){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(h)}};function f(l,h){if((0,e.default)(l),(0,e.default)(h),h in c)return c[h](l);throw new Error("Invalid country code: '".concat(h,"'"))}return lo}var h6;function LW(){return h6||(h6=1,function(r,e){function t(Je){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(at){return typeof at}:function(at){return at&&typeof Symbol=="function"&&at.constructor===Symbol&&at!==Symbol.prototype?"symbol":typeof at},t(Je)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=le(pb()),i=le(H9()),s=le(az()),a=le(oz()),o=le(uz()),u=le(cz()),c=le(fz()),f=le(J9()),l=le(lz()),h=le(dz()),y=le(p0()),w=le(hz()),_=le(gb()),v=le(Y9()),S=le(pz()),k=le(gz()),C=le(bz()),$=le(mz()),W=be(vz()),X=be(yz()),ae=le(xz()),ee=be(wz()),Q=le(Az()),fe=le(_z()),j=le(Ez()),g=le(Sz()),b=le(Iz()),d=le(Q9()),p=le(X9()),A=le(Mz()),M=le(Pz()),N=le(kz()),I=le(Nz()),m=le(bb()),x=be(K9()),E=le(Cz()),D=le(e7()),z=le(Tz()),P=le(Dz()),de=le(Bz()),Pe=le(Lz()),Me=le($z()),Oe=le(Fz()),K=be(Uz()),te=le(qz()),re=le(jz()),we=le(zz()),ge=le(Wz()),xe=le(Kz()),$e=le(Hz()),Ae=le(Vz()),F=le(Z9()),G=le(Gz()),ne=le(Zz()),ye=le(Jz()),Ne=le(Yz()),ke=le(Qz()),Ke=le(Xz()),Ze=le(n7()),nt=le(eW()),U=le(tW()),R=le(rW()),O=le(nW()),oe=le(iW()),Ie=le(sW()),Le=le(aW()),Ue=be(oW()),ct=le(uW()),gt=le(cW()),it=le(fW()),ot=lW(),bt=le(dW()),mt=le(hW()),$t=le(pW()),Ft=le(gW()),It=le(t7()),yt=le(bW()),Ct=le(mW()),wt=le(vW()),At=le(yW()),Qt=le(xW()),Mt=le(r7()),kt=le(wW()),Xt=le(AW()),Pt=le(_W()),er=le(EW()),Wt=le(SW()),Et=be(IW()),Kt=le(a7()),tr=le(s7()),St=le(o7()),Ht=le(MW()),qt=le(PW()),_t=le(RW()),rr=le(kW()),Vt=le(u7()),Gt=le(NW()),Gr=le(OW()),Zr=le(CW()),$r=le(TW()),zr=le(DW()),kr=le(BW());function un(Je){if(typeof WeakMap!="function")return null;var at=new WeakMap,pt=new WeakMap;return(un=function(Nt){return Nt?pt:at})(Je)}function be(Je,at){if(Je&&Je.__esModule)return Je;if(Je===null||t(Je)!="object"&&typeof Je!="function")return{default:Je};var pt=un(at);if(pt&&pt.has(Je))return pt.get(Je);var xt={__proto__:null},Nt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var fr in Je)if(fr!=="default"&&{}.hasOwnProperty.call(Je,fr)){var Er=Nt?Object.getOwnPropertyDescriptor(Je,fr):null;Er&&(Er.get||Er.set)?Object.defineProperty(xt,fr,Er):xt[fr]=Je[fr]}return xt.default=Je,pt&&pt.set(Je,xt),xt}function le(Je){return Je&&Je.__esModule?Je:{default:Je}}var je="13.15.0",Qe={version:je,toDate:n.default,toFloat:i.default,toInt:s.default,toBoolean:a.default,equals:o.default,contains:u.default,matches:c.default,isEmail:f.default,isURL:l.default,isMACAddress:h.default,isIP:y.default,isIPRange:w.default,isFQDN:_.default,isBoolean:k.default,isIBAN:K.default,isBIC:te.default,isAbaRouting:$.default,isAlpha:W.default,isAlphaLocales:W.locales,isAlphanumeric:X.default,isAlphanumericLocales:X.locales,isNumeric:ae.default,isPassportNumber:ee.default,passportNumberLocales:ee.locales,isPort:Q.default,isLowercase:fe.default,isUppercase:j.default,isAscii:b.default,isFullWidth:d.default,isHalfWidth:p.default,isVariableWidth:A.default,isMultibyte:M.default,isSemVer:N.default,isSurrogatePair:I.default,isInt:m.default,isIMEI:g.default,isFloat:x.default,isFloatLocales:x.locales,isDecimal:E.default,isHexadecimal:D.default,isOctal:z.default,isDivisibleBy:P.default,isHexColor:de.default,isRgbColor:Pe.default,isHSL:Me.default,isISRC:Oe.default,isMD5:re.default,isHash:we.default,isJWT:ge.default,isJSON:xe.default,isEmpty:$e.default,isLength:Ae.default,isLocale:C.default,isByteLength:F.default,isULID:G.default,isUUID:ne.default,isMongoId:ye.default,isAfter:Ne.default,isBefore:ke.default,isIn:Ke.default,isLuhnNumber:Ze.default,isCreditCard:nt.default,isIdentityCard:U.default,isEAN:R.default,isISIN:O.default,isISBN:oe.default,isISSN:Ie.default,isMobilePhone:Ue.default,isMobilePhoneLocales:Ue.locales,isPostalCode:Et.default,isPostalCodeLocales:Et.locales,isEthereumAddress:ct.default,isCurrency:gt.default,isBtcAddress:it.default,isISO6346:ot.isISO6346,isFreightContainerID:ot.isFreightContainerID,isISO6391:bt.default,isISO8601:mt.default,isISO15924:Ft.default,isRFC3339:$t.default,isISO31661Alpha2:It.default,isISO31661Alpha3:yt.default,isISO31661Numeric:Ct.default,isISO4217:wt.default,isBase32:At.default,isBase58:Qt.default,isBase64:Mt.default,isDataURI:kt.default,isMagnetURI:Xt.default,isMailtoURI:Pt.default,isMimeType:er.default,isLatLong:Wt.default,ltrim:Kt.default,rtrim:tr.default,trim:St.default,escape:Ht.default,unescape:qt.default,stripLow:_t.default,whitelist:rr.default,blacklist:Vt.default,isWhitelisted:Gt.default,normalizeEmail:Gr.default,toString,isSlug:Zr.default,isStrongPassword:zr.default,isTaxID:Le.default,isDate:v.default,isTime:S.default,isLicensePlate:$r.default,isVAT:kr.default,ibanLocales:K.locales};e.default=Qe,r.exports=e.default,r.exports.default=e.default}(rf,rf.exports)),rf.exports}var Xp={exports:{}},p6;function $W(){return p6||(p6=1,function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function s(u,c,f,l,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,l||u,h),w=t?t+c:c;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],y]:u._events[w].push(y):(u._events[w]=y,u._eventsCount++),u}function a(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,l;if(this._eventsCount===0)return c;for(l in f=this._events)e.call(f,l)&&c.push(t?l.slice(1):l);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=t?t+c:c,l=this._events[f];if(!l)return[];if(l.fn)return[l.fn];for(var h=0,y=l.length,w=new Array(y);h<y;h++)w[h]=l[h].fn;return w},o.prototype.listenerCount=function(c){var f=t?t+c:c,l=this._events[f];return l?l.fn?1:l.length:0},o.prototype.emit=function(c,f,l,h,y,w){var _=t?t+c:c;if(!this._events[_])return!1;var v=this._events[_],S=arguments.length,k,C;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),S){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,l),!0;case 4:return v.fn.call(v.context,f,l,h),!0;case 5:return v.fn.call(v.context,f,l,h,y),!0;case 6:return v.fn.call(v.context,f,l,h,y,w),!0}for(C=1,k=new Array(S-1);C<S;C++)k[C-1]=arguments[C];v.fn.apply(v.context,k)}else{var $=v.length,W;for(C=0;C<$;C++)switch(v[C].once&&this.removeListener(c,v[C].fn,void 0,!0),S){case 1:v[C].fn.call(v[C].context);break;case 2:v[C].fn.call(v[C].context,f);break;case 3:v[C].fn.call(v[C].context,f,l);break;case 4:v[C].fn.call(v[C].context,f,l,h);break;default:if(!k)for(W=1,k=new Array(S-1);W<S;W++)k[W-1]=arguments[W];v[C].fn.apply(v[C].context,k)}}return!0},o.prototype.on=function(c,f,l){return s(this,c,f,l,!1)},o.prototype.once=function(c,f,l){return s(this,c,f,l,!0)},o.prototype.removeListener=function(c,f,l,h){var y=t?t+c:c;if(!this._events[y])return this;if(!f)return a(this,y),this;var w=this._events[y];if(w.fn)w.fn===f&&(!h||w.once)&&(!l||w.context===l)&&a(this,y);else{for(var _=0,v=[],S=w.length;_<S;_++)(w[_].fn!==f||h&&!w[_].once||l&&w[_].context!==l)&&v.push(w[_]);v.length?this._events[y]=v.length===1?v[0]:v:a(this,y)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=t?t+c:c,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,r.exports=o}(Xp)),Xp.exports}var FW=function(r){var e={};function t(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return r[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=r,t.c=e,t.d=function(n,i,s){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:s})},t.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){if(1&i&&(n=t(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var a in n)t.d(s,a,(function(o){return n[o]}).bind(null,a));return s},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},t.p="",t(t.s=28)}([function(r,e){r.exports=jL()},function(r,e){r.exports=zL()},function(r,e){r.exports=WL()},function(r,e){r.exports=HL()},function(r,e){r.exports=VL()},function(r,e){r.exports=aj},function(r,e){r.exports=oj},function(r,e){r.exports=uj()},function(r,e){r.exports=pc()},function(r,e){r.exports=dj()},function(r,e){r.exports=hj},function(r,e){r.exports=mj()},function(r,e){r.exports=vj},function(r,e){r.exports=yj()},function(r,e){r.exports=O9()},function(r,e){r.exports=xj},function(r,e){r.exports=wj()},function(r,e){r.exports=Dj()},function(r,e){r.exports=Bj()},function(r,e){r.exports=$j()},function(r,e){r.exports=Fj()},function(r,e){r.exports=nz()},function(r,e){r.exports=iz},function(r,e){r.exports=sz},function(r,e){r.exports=LW()},function(r,e){r.exports=$W()},function(r){r.exports=JSON.parse('{"a":"4.4.0"}')},function(r,e){r.exports=Yd},function(r,e,t){t.r(e),t.d(e,"default",function(){return ar});var n={};t.r(n),t.d(n,"byte2hexStr",function(){return N}),t.d(n,"bytesToString",function(){return I}),t.d(n,"hextoString",function(){return m}),t.d(n,"byteArray2hexStr",function(){return x}),t.d(n,"base64DecodeFromString",function(){return E}),t.d(n,"base64EncodeToString",function(){return D});var i={};t.r(i),t.d(i,"bin2String",function(){return Pe}),t.d(i,"arrayEquals",function(){return Me}),t.d(i,"stringToBytes",function(){return Oe}),t.d(i,"byte2hexStr",function(){return N}),t.d(i,"bytesToString",function(){return I}),t.d(i,"hextoString",function(){return m}),t.d(i,"byteArray2hexStr",function(){return x}),t.d(i,"base64DecodeFromString",function(){return E}),t.d(i,"base64EncodeToString",function(){return D}),t.d(i,"hexChar2byte",function(){return K}),t.d(i,"isHexChar",function(){return te}),t.d(i,"hexStr2byteArray",function(){return re}),t.d(i,"strToDate",function(){return we}),t.d(i,"isNumber",function(){return ge}),t.d(i,"getStringType",function(){return xe});var s={};t.r(s),t.d(s,"encode58",function(){return G}),t.d(s,"decode58",function(){return ne});var a={};t.r(a),t.d(a,"keccak256",function(){return ke}),t.d(a,"sha256",function(){return Ke}),t.d(a,"toUtf8Bytes",function(){return Ze}),t.d(a,"toUtf8String",function(){return nt}),t.d(a,"recoverAddress",function(){return U}),t.d(a,"SigningKey",function(){return R}),t.d(a,"AbiCoder",function(){return O}),t.d(a,"Interface",function(){return oe}),t.d(a,"FormatTypes",function(){return Ie}),t.d(a,"splitSignature",function(){return Ue}),t.d(a,"joinSignature",function(){return ct}),t.d(a,"arrayify",function(){return Le}),t.d(a,"ethersWallet",function(){return Ne.Wallet}),t.d(a,"concat",function(){return gt}),t.d(a,"id",function(){return it}),t.d(a,"isValidMnemonic",function(){return ot});var o={};t.r(o),t.d(o,"getBase58CheckAddress",function(){return _t}),t.d(o,"decodeBase58Address",function(){return rr}),t.d(o,"signTransaction",function(){return Vt}),t.d(o,"arrayToBase64String",function(){return Gt}),t.d(o,"signBytes",function(){return Gr}),t.d(o,"_signTypedData",function(){return Zr}),t.d(o,"getRowBytesFromTransactionBase64",function(){return $r}),t.d(o,"genPriKey",function(){return zr}),t.d(o,"computeAddress",function(){return kr}),t.d(o,"getAddressFromPriKey",function(){return un}),t.d(o,"decode58Check",function(){return be}),t.d(o,"isAddressValid",function(){return le}),t.d(o,"getBase58CheckAddressFromPriKeyBase64String",function(){return je}),t.d(o,"getHexStrAddressFromPriKeyBase64String",function(){return Qe}),t.d(o,"getAddressFromPriKeyBase64String",function(){return Je}),t.d(o,"getPubKeyFromPriKey",function(){return at}),t.d(o,"ECKeySign",function(){return pt}),t.d(o,"SHA256",function(){return xt}),t.d(o,"passwordToAddress",function(){return Nt}),t.d(o,"pkToAddress",function(){return fr});var u={};t.r(u),t.d(u,"generateAccount",function(){return Er}),t.d(u,"generateRandom",function(){return Jr}),t.d(u,"generateAccountWithMnemonic",function(){return Wr});var c={};t.r(c),t.d(c,"decodeParams",function(){return l7}),t.d(c,"encodeParams",function(){return d7}),t.d(c,"encodeParamsV2ByABI",function(){return wc}),t.d(c,"decodeParamsV2ByABI",function(){return wb});var f={};t.r(f),t.d(f,"TRON_MESSAGE_PREFIX",function(){return Ab}),t.d(f,"hashMessage",function(){return b0}),t.d(f,"signMessage",function(){return h7}),t.d(f,"verifyMessage",function(){return p7});var l=t(1),h=t.n(l),y=t(8),w=t.n(y),_=t(2),v=t.n(_),S=t(3),k=t.n(S),C=t(14),$=t.n(C),W=t(19),X=t.n(W),ae=t(20),ee=t.n(ae),Q=t(18),fe=t.n(Q),j=t(4),g=t.n(j),b=t(0),d=t.n(b),p=t(21),A=t.n(p);function M(){var q=this;this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this.encode=function(H){for(var ie,pe,_e,V,T,B,L,Z="",se=0;se<H.length;)V=(ie=H.charCodeAt(se++))>>2,T=(3&ie)<<4|(pe=H.charCodeAt(se++))>>4,B=(15&pe)<<2|(_e=H.charCodeAt(se++))>>6,L=63&_e,isNaN(pe)?B=L=64:isNaN(_e)&&(L=64),Z=Z+q._keyStr.charAt(V)+q._keyStr.charAt(T)+q._keyStr.charAt(B)+q._keyStr.charAt(L);return Z},this.encodeIgnoreUtf8=function(H){for(var ie,pe,_e,V,T,B,L,Z="",se=0;se<H.length;)V=(ie=H[se++])>>2,T=(3&ie)<<4|(pe=H[se++])>>4,B=(15&pe)<<2|(_e=H[se++])>>6,L=63&_e,isNaN(pe)?B=L=64:isNaN(_e)&&(L=64),Z=Z+q._keyStr.charAt(V)+q._keyStr.charAt(T)+q._keyStr.charAt(B)+q._keyStr.charAt(L);return Z},this.decode=function(H){var ie,pe,_e,V,T,B,L="",Z=0;for(H=H.replace(/[^A-Za-z0-9\+\/\=]/g,"");Z<H.length;)ie=q._keyStr.indexOf(H.charAt(Z++))<<2|(V=q._keyStr.indexOf(H.charAt(Z++)))>>4,pe=(15&V)<<4|(T=q._keyStr.indexOf(H.charAt(Z++)))>>2,_e=(3&T)<<6|(B=q._keyStr.indexOf(H.charAt(Z++))),L+=String.fromCharCode(ie),T!=64&&(L+=String.fromCharCode(pe)),B!=64&&(L+=String.fromCharCode(_e));return q._utf8_decode(L)},this.decodeToByteArray=function(H){var ie,pe,_e,V,T,B,L="",Z=0;for(H=H.replace(/[^A-Za-z0-9\+\/\=]/g,"");Z<H.length;)ie=q._keyStr.indexOf(H.charAt(Z++))<<2|(V=q._keyStr.indexOf(H.charAt(Z++)))>>4,pe=(15&V)<<4|(T=q._keyStr.indexOf(H.charAt(Z++)))>>2,_e=(3&T)<<6|(B=q._keyStr.indexOf(H.charAt(Z++))),L+=String.fromCharCode(ie),T!=64&&(L+=String.fromCharCode(pe)),B!=64&&(L+=String.fromCharCode(_e));return q._out2ByteArray(L)},this._out2ByteArray=function(H){for(var ie=new Array(H.length),pe=0,_e=0;pe<H.length;)_e=H.charCodeAt(pe),ie[pe]=_e,pe++;return ie},this._utf8_encode=function(H){H=H.replace(/\r\n/g,`
`);for(var ie="",pe=0;pe<H.length;pe++){var _e=H.charCodeAt(pe);_e<128?ie+=String.fromCharCode(_e):_e>127&&_e<2048?(ie+=String.fromCharCode(_e>>6|192),ie+=String.fromCharCode(63&_e|128)):(ie+=String.fromCharCode(_e>>12|224),ie+=String.fromCharCode(_e>>6&63|128),ie+=String.fromCharCode(63&_e|128))}return ie},this._utf8_decode=function(H){for(var ie="",pe=0,_e=0,V=0,T=0;pe<H.length;)(_e=H.charCodeAt(pe))<128?(ie+=String.fromCharCode(_e),pe++):_e>191&&_e<224?(V=H.charCodeAt(pe+1),ie+=String.fromCharCode((31&_e)<<6|63&V),pe+=2):(V=H.charCodeAt(pe+1),T=H.charCodeAt(pe+2),ie+=String.fromCharCode((15&_e)<<12|(63&V)<<6|63&T),pe+=3);return ie}}function N(q){if(typeof q!="number")throw new Error("Input must be a number");if(q<0||q>255)throw new Error("Input must be a byte");var H="";return H+="0123456789ABCDEF".charAt(q>>4),H+="0123456789ABCDEF".charAt(15&q)}function I(q){if(typeof q=="string")return q;for(var H="",ie=0;ie<q.length;ie++){var pe=q[ie].toString(2),_e=pe.match(/^1+?(?=0)/);if(_e&&pe.length===8){for(var V=_e[0].length,T=q[ie].toString(2).slice(7-V),B=1;B<V;B++)T+=q[B+ie].toString(2).slice(2);H+=String.fromCharCode(parseInt(T,2)),ie+=V-1}else H+=String.fromCharCode(q[ie])}return H}function m(q){for(var H=q.replace(/^0x/,"").split(""),ie="",pe=0;pe<H.length/2;pe++){var _e="0x".concat(H[2*pe]).concat(H[2*pe+1]);ie+=String.fromCharCode(_e)}return ie}function x(q){for(var H="",ie=0;ie<q.length;ie++)H+=N(q[ie]);return H}function E(q){return new M().decodeToByteArray(q)}function D(q){return new M().encodeIgnoreUtf8(q)}var z=t(9),P=t.n(z),de=/^(41)/;function Pe(q){return I(q)}function Me(q,H,ie){if(q.length!=H.length)return!1;var pe;for(pe=0;pe<q.length;pe++)if(ie){if(q[pe]!=H[pe])return!1}else if(JSON.stringify(q[pe])!=JSON.stringify(H[pe]))return!1;return!0}function Oe(q){if(typeof q!="string")throw new Error("The passed string is not a string");var H,ie,pe=new Array;H=q.length;for(var _e=0;_e<H;_e++)(ie=q.charCodeAt(_e))>=65536&&ie<=1114111?(pe.push(ie>>18&7|240),pe.push(ie>>12&63|128),pe.push(ie>>6&63|128),pe.push(63&ie|128)):ie>=2048&&ie<=65535?(pe.push(ie>>12&15|224),pe.push(ie>>6&63|128),pe.push(63&ie|128)):ie>=128&&ie<=2047?(pe.push(ie>>6&31|192),pe.push(63&ie|128)):pe.push(255&ie);return pe}function K(q){var H;if(q>="A"&&q<="F"?H=q.charCodeAt(0)-65+10:q>="a"&&q<="f"?H=q.charCodeAt(0)-97+10:q>="0"&&q<="9"&&(H=q.charCodeAt(0)-48),typeof H=="number")return H;throw new Error("The passed hex char is not a valid hex char")}function te(q){return q>="A"&&q<="F"||q>="a"&&q<="f"||q>="0"&&q<="9"?1:0}function re(q){var H=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof q!="string")throw new Error("The passed string is not a string");var ie=q.length;H&&ie%2&&(q="0".concat(q),ie++);for(var pe=Array(),_e=0,V=0,T=0,B=0;B<ie;B++){var L=q.charAt(B);if(!te(L))throw new Error("The passed hex char is not a valid hex string");_e<<=4,_e+=K(L),++V%2==0&&(pe[T++]=_e,_e=0)}return pe}function we(q){if(!/^\d{4}-\d{2}-\d{2}( \d{2}-\d{2}-\d{2}|)/.test(q))throw new Error("The passed date string is not valid");var H=q.split(" "),ie=H[0].split("-"),pe=parseInt(ie[0],10),_e=parseInt(ie[1],10)-1,V=parseInt(ie[2],10);if(H.length>1){var T=H[1].split("-"),B=parseInt(T[0],10),L=parseInt(T[1],10),Z=parseInt(T[2],10);return new Date(pe,_e,V,B,L,Z)}return new Date(pe,_e,V)}function ge(q){return q>="0"&&q<="9"?1:0}function xe(q){if(q==null||typeof q!="string"||q.length==0||q=="")return-1;var H=0;if(q.length==40)for(;H<40&&te(q.charAt(H));H++);if(H==40)return 1;for(H=0;H<q.length&&ge(q.charAt(H));H++);if(H==q.length)return 2;for(H=0;H<q.length;H++)if(q.charAt(H)>" ")return 3;return-1}for(var $e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Ae={},F=0;F<$e.length;F++)Ae[$e.charAt(F)]=F;function G(q){if(q.length===0)return"";var H,ie,pe=[0];for(H=0;H<q.length;H++){for(ie=0;ie<pe.length;ie++)pe[ie]<<=8;pe[0]+=q[H];var _e=0;for(ie=0;ie<pe.length;++ie)pe[ie]+=_e,_e=pe[ie]/58|0,pe[ie]%=58;for(;_e;)pe.push(_e%58),_e=_e/58|0}for(H=0;q[H]===0&&H<q.length-1;H++)pe.push(0);return pe.reverse().map(function(V){return $e[V]}).join("")}function ne(q){if(q.length===0)return[];var H,ie,pe=[0];for(H=0;H<q.length;H++){var _e=q[H];if(!(_e in Ae))throw new Error("Non-base58 character");for(ie=0;ie<pe.length;ie++)pe[ie]*=58;pe[0]+=Ae[_e];var V=0;for(ie=0;ie<pe.length;++ie)pe[ie]+=V,V=pe[ie]>>8,pe[ie]&=255;for(;V;)pe.push(255&V),V>>=8}for(H=0;q[H]==="1"&&H<q.length-1;H++)pe.push(0);return pe.reverse()}var ye=t(17),Ne=t(5),ke=Ne.utils.keccak256,Ke=Ne.utils.sha256,Ze=Ne.utils.toUtf8Bytes,nt=Ne.utils.toUtf8String,U=Ne.utils.recoverAddress,R=Ne.utils.SigningKey,O=Ne.utils.AbiCoder,oe=Ne.utils.Interface,Ie=Ne.utils.FormatTypes,Le=Ne.utils.arrayify,Ue=Ne.utils.splitSignature,ct=Ne.utils.joinSignature,gt=Ne.utils.concat,it=Ne.utils.id,ot=Ne.utils.isValidMnemonic,bt=t(10),mt=t(6),$t=t(12),Ft=t(15),It=t(22),yt=new(t(23)).Logger("tronweb/hash/5.4.0");function Ct(q){return ar.address.toHex(q)}function wt(q){return Object($t.keccak256)(Object(It.toUtf8Bytes)(q))}var At=new Uint8Array(32);At.fill(0);var Qt=bt.BigNumber.from(-1),Mt=bt.BigNumber.from(0),kt=bt.BigNumber.from(1),Xt=bt.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Pt=Object(mt.hexZeroPad)(kt.toHexString(),32),er=Object(mt.hexZeroPad)(Mt.toHexString(),32),Wt={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Et=["name","version","chainId","verifyingContract","salt"];function Kt(q){return function(H){return typeof H!="string"&&yt.throwArgumentError("invalid domain value for ".concat(JSON.stringify(q)),"domain.".concat(q),H),H}}var tr={name:Kt("name"),version:Kt("version"),chainId:function(q){try{return bt.BigNumber.from(q).toString()}catch{}return yt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",q)},verifyingContract:function(q){try{return Ct(q).toLowerCase()}catch{}return yt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",q)},salt:function(q){try{var H=Object(mt.arrayify)(q);if(H.length!==32)throw new Error("bad length");return Object(mt.hexlify)(H)}catch{}return yt.throwArgumentError('invalid domain value "salt"',"domain.salt",q)}};function St(q){var H=q.match(/^(u?)int(\d*)$/);if(H){var ie=H[1]==="",pe=parseInt(H[2]||"256");(pe%8!=0||pe>256||H[2]&&H[2]!==String(pe))&&yt.throwArgumentError("invalid numeric width","type",q);var _e=Xt.mask(ie?pe-1:pe),V=ie?_e.add(kt).mul(Qt):Mt;return function(L){var Z=bt.BigNumber.from(L);return(Z.lt(V)||Z.gt(_e))&&yt.throwArgumentError("value out-of-bounds for ".concat(q),"value",L),Object(mt.hexZeroPad)(Z.toTwos(256).toHexString(),32)}}var T=q.match(/^bytes(\d+)$/);if(T){var B=parseInt(T[1]);return(B===0||B>32||T[1]!==String(B))&&yt.throwArgumentError("invalid bytes width","type",q),function(L){return Object(mt.arrayify)(L).length!==B&&yt.throwArgumentError("invalid length for ".concat(q),"value",L),function(Z){var se=Object(mt.arrayify)(Z),De=se.length%32;return De?Object(mt.hexConcat)([se,At.slice(De)]):Object(mt.hexlify)(se)}(L)}}switch(q){case"trcToken":return St("uint256");case"address":return function(L){return Object(mt.hexZeroPad)((Z=L,ar.address.toHex(Z).replace(de,"0x")),32);var Z};case"bool":return function(L){return L?Pt:er};case"bytes":return function(L){return Object($t.keccak256)(L)};case"string":return function(L){return wt(L)}}return null}function Ht(q,H){return"".concat(q,"(").concat(H.map(function(ie){var pe=ie.name;return ie.type+" "+pe}).join(","),")")}var qt=function(){function q(H){v()(this,q),Object(Ft.defineReadOnly)(this,"types",Object.freeze(Object(Ft.deepCopy)(H))),Object(Ft.defineReadOnly)(this,"_encoderCache",{}),Object(Ft.defineReadOnly)(this,"_types",{});var ie={},pe={},_e={};Object.keys(H).forEach(function(se){ie[se]={},pe[se]=[],_e[se]={}});var V=function(se){var De={};H[se].forEach(function(We){De[We.name]&&yt.throwArgumentError("duplicate variable name ".concat(JSON.stringify(We.name)," in ").concat(JSON.stringify(se)),"types",H),De[We.name]=!0;var He=We.type.match(/^([^\x5b]*)(\x5b|$)/)[1];He===se&&yt.throwArgumentError("circular type reference to ".concat(JSON.stringify(He)),"types",H),St(He)||(pe[He]||yt.throwArgumentError("unknown type ".concat(JSON.stringify(He)),"types",H),pe[He].push(se),ie[se][He]=!0)})};for(var T in H)V(T);var B=Object.keys(pe).filter(function(se){return pe[se].length===0});for(var L in B.length===0?yt.throwArgumentError("missing primary type","types",H):B.length>1&&yt.throwArgumentError("ambiguous primary types or unused types: ".concat(B.map(function(se){return JSON.stringify(se)}).join(", ")),"types",H),Object(Ft.defineReadOnly)(this,"primaryType",B[0]),function se(De,We){We[De]&&yt.throwArgumentError("circular type reference to ".concat(JSON.stringify(De)),"types",H),We[De]=!0,Object.keys(ie[De]).forEach(function(He){pe[He]&&(se(He,We),Object.keys(We).forEach(function(Ge){_e[Ge][He]=!0}))}),delete We[De]}(this.primaryType,{}),_e){var Z=Object.keys(_e[L]);Z.sort(),this._types[L]=Ht(L,H[L])+Z.map(function(se){return Ht(se,H[se])}).join("")}}return k()(q,[{key:"getEncoder",value:function(H){var ie=this._encoderCache[H];return ie||(ie=this._encoderCache[H]=this._getEncoder(H)),ie}},{key:"_getEncoder",value:function(H){var ie=this,pe=St(H);if(pe)return pe;var _e=H.match(/^(.*)(\x5b(\d*)\x5d)$/);if(_e){var V=_e[1],T=this.getEncoder(V),B=parseInt(_e[3]);return function(se){B>=0&&se.length!==B&&yt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",se);var De=se.map(T);return ie._types[V]&&(De=De.map($t.keccak256)),Object($t.keccak256)(Object(mt.hexConcat)(De))}}var L=this.types[H];if(L){var Z=wt(this._types[H]);return function(se){var De=L.map(function(We){var He=We.name,Ge=We.type,lt=ie.getEncoder(Ge)(se[He]);return ie._types[Ge]?Object($t.keccak256)(lt):lt});return De.unshift(Z),Object(mt.hexConcat)(De)}}return yt.throwArgumentError("unknown type: ".concat(H),"type",H)}},{key:"encodeType",value:function(H){var ie=this._types[H];return ie||yt.throwArgumentError("unknown type: ".concat(JSON.stringify(H)),"name",H),ie}},{key:"encodeData",value:function(H,ie){return this.getEncoder(H)(ie)}},{key:"hashStruct",value:function(H,ie){return Object($t.keccak256)(this.encodeData(H,ie))}},{key:"encode",value:function(H){return this.encodeData(this.primaryType,H)}},{key:"hash",value:function(H){return this.hashStruct(this.primaryType,H)}},{key:"_visit",value:function(H,ie,pe){var _e=this;if(St(H))return pe(H,ie);var V=H.match(/^(.*)(\x5b(\d*)\x5d)$/);if(V){var T=V[1],B=parseInt(V[3]);return B>=0&&ie.length!==B&&yt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",ie),ie.map(function(Z){return _e._visit(T,Z,pe)})}var L=this.types[H];return L?L.reduce(function(Z,se){var De=se.name,We=se.type;return Z[De]=_e._visit(We,ie[De],pe),Z},{}):yt.throwArgumentError("unknown type: ".concat(H),"type",H)}},{key:"visit",value:function(H,ie){return this._visit(this.primaryType,H,ie)}}],[{key:"from",value:function(H){return new q(H)}},{key:"getPrimaryType",value:function(H){return q.from(H).primaryType}},{key:"hashStruct",value:function(H,ie,pe){return q.from(ie).hashStruct(H,pe)}},{key:"hashDomain",value:function(H){var ie=[];for(var pe in H){var _e=Wt[pe];_e||yt.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(pe)),"domain",H),ie.push({name:pe,type:_e})}return ie.sort(function(V,T){return Et.indexOf(V.name)-Et.indexOf(T.name)}),q.hashStruct("EIP712Domain",{EIP712Domain:ie},H)}},{key:"encode",value:function(H,ie,pe){return Object(mt.hexConcat)(["0x1901",q.hashDomain(H),q.from(ie).hash(pe)])}},{key:"hash",value:function(H,ie,pe){return Object($t.keccak256)(q.encode(H,ie,pe))}},{key:"getPayload",value:function(H,ie,pe){q.hashDomain(H);var _e={},V=[];Et.forEach(function(L){var Z=H[L];Z!=null&&(_e[L]=tr[L](Z),V.push({name:L,type:Wt[L]}))});var T=q.from(ie),B=Object(Ft.shallowCopy)(ie);return B.EIP712Domain?yt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",ie):B.EIP712Domain=V,T.encode(pe),{types:B,domain:_e,primaryType:T.primaryType,message:T.visit(pe,function(L,Z){if(L.match(/^bytes(\d*)/))return Object(mt.hexlify)(Object(mt.arrayify)(Z));if(L.match(/^u?int/))return bt.BigNumber.from(Z).toString();switch(L){case"trcToken":return bt.BigNumber.from(Z).toString();case"address":return Ct(Z).toLowerCase();case"bool":return!!Z;case"string":return typeof Z!="string"&&yt.throwArgumentError("invalid string","value",Z),Z}return yt.throwArgumentError("unsupported type","type",L)})}}}]),q}();function _t(q){var H=xt(q),ie=xt(H).slice(0,4);return G(ie=q.concat(ie))}function rr(q){if(typeof q!="string"||q.length<=4)return!1;var H=ne(q);if(q.length<=4)return!1;var ie=H.length-4,pe=H.slice(ie),_e=xt(H=H.slice(0,ie)),V=xt(_e).slice(0,4);if(pe[0]==V[0]&&pe[1]==V[1]&&pe[2]==V[2]&&pe[3]==V[3])return H;throw new Error("Invalid address provided")}function Vt(q,H){typeof q=="string"&&(q=re(q));var ie=pt(re(H.txID),q);return Array.isArray(H.signature)?H.signature.includes(ie)||H.signature.push(ie):H.signature=[ie],H}function Gt(q){return btoa(String.fromCharCode.apply(String,P()(q)))}function Gr(q,H){return typeof q=="string"&&(q=re(q)),pt(xt(H),q)}function Zr(q,H,ie,pe){var _e=new R({toHexString:function(){return"0x"+pe},value:pe}),V=qt.hash(q,H,ie),T=_e.signDigest(V);return["0x",T.r.substring(2),T.s.substring(2),Number(T.v).toString(16)].join("")}function $r(q){var H=E(q);return proto.protocol.Transaction.deserializeBinary(H).getRawData().serializeBinary()}function zr(){for(var q=new ye.ec("secp256k1").genKeyPair().getPrivate().toString("hex");q.length<64;)q="0".concat(q);return re(q)}function kr(q){return q.length===65&&(q=q.slice(1)),re("41"+ke(q).toString().substring(2).substring(24))}function un(q){return kr(at(q))}function be(q){var H=ne(q);if(H.length<=4)return!1;var ie=H.slice(0,H.length-4),pe=xt(ie),_e=xt(pe);return _e[0]===H[ie.length]&&_e[1]===H[ie.length+1]&&_e[2]===H[ie.length+2]&&_e[3]===H[ie.length+3]&&ie}function le(q){if(typeof q!="string"||q.length!==34)return!1;var H=ne(q);if(H.length!==25||H[0]!==65)return!1;var ie=H.slice(21),pe=xt(H=H.slice(0,21)),_e=xt(pe).slice(0,4);return ie[0]==_e[0]&&ie[1]==_e[1]&&ie[2]==_e[2]&&ie[3]==_e[3]}function je(q){return _t(kr(at(E(q))))}function Qe(q){return x(kr(at(E(q))))}function Je(q){return D(kr(at(E(q))))}function at(q){for(var H=new ye.ec("secp256k1").keyFromPrivate(q,"bytes").getPublic(),ie=H.x,pe=H.y,_e=ie.toString("hex");_e.length<64;)_e="0".concat(_e);for(var V=pe.toString("hex");V.length<64;)V="0".concat(V);return re("04".concat(_e).concat(V))}function pt(q,H){for(var ie=new ye.ec("secp256k1").keyFromPrivate(H,"bytes").sign(q),pe=ie.r,_e=ie.s,V=ie.recoveryParam,T=pe.toString("hex");T.length<64;)T="0".concat(T);for(var B=_e.toString("hex");B.length<64;)B="0".concat(B);return T+B+N(V)}function xt(q){var H=x(q);return re(Ke("0x"+H).replace(/^0x/,""))}function Nt(q){return _t(un(E(q)))}function fr(q){var H=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ie=re(q,H),pe=un(ie);return _t(pe)}function Er(){var q=zr(),H=at(q),ie=un(q);return{privateKey:x(q),publicKey:x(H),address:{base58:_t(ie),hex:x(ie)}}}function Jr(q){if(ve.isObject(q)||(q={}),q.path||(q.path="m/44'/195'/0'/0/0"),!String(q.path).match(/^m\/44\'\/195\'/))throw new Error("Invalid tron path provided");var H=Ne.Wallet.createRandom(q);return{mnemonic:H.mnemonic,privateKey:H.privateKey,publicKey:H.publicKey,address:fr(H.privateKey.replace(/^0x/,""))}}function Wr(q,H){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en";if(H||(H="m/44'/195'/0'/0/0"),!String(H).match(/^m\/44\'\/195\'/))throw new Error("Invalid tron path provided");var pe=Ne.Wallet.fromMnemonic(q,H,ie),_e={mnemonic:pe.mnemonic,privateKey:pe.privateKey,publicKey:pe.publicKey,address:fr(pe.privateKey.replace(/^0x/,""))};return _e}var Vn=new O;function vb(q){return ar.address.toHex(q).replace(de,"0x")}function yb(q){if(Object.prototype.toString.call(q)!=="[object Object]"&&Object.prototype.toString.call(q)!=="[object Array]")return q;var H,ie=(H=q,Array.isArray(H)?[]:{});return Object.keys(q).forEach(function(pe){return ie[pe]=q[pe]instanceof Object&&!q[pe]._isBigNumber?yb(q[pe]):q[pe]}),ie}function l7(q,H,ie,pe){if(ie&&typeof ie!="boolean"||(pe=ie,ie=H,H=q,q=[]),pe&&ie.replace(/^0x/,"").length%64==8&&(ie="0x"+ie.replace(/^0x/,"").substring(8)),ie.replace(/^0x/,"").length%64)throw new Error("The encoded string is not valid. Its length must be a multiple of 64.");return H=H.map(function(_e){return/trcToken/.test(_e)&&(_e=_e.replace(/trcToken/,"uint256")),_e}),Vn.decode(H,ie).reduce(function(_e,V,T){return H[T]=="address"&&(V="41"+V.substr(2).toLowerCase()),q.length?_e[q[T]]=V:_e.push(V),_e},q.length?{}:[])}function d7(q,H){for(var ie=0;ie<q.length;ie++)q[ie]==="address"&&(H[ie]=ar.address.toHex(H[ie]).replace(de,"0x"));return Vn.encode(q,H)}function Yo(q){var H=q.match(/([a-zA-Z0-9])(\[.*\])/);return H?H[2]:""}function xb(q){return(Yo(q).match(/\]\[/g)||[]).length+1}function wc(q,H){var ie=[],pe=function Z(se){if(se&&se.type.indexOf("tuple")===0&&se.components){var De=se.components.map(function(We){return Z(We)});return"tuple(".concat(De.join(","),")").concat(Yo(se.type))}return/trcToken/.test(se.type)?se.type.replace(/trcToken/,"uint256"):se.type},_e=function Z(se){return Array.isArray(se)?(se.forEach(function(De,We){se[We]=Z(De)}),se):vb(se)},V=function Z(se,De,We){We>1?De.length&&De.forEach(function(He){Z(se,He,We-1)}):De.length&&We&&De.forEach(function(He){T(se,He)})},T=function Z(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],De=arguments.length>1?arguments[1]:void 0;se.length&&se.forEach(function(We,He){var Ge=We.type;if(De[He]){if(Ge==="address")De[He]=vb(De[He]);else if(Ge.match(/^([^\x5b]*)(\x5b|$)/)[0]==="address[")_e(De[He]);else if(Ge.indexOf("tuple")===0)if(Yo(Ge)){var lt=xb(Ge);V(We.components,De[He],lt)}else Z(We.components,De[He])}})};if(q.inputs&&q.inputs.length)for(var B=0;B<q.inputs.length;B++){var L=q.inputs[B].type;L==="bool"&&H[B]==="false"&&(H[B]=!1),ie.push(L.indexOf("tuple")===0?pe(q.inputs[B]):L),H.length<ie.length&&H.push("")}return T(q.inputs,H),function(Z){for(var se=0;se<Z.length;se++){var De=Z[se];/trcToken/.test(De)&&(Z[se]=De.replace(/trcToken/,"uint256"))}}(ie),Vn.encode(ie,H)}function wb(q,H){var ie=function De(We){return Array.isArray(We)?(We.forEach(function(He,Ge){We[Ge]=De(He)}),We):ar.address.toHex(We)},pe=function De(We,He,Ge){Ge>1?He.length&&He.forEach(function(lt){De(We,lt,Ge-1)}):He.length&&Ge&&He.forEach(function(lt){V(We,lt)})},_e=function De(We){var He=We.name?" ".concat(We.name):"";if(We&&We.type.indexOf("tuple")===0&&We.components){var Ge=We.components.map(function(lt){return De(lt)});return"tuple(".concat(Ge.join(","),")").concat(Yo(We.type)).concat(He)}return/trcToken/.test(We.type)?We.type.replace(/trcToken/,"uint256")+He:We.type+He},V=function De(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],He=arguments.length>1?arguments[1]:void 0;We.length&&We.forEach(function(Ge,lt){var Rt=Ge.type,Bt=Ge.name;if(He[lt]){if(Rt==="address")He[lt]=ar.address.toHex(He[lt]),Bt&&(He[Bt]=ar.address.toHex(He[Bt]));else if(Rt.match(/^([^\x5b]*)(\x5b|$)/)[0]==="address[")ie(He[lt]),Bt&&ie(He[Bt]);else if(Rt.indexOf("tuple")===0){if(Yo(Rt)){var ue=xb(Rt);pe(Ge.components,He[lt],ue)}else De(Ge.components,He[lt]);Bt&&(He[Bt]=He[lt])}}})};if(q.outputs&&q.outputs.length>0){for(var T=[],B=0;B<q.outputs.length;B++){var L=q.outputs[B].type,Z=q.outputs[B].name?" ".concat(q.outputs[B].name):"";T.push(L.indexOf("tuple")===0?_e(q.outputs[B]):L+Z)}(function(De){for(var We=0;We<De.length;We++){var He=De[We];/^trcToken/.test(He)&&(De[We]=He.replace(/^trcToken/,"uint256"))}})(T),H&&H.length||(H=new Uint8Array(32*q.outputs.length));var se=yb(Vn.decode(T,H));return V(q.outputs,se),se}return[]}var Ab=`TRON Signed Message:
`;function b0(q){return typeof q=="string"&&(q=Ze(q)),ke(gt([Ze(Ab),Ze(String(q.length)),q]))}function h7(q,H){H.match(/^0x/)||(H="0x"+H);var ie=new R(H),pe=b0(q),_e=ie.signDigest(pe);return ct(_e)}function p7(q,H){return H.match(/^0x/)||(H="0x"+H),_t(re(U(b0(q),H).replace(/^0x/,"41")))}var g7=t(24),b7=t.n(g7),m7=t(13),Qo=t.n(m7);function _b(q,H){var ie=Object.keys(q);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(q);H&&(pe=pe.filter(function(_e){return Object.getOwnPropertyDescriptor(q,_e).enumerable})),ie.push.apply(ie,pe)}return ie}function Eb(q){for(var H=1;H<arguments.length;H++){var ie=arguments[H]!=null?arguments[H]:{};H%2?_b(Object(ie),!0).forEach(function(pe){g()(q,pe,ie[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(ie)):_b(Object(ie)).forEach(function(pe){Object.defineProperty(q,pe,Object.getOwnPropertyDescriptor(ie,pe))})}return q}var ve=Eb(Eb({},{isValidURL:function(q){return typeof q=="string"&&b7.a.isURL(q.toString(),{protocols:["http","https"],require_tld:!1})},isObject:function(q){return q===Object(q)&&Object.prototype.toString.call(q)!=="[object Array]"},isArray:function(q){return Array.isArray(q)},isJson:function(q){try{return!!JSON.parse(q)}catch{return!1}},isBoolean:function(q){return typeof q=="boolean"},isBigNumber:function(q){return q&&(q instanceof Qo.a||q.constructor&&q.constructor.name==="BigNumber")},isString:function(q){return typeof q=="string"||q&&q.constructor&&q.constructor.name==="String"},isFunction:function(q){return typeof q=="function"},isHex:function(q){return typeof q=="string"&&!isNaN(parseInt(q,16))&&/^(0x|)[a-fA-F0-9]+$/.test(q)},isInteger:function(q){return q!==null&&Number.isInteger(Number(q))},hasProperty:function(q,H){return Object.prototype.hasOwnProperty.call(q,H)},hasProperties:function(q){for(var H=this,ie=arguments.length,pe=new Array(ie>1?ie-1:0),_e=1;_e<ie;_e++)pe[_e-1]=arguments[_e];return pe.length&&!pe.map(function(V){return H.hasProperty(q,V)}).includes(!1)},mapEvent:function(q){var H={block:q.block_number,timestamp:q.block_timestamp,contract:q.contract_address,name:q.event_name,transaction:q.transaction_id,result:q.result,resourceNode:q.resource_Node||(q._unconfirmed?"fullNode":"solidityNode")};return q._unconfirmed&&(H.unconfirmed=q._unconfirmed),q._fingerprint&&(H.fingerprint=q._fingerprint),H},parseEvent:function(q,H){var ie=H.inputs;if(!q.result)return q;if(this.isObject(q.result))for(var pe=0;pe<ie.length;pe++){var _e=ie[pe];_e.type=="address"&&_e.name in q.result&&(q.result[_e.name]="41"+q.result[_e.name].substr(2).toLowerCase())}else this.isArray(q.result)&&(q.result=q.result.reduce(function(V,T,B){var L=ie[B],Z=L.name;return L.type=="address"&&(T="41"+T.substr(2).toLowerCase()),V[Z]=T,V},{}));return q},padLeft:function(q,H,ie){for(var pe=q.toString();pe.length<ie;)pe=H+pe;return pe},isNotNullOrUndefined:function(q){return q!=null},sleep:function(){var q=arguments;return h()(d.a.mark(function H(){var ie;return d.a.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return ie=q.length>0&&q[0]!==void 0?q[0]:1e3,pe.abrupt("return",new Promise(function(_e){return setTimeout(_e,ie)}));case 2:case"end":return pe.stop()}},H)}))()}}),{},{code:i,accounts:u,base58:s,bytes:n,crypto:o,abi:c,message:f,_TypedDataEncoder:qt,ethersUtils:a}),Pn={HttpProvider:function(){function q(ie){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3e4,_e=arguments.length>2&&arguments[2]!==void 0&&arguments[2],V=arguments.length>3&&arguments[3]!==void 0&&arguments[3],T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"/";if(v()(this,q),!ve.isValidURL(ie))throw new Error("Invalid URL provided to HttpProvider");if(isNaN(pe)||pe<0)throw new Error("Invalid timeout duration provided");if(!ve.isObject(T))throw new Error("Invalid headers object provided");ie=ie.replace(/\/+$/,""),this.host=ie,this.timeout=pe,this.user=_e,this.password=V,this.headers=T,this.statusPage=B,this.instance=A.a.create({baseURL:ie,timeout:pe,headers:T,auth:_e&&{user:_e,password:V}})}var H;return k()(q,[{key:"setStatusPage",value:function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"/";this.statusPage=ie}},{key:"isConnected",value:(H=h()(d.a.mark(function ie(){var pe,_e=arguments;return d.a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return pe=_e.length>0&&_e[0]!==void 0?_e[0]:this.statusPage,V.abrupt("return",this.request(pe).then(function(T){return ve.hasProperties(T,"blockID","block_header")}).catch(function(){return!1}));case 2:case"end":return V.stop()}},ie,this)})),function(){return H.apply(this,arguments)})},{key:"request",value:function(ie){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"get";return _e=_e.toLowerCase(),this.instance.request({data:_e=="post"&&Object.keys(pe).length?pe:null,params:_e=="get"&&pe,url:ie,method:_e}).then(function(V){return V.data})}}]),q}()},v7=t(25),y7=t.n(v7),x7=t(26),w7=t(16),Sb=t.n(w7),A7=t(7),Js=t.n(A7),_7=t(11),Ac=t.n(_7);function E7(q,H){var ie=typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(!ie){if(Array.isArray(q)||(ie=function(L,Z){if(L){if(typeof L=="string")return Ib(L,Z);var se=Object.prototype.toString.call(L).slice(8,-1);if(se==="Object"&&L.constructor&&(se=L.constructor.name),se==="Map"||se==="Set")return Array.from(L);if(se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return Ib(L,Z)}}(q))||H){ie&&(q=ie);var pe=0,_e=function(){};return{s:_e,n:function(){return pe>=q.length?{done:!0}:{done:!1,value:q[pe++]}},e:function(L){throw L},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,T=!0,B=!1;return{s:function(){ie=ie.call(q)},n:function(){var L=ie.next();return T=L.done,L},e:function(L){B=!0,V=L},f:function(){try{T||ie.return==null||ie.return()}finally{if(B)throw V}}}}function Ib(q,H){(H==null||H>q.length)&&(H=q.length);for(var ie=0,pe=new Array(H);ie<H;ie++)pe[ie]=q[ie];return pe}var m0,v0=function(){function q(){var H=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(v()(this,q),!H||!H instanceof ar)throw new Error("Expected instance of TronWeb");this.tronWeb=H}return k()(q,[{key:"invalid",value:function(H){return H.msg||"Invalid ".concat(H.name).concat(H.type==="address"?" address":""," provided")}},{key:"notPositive",value:function(H){return"".concat(H.name," must be a positive integer")}},{key:"notEqual",value:function(H){return H.msg||"".concat(H.names[0]," can not be equal to ").concat(H.names[1])}},{key:"notValid",value:function(){var H,ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Function,_e={},V=!1,T=E7(ie);try{for(T.s();!(H=T.n()).done;){var B=H.value,L=B.name,Z=B.names,se=B.value,De=B.type,We=B.gt,He=B.lt,Ge=B.gte,lt=B.lte,Rt=(B.se,B.optional);if(!Rt||ve.isNotNullOrUndefined(se)&&(De==="boolean"||se!==!1)){switch(_e[B.name]=B.value,De){case"address":this.tronWeb.isAddress(se)?_e[L]=this.tronWeb.address.toHex(se):V=!0;break;case"integer":(!ve.isInteger(se)||typeof We=="number"&&se<=B.gt||typeof He=="number"&&se>=B.lt||typeof Ge=="number"&&se<B.gte||typeof lt=="number"&&se>B.lte)&&(V=!0);break;case"positive-integer":if(!ve.isInteger(se)||se<=0)return void pe(this.notPositive(B));break;case"tokenId":ve.isString(se)&&se.length||(V=!0);break;case"notEmptyObject":ve.isObject(se)&&Object.keys(se).length||(V=!0);break;case"notEqual":if(_e[Z[0]]===_e[Z[1]])return pe(this.notEqual(B)),!0;break;case"resource":["BANDWIDTH","ENERGY"].includes(se)||(V=!0);break;case"url":ve.isValidURL(se)||(V=!0);break;case"hex":ve.isHex(se)||(V=!0);break;case"array":Array.isArray(se)||(V=!0);break;case"not-empty-string":ve.isString(se)&&se.length||(V=!0);break;case"boolean":ve.isBoolean(se)||(V=!0);break;case"string":(!ve.isString(se)||typeof We=="number"&&se.length<=B.gt||typeof He=="number"&&se.length>=B.lt||typeof Ge=="number"&&se.length<B.gte||typeof lt=="number"&&se.length>B.lte)&&(V=!0)}if(V)return pe(this.invalid(B)),!0}}}catch(Bt){T.e(Bt)}finally{T.f()}return!1}}]),q}();function y0(q,H){var ie=typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(!ie){if(Array.isArray(q)||(ie=function(L,Z){if(L){if(typeof L=="string")return Mb(L,Z);var se=Object.prototype.toString.call(L).slice(8,-1);if(se==="Object"&&L.constructor&&(se=L.constructor.name),se==="Map"||se==="Set")return Array.from(L);if(se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return Mb(L,Z)}}(q))||H){ie&&(q=ie);var pe=0,_e=function(){};return{s:_e,n:function(){return pe>=q.length?{done:!0}:{done:!1,value:q[pe++]}},e:function(L){throw L},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,T=!0,B=!1;return{s:function(){ie=ie.call(q)},n:function(){var L=ie.next();return T=L.done,L},e:function(L){B=!0,V=L},f:function(){try{T||ie.return==null||ie.return()}finally{if(B)throw V}}}}function Mb(q,H){(H==null||H>q.length)&&(H=q.length);for(var ie=0,pe=new Array(H);ie<H;ie++)pe[ie]=q[ie];return pe}function Tt(q){return ar.address.toHex(q)}function Rn(q){return m0.tronWeb.fromUtf8(q)}function Sr(q,H){return q.Error?H(q.Error):q.result&&q.result.message?H(m0.tronWeb.toUtf8(q.result.message)):H(null,q)}var Pb=function(){function q(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(v()(this,q),!V||!V instanceof ar)throw new Error("Expected instance of TronWeb");m0=this,this.tronWeb=V,this.injectPromise=Js()(this),this.validator=new v0(V)}var H,ie,pe,_e;return k()(q,[{key:"sendTrx",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.tronWeb.defaultAddress.hex,L=arguments.length>3?arguments[3]:void 0,Z=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(ve.isFunction(L)&&(Z=L,L={}),ve.isFunction(B)?(Z=B,B=this.tronWeb.defaultAddress.hex):ve.isObject(B)&&(L=B,B=this.tronWeb.defaultAddress.hex),!Z)return this.injectPromise(this.sendTrx,V,T,B,L);if(T=parseInt(T),!this.validator.notValid([{name:"recipient",type:"address",value:V},{name:"origin",type:"address",value:B},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer TRX to the same account"},{name:"amount",type:"integer",gt:0,value:T}],Z)){var se={to_address:Tt(V),owner_address:Tt(B),amount:T};L&&L.permissionId&&(se.Permission_id=L.permissionId),this.tronWeb.fullNode.request("wallet/createtransaction",se,"post").then(function(De){return Sr(De,Z)}).catch(function(De){return Z(De)})}}},{key:"sendToken",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=arguments.length>2&&arguments[2]!==void 0&&arguments[2],L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.tronWeb.defaultAddress.hex,Z=arguments.length>4?arguments[4]:void 0,se=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(ve.isFunction(Z)&&(se=Z,Z={}),ve.isFunction(L)?(se=L,L=this.tronWeb.defaultAddress.hex):ve.isObject(L)&&(Z=L,L=this.tronWeb.defaultAddress.hex),!se)return this.injectPromise(this.sendToken,V,T,B,L,Z);if(T=parseInt(T),!this.validator.notValid([{name:"recipient",type:"address",value:V},{name:"origin",type:"address",value:L},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer tokens to the same account"},{name:"amount",type:"integer",gt:0,value:T},{name:"token ID",type:"tokenId",value:B}],se)){var De={to_address:Tt(V),owner_address:Tt(L),asset_name:Rn(B),amount:parseInt(T)};Z&&Z.permissionId&&(De.Permission_id=Z.permissionId),this.tronWeb.fullNode.request("wallet/transferasset",De,"post").then(function(We){return Sr(We,se)}).catch(function(We){return se(We)})}}},{key:"purchaseToken",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0&&arguments[1],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.tronWeb.defaultAddress.hex,Z=arguments.length>4?arguments[4]:void 0,se=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(ve.isFunction(Z)&&(se=Z,Z={}),ve.isFunction(L)?(se=L,L=this.tronWeb.defaultAddress.hex):ve.isObject(L)&&(Z=L,L=this.tronWeb.defaultAddress.hex),!se)return this.injectPromise(this.purchaseToken,V,T,B,L,Z);if(!this.validator.notValid([{name:"buyer",type:"address",value:L},{name:"issuer",type:"address",value:V},{names:["buyer","issuer"],type:"notEqual",msg:"Cannot purchase tokens from same account"},{name:"amount",type:"integer",gt:0,value:B},{name:"token ID",type:"tokenId",value:T}],se)){var De={to_address:Tt(V),owner_address:Tt(L),asset_name:Rn(T),amount:parseInt(B)};Z&&Z.permissionId&&(De.Permission_id=Z.permissionId),this.tronWeb.fullNode.request("wallet/participateassetissue",De,"post").then(function(We){return Sr(We,se)}).catch(function(We){return se(We)})}}},{key:"freezeBalance",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"BANDWIDTH",L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.tronWeb.defaultAddress.hex,Z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,se=arguments.length>5?arguments[5]:void 0,De=arguments.length>6&&arguments[6]!==void 0&&arguments[6];if(ve.isFunction(se)&&(De=se,se={}),ve.isFunction(Z)?(De=Z,Z=void 0):ve.isObject(Z)&&(se=Z,Z=void 0),ve.isFunction(L)?(De=L,L=this.tronWeb.defaultAddress.hex):ve.isObject(L)&&(se=L,L=this.tronWeb.defaultAddress.hex),ve.isFunction(T)&&(De=T,T=3),ve.isFunction(B)&&(De=B,B="BANDWIDTH"),!De)return this.injectPromise(this.freezeBalance,V,T,B,L,Z,se);if(!this.validator.notValid([{name:"origin",type:"address",value:L},{name:"receiver",type:"address",value:Z,optional:!0},{name:"amount",type:"integer",gt:0,value:V},{name:"duration",type:"integer",gte:3,value:T},{name:"resource",type:"resource",value:B,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY'}],De)){var We={owner_address:Tt(L),frozen_balance:parseInt(V),frozen_duration:parseInt(T),resource:B};ve.isNotNullOrUndefined(Z)&&Tt(Z)!==Tt(L)&&(We.receiver_address=Tt(Z)),se&&se.permissionId&&(We.Permission_id=se.permissionId),this.tronWeb.fullNode.request("wallet/freezebalance",We,"post").then(function(He){return Sr(He,De)}).catch(function(He){return De(He)})}}},{key:"unfreezeBalance",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"BANDWIDTH",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultAddress.hex,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,L=arguments.length>3?arguments[3]:void 0,Z=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(ve.isFunction(L)&&(Z=L,L={}),ve.isFunction(B)?(Z=B,B=void 0):ve.isObject(B)&&(L=B,B=void 0),ve.isFunction(T)?(Z=T,T=this.tronWeb.defaultAddress.hex):ve.isObject(T)&&(L=T,T=this.tronWeb.defaultAddress.hex),ve.isFunction(V)&&(Z=V,V="BANDWIDTH"),!Z)return this.injectPromise(this.unfreezeBalance,V,T,B,L);if(!this.validator.notValid([{name:"origin",type:"address",value:T},{name:"receiver",type:"address",value:B,optional:!0},{name:"resource",type:"resource",value:V,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY'}],Z)){var se={owner_address:Tt(T),resource:V};ve.isNotNullOrUndefined(B)&&Tt(B)!==Tt(T)&&(se.receiver_address=Tt(B)),L&&L.permissionId&&(se.Permission_id=L.permissionId),this.tronWeb.fullNode.request("wallet/unfreezebalance",se,"post").then(function(De){return Sr(De,Z)}).catch(function(De){return Z(De)})}}},{key:"withdrawBlockRewards",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,T=arguments.length>1?arguments[1]:void 0,B=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(ve.isFunction(T)&&(B=T,T={}),ve.isFunction(V)?(B=V,V=this.tronWeb.defaultAddress.hex):ve.isObject(V)&&(T=V,V=this.tronWeb.defaultAddress.hex),!B)return this.injectPromise(this.withdrawBlockRewards,V,T);if(!this.validator.notValid([{name:"origin",type:"address",value:V}],B)){var L={owner_address:Tt(V)};T&&T.permissionId&&(L.Permission_id=T.permissionId),this.tronWeb.fullNode.request("wallet/withdrawbalance",L,"post").then(function(Z){return Sr(Z,B)}).catch(function(Z){return B(Z)})}}},{key:"applyForSR",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,T=arguments.length>1&&arguments[1]!==void 0&&arguments[1],B=arguments.length>2?arguments[2]:void 0,L=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ve.isFunction(B)&&(L=B,B={}),ve.isObject(T)&&ve.isValidURL(V)&&(B=T,T=V,V=this.tronWeb.defaultAddress.hex),!L)return this.injectPromise(this.applyForSR,V,T,B);if(!this.validator.notValid([{name:"origin",type:"address",value:V},{name:"url",type:"url",value:T,msg:"Invalid url provided"}],L)){var Z={owner_address:Tt(V),url:Rn(T)};B&&B.permissionId&&(Z.Permission_id=B.permissionId),this.tronWeb.fullNode.request("wallet/createwitness",Z,"post").then(function(se){return Sr(se,L)}).catch(function(se){return L(se)})}}},{key:"vote",value:function(){var V=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultAddress.hex,L=arguments.length>2?arguments[2]:void 0,Z=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ve.isFunction(L)&&(Z=L,L={}),ve.isFunction(B)?(Z=B,B=this.tronWeb.defaultAddress.hex):ve.isObject(B)&&(L=B,B=this.tronWeb.defaultAddress.hex),!Z)return this.injectPromise(this.vote,T,B,L);if(!this.validator.notValid([{name:"voter",type:"address",value:B},{name:"votes",type:"notEmptyObject",value:T}],Z)){var se=!1;if(T=Object.entries(T).map(function(We){var He=Ac()(We,2),Ge=He[0],lt=He[1];if(!se)return V.validator.notValid([{name:"SR",type:"address",value:Ge},{name:"vote count",type:"integer",gt:0,value:lt,msg:"Invalid vote count provided for SR: "+Ge}])?se=!0:{vote_address:Tt(Ge),vote_count:parseInt(lt)}}),!se){var De={owner_address:Tt(B),votes:T};L&&L.permissionId&&(De.Permission_id=L.permissionId),this.tronWeb.fullNode.request("wallet/votewitnessaccount",De,"post").then(function(We){return Sr(We,Z)}).catch(function(We){return Z(We)})}}}},{key:"createSmartContract",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultAddress.hex,B=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(ve.isFunction(T)&&(B=T,T=this.tronWeb.defaultAddress.hex),!B)return this.injectPromise(this.createSmartContract,V,T);var L=V.feeLimit||this.tronWeb.feeLimit,Z=V.userFeePercentage;typeof Z=="number"||Z||(Z=100);var se=V.originEnergyLimit||1e7,De=V.callValue||0,We=V.tokenValue,He=V.tokenId||V.token_id,Ge=V.abi,lt=Ge!==void 0&&Ge,Rt=V.bytecode,Bt=Rt!==void 0&&Rt,ue=V.parameters,J=ue===void 0?[]:ue,Y=V.name,me=Y===void 0?"":Y;if(lt&&ve.isString(lt))try{lt=JSON.parse(lt)}catch{return B("Invalid options.abi provided")}if(lt.entrys&&(lt=lt.entrys),!ve.isArray(lt))return B("Invalid options.abi provided");var ce=lt.some(function(ze){return ze.type==="constructor"&&ze.stateMutability.toLowerCase()==="payable"});if(!this.validator.notValid([{name:"bytecode",type:"hex",value:Bt},{name:"feeLimit",type:"integer",value:L,gt:0},{name:"callValue",type:"integer",value:De,gte:0},{name:"userFeePercentage",type:"integer",value:Z,gte:0,lte:100},{name:"originEnergyLimit",type:"integer",value:se,gte:0,lte:1e7},{name:"parameters",type:"array",value:J},{name:"issuer",type:"address",value:T},{name:"tokenValue",type:"integer",value:We,gte:0,optional:!0},{name:"tokenId",type:"integer",value:He,gte:0,optional:!0}],B)){if(ce&&De==0&&We==0)return B("When contract is payable, options.callValue or options.tokenValue must be a positive integer");if(!ce&&(De>0||We>0))return B("When contract is not payable, options.callValue and options.tokenValue must be 0");if(V.rawParameter&&ve.isString(V.rawParameter))J=V.rawParameter.replace(/^(0x)/,"");else if(V.funcABIV2)J=wc(V.funcABIV2,V.parametersV2).replace(/^(0x)/,"");else{var he=lt.find(function(ze){return ze.type==="constructor"});if(he!==void 0&&he){var Ee=new O,qe=[],Be=[];if(he=he.inputs,J.length!=he.length)return B("constructor needs ".concat(he.length," but ").concat(J.length," provided"));for(var Se=0;Se<J.length;Se++){var Te=he[Se].type,Fe=J[Se];if(!Te||!ve.isString(Te)||!Te.length)return B("Invalid parameter type provided: "+Te);Te==="address"?Fe=Tt(Fe).replace(de,"0x"):Te.match(/^([^\x5b]*)(\x5b|$)/)[0]==="address["?Fe=Fe.map(function(ze){return Tt(ze).replace(de,"0x")}):/trcToken/.test(Te)&&(Te=Te.replace(/trcToken/,"uint256")),qe.push(Te),Be.push(Fe)}try{J=Ee.encode(qe,Be).replace(/^(0x)/,"")}catch(ze){return B(ze)}}else J=""}var Ce={owner_address:Tt(T),fee_limit:parseInt(L),call_value:parseInt(De),consume_user_resource_percent:Z,origin_energy_limit:se,abi:JSON.stringify(lt),bytecode:Bt,parameter:J,name:me};ve.isNotNullOrUndefined(We)&&(Ce.call_token_value=parseInt(We)),ve.isNotNullOrUndefined(He)&&(Ce.token_id=parseInt(He)),V&&V.permissionId&&(Ce.Permission_id=V.permissionId),this.tronWeb.fullNode.request("wallet/deploycontract",Ce,"post").then(function(ze){return Sr(ze,B)}).catch(function(ze){return B(ze)})}}},{key:"triggerSmartContract",value:function(){for(var V=arguments.length,T=new Array(V),B=0;B<V;B++)T[B]=arguments[B];return w()(T[2])!=="object"&&(T[2]={feeLimit:T[2],callValue:T[3]},T.splice(3,1)),this._triggerSmartContract.apply(this,T)}},{key:"triggerConstantContract",value:function(){for(var V=arguments.length,T=new Array(V),B=0;B<V;B++)T[B]=arguments[B];return T[2]._isConstant=!0,this.triggerSmartContract.apply(this,T)}},{key:"triggerConfirmedConstantContract",value:function(){for(var V=arguments.length,T=new Array(V),B=0;B<V;B++)T[B]=arguments[B];return T[2]._isConstant=!0,T[2].confirmed=!0,this.triggerSmartContract.apply(this,T)}},{key:"_triggerSmartContract",value:function(V,T){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],Z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.tronWeb.defaultAddress.hex,se=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(ve.isFunction(Z)&&(se=Z,Z=this.tronWeb.defaultAddress.hex),ve.isFunction(L)&&(se=L,L=[]),!se)return this.injectPromise(this._triggerSmartContract,V,T,B,L,Z);var De=Object.assign({callValue:0,feeLimit:this.tronWeb.feeLimit},B),We=De.tokenValue,He=De.tokenId,Ge=De.callValue,lt=De.feeLimit;if(!this.validator.notValid([{name:"feeLimit",type:"integer",value:lt,gt:0},{name:"callValue",type:"integer",value:Ge,gte:0},{name:"parameters",type:"array",value:L},{name:"contract",type:"address",value:V},{name:"issuer",type:"address",value:Z,optional:!0},{name:"tokenValue",type:"integer",value:We,gte:0,optional:!0},{name:"tokenId",type:"integer",value:He,gte:0,optional:!0}],se)){var Rt={contract_address:Tt(V),owner_address:Tt(Z)};if(T&&ve.isString(T)){if(T=T.replace("/s*/g",""),L.length){for(var Bt=new O,ue=[],J=[],Y=0;Y<L.length;Y++){var me=L[Y],ce=me.type,he=me.value;if(!ce||!ve.isString(ce)||!ce.length)return se("Invalid parameter type provided: "+ce);ce==="address"?he=Tt(he).replace(de,"0x"):ce.match(/^([^\x5b]*)(\x5b|$)/)[0]==="address["&&(he=he.map(function(Ee){return Tt(Ee).replace(de,"0x")})),ue.push(ce),J.push(he)}try{ue=ue.map(function(Ee){return/trcToken/.test(Ee)&&(Ee=Ee.replace(/trcToken/,"uint256")),Ee}),L=Bt.encode(ue,J).replace(/^(0x)/,"")}catch(Ee){return se(Ee)}}else L="";B.funcABIV2&&(L=wc(B.funcABIV2,B.parametersV2).replace(/^(0x)/,"")),B.shieldedParameter&&ve.isString(B.shieldedParameter)&&(L=B.shieldedParameter.replace(/^(0x)/,"")),B.rawParameter&&ve.isString(B.rawParameter)&&(L=B.rawParameter.replace(/^(0x)/,"")),Rt.function_selector=T,Rt.parameter=L}Rt.call_value=parseInt(Ge),ve.isNotNullOrUndefined(We)&&(Rt.call_token_value=parseInt(We)),ve.isNotNullOrUndefined(He)&&(Rt.token_id=parseInt(He)),B._isConstant||(Rt.fee_limit=parseInt(lt)),B.permissionId&&(Rt.Permission_id=B.permissionId),this.tronWeb[B.confirmed?"solidityNode":"fullNode"].request("wallet".concat(B.confirmed?"solidity":"","/trigger").concat(B._isConstant?"constant":"smart","contract"),Rt,"post").then(function(Ee){return Sr(Ee,se)}).catch(function(Ee){return se(Ee)})}}},{key:"clearABI",value:function(V){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultAddress.hex,B=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!B)return this.injectPromise(this.clearABI,V,T);if(!this.tronWeb.isAddress(V))return B("Invalid contract address provided");if(!this.tronWeb.isAddress(T))return B("Invalid owner address provided");var L={contract_address:Tt(V),owner_address:Tt(T)};this.tronWeb.trx.cache.contracts[V]&&delete this.tronWeb.trx.cache.contracts[V],this.tronWeb.fullNode.request("wallet/clearabi",L,"post").then(function(Z){return Sr(Z,B)}).catch(function(Z){return B(Z)})}},{key:"updateBrokerage",value:function(V){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultAddress.hex,B=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!B)return this.injectPromise(this.updateBrokerage,V,T);if(!ve.isNotNullOrUndefined(V))return B("Invalid brokerage provided");if(!ve.isInteger(V)||V<0||V>100)return B("Brokerage must be an integer between 0 and 100");if(!this.tronWeb.isAddress(T))return B("Invalid owner address provided");var L={brokerage:parseInt(V),owner_address:Tt(T)};this.tronWeb.fullNode.request("wallet/updateBrokerage",L,"post").then(function(Z){return Sr(Z,B)}).catch(function(Z){return B(Z)})}},{key:"createToken",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultAddress.hex,B=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(ve.isFunction(T)&&(B=T,T=this.tronWeb.defaultAddress.hex),!B)return this.injectPromise(this.createToken,V,T);var L=V.name,Z=L!==void 0&&L,se=V.abbreviation,De=se!==void 0&&se,We=V.description,He=We!==void 0&&We,Ge=V.url,lt=Ge!==void 0&&Ge,Rt=V.totalSupply,Bt=Rt===void 0?0:Rt,ue=V.trxRatio,J=ue===void 0?1:ue,Y=V.tokenRatio,me=Y===void 0?1:Y,ce=V.saleStart,he=ce===void 0?Date.now():ce,Ee=V.saleEnd,qe=Ee!==void 0&&Ee,Be=V.freeBandwidth,Se=Be===void 0?0:Be,Te=V.freeBandwidthLimit,Fe=Te===void 0?0:Te,Ce=V.frozenAmount,ze=Ce===void 0?0:Ce,Ye=V.frozenDuration,ut=Ye===void 0?0:Ye,or=V.voteScore,dt=V.precision;if(!this.validator.notValid([{name:"Supply amount",type:"positive-integer",value:Bt},{name:"TRX ratio",type:"positive-integer",value:J},{name:"Token ratio",type:"positive-integer",value:me},{name:"token abbreviation",type:"not-empty-string",value:De},{name:"token name",type:"not-empty-string",value:Z},{name:"token description",type:"not-empty-string",value:He},{name:"token url",type:"url",value:lt},{name:"issuer",type:"address",value:T},{name:"sale start timestamp",type:"integer",value:he,gte:Date.now()},{name:"sale end timestamp",type:"integer",value:qe,gt:he},{name:"Free bandwidth amount",type:"integer",value:Se,gte:0},{name:"Free bandwidth limit",type:"integer",value:Fe,gte:0},{name:"Frozen supply",type:"integer",value:ze,gte:0},{name:"Frozen duration",type:"integer",value:ut,gte:0}],B)){if(ve.isNotNullOrUndefined(or)&&(!ve.isInteger(or)||or<=0))return B("voteScore must be a positive integer greater than 0");if(ve.isNotNullOrUndefined(dt)&&(!ve.isInteger(dt)||dt<0||dt>6))return B("precision must be a positive integer >= 0 and <= 6");var is={owner_address:Tt(T),name:Rn(Z),abbr:Rn(De),description:Rn(He),url:Rn(lt),total_supply:parseInt(Bt),trx_num:parseInt(J),num:parseInt(me),start_time:parseInt(he),end_time:parseInt(qe),free_asset_net_limit:parseInt(Se),public_free_asset_net_limit:parseInt(Fe),frozen_supply:{frozen_amount:parseInt(ze),frozen_days:parseInt(ut)}};parseInt(ze)>0||delete is.frozen_supply,dt&&!isNaN(parseInt(dt))&&(is.precision=parseInt(dt)),or&&!isNaN(parseInt(or))&&(is.vote_score=parseInt(or)),V&&V.permissionId&&(is.Permission_id=V.permissionId),this.tronWeb.fullNode.request("wallet/createassetissue",is,"post").then(function($a){return Sr($a,B)}).catch(function($a){return B($a)})}}},{key:"updateAccount",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultAddress.hex,B=arguments.length>2?arguments[2]:void 0,L=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ve.isFunction(B)&&(L=B,B={}),ve.isFunction(T)?(L=T,T=this.tronWeb.defaultAddress.hex):ve.isObject(T)&&(B=T,T=this.tronWeb.defaultAddress.hex),!L)return this.injectPromise(this.updateAccount,V,T,B);if(!this.validator.notValid([{name:"Name",type:"not-empty-string",value:V},{name:"origin",type:"address",value:T}],L)){var Z={account_name:Rn(V),owner_address:Tt(T)};B&&B.permissionId&&(Z.Permission_id=B.permissionId),this.tronWeb.fullNode.request("wallet/updateaccount",Z,"post").then(function(se){return Sr(se,L)}).catch(function(se){return L(se)})}}},{key:"setAccountId",value:function(V){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultAddress.hex,B=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(ve.isFunction(T)&&(B=T,T=this.tronWeb.defaultAddress.hex),!B)return this.injectPromise(this.setAccountId,V,T);V&&ve.isString(V)&&V.startsWith("0x")&&(V=V.slice(2)),this.validator.notValid([{name:"accountId",type:"hex",value:V},{name:"accountId",type:"string",lte:32,gte:8,value:V},{name:"origin",type:"address",value:T}],B)||this.tronWeb.fullNode.request("wallet/setaccountid",{account_id:V,owner_address:Tt(T)},"post").then(function(L){return Sr(L,B)}).catch(function(L){return B(L)})}},{key:"updateToken",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultAddress.hex,B=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(ve.isFunction(T)?(B=T,T=this.tronWeb.defaultAddress.hex):ve.isObject(T)&&(V=T,T=this.tronWeb.defaultAddress.hex),!B)return this.injectPromise(this.updateToken,V,T);var L=V,Z=L.description,se=Z!==void 0&&Z,De=L.url,We=De!==void 0&&De,He=L.freeBandwidth,Ge=He===void 0?0:He,lt=L.freeBandwidthLimit,Rt=lt===void 0?0:lt;if(!this.validator.notValid([{name:"token description",type:"not-empty-string",value:se},{name:"token url",type:"url",value:We},{name:"issuer",type:"address",value:T},{name:"Free bandwidth amount",type:"positive-integer",value:Ge},{name:"Free bandwidth limit",type:"positive-integer",value:Rt}],B)){var Bt={owner_address:Tt(T),description:Rn(se),url:Rn(We),new_limit:parseInt(Ge),new_public_limit:parseInt(Rt)};V&&V.permissionId&&(Bt.Permission_id=V.permissionId),this.tronWeb.fullNode.request("wallet/updateasset",Bt,"post").then(function(ue){return Sr(ue,B)}).catch(function(ue){return B(ue)})}}},{key:"sendAsset",value:function(){return this.sendToken.apply(this,arguments)}},{key:"purchaseAsset",value:function(){return this.purchaseToken.apply(this,arguments)}},{key:"createAsset",value:function(){return this.createToken.apply(this,arguments)}},{key:"updateAsset",value:function(){return this.updateToken.apply(this,arguments)}},{key:"createProposal",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultAddress.hex,B=arguments.length>2?arguments[2]:void 0,L=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ve.isFunction(B)&&(L=B,B={}),ve.isFunction(T)?(L=T,T=this.tronWeb.defaultAddress.hex):ve.isObject(T)&&(B=T,T=this.tronWeb.defaultAddress.hex),!L)return this.injectPromise(this.createProposal,V,T,B);if(!this.validator.notValid([{name:"issuer",type:"address",value:T}],L)){var Z="Invalid proposal parameters provided";if(!V)return L(Z);ve.isArray(V)||(V=[V]);var se,De=y0(V);try{for(De.s();!(se=De.n()).done;){var We=se.value;if(!ve.isObject(We))return L(Z)}}catch(Ge){De.e(Ge)}finally{De.f()}var He={owner_address:Tt(T),parameters:V};B&&B.permissionId&&(He.Permission_id=B.permissionId),this.tronWeb.fullNode.request("wallet/proposalcreate",He,"post").then(function(Ge){return Sr(Ge,L)}).catch(function(Ge){return L(Ge)})}}},{key:"deleteProposal",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultAddress.hex,B=arguments.length>2?arguments[2]:void 0,L=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ve.isFunction(B)&&(L=B,B={}),ve.isFunction(T)?(L=T,T=this.tronWeb.defaultAddress.hex):ve.isObject(T)&&(B=T,T=this.tronWeb.defaultAddress.hex),!L)return this.injectPromise(this.deleteProposal,V,T,B);if(!this.validator.notValid([{name:"issuer",type:"address",value:T},{name:"proposalID",type:"integer",value:V,gte:0}],L)){var Z={owner_address:Tt(T),proposal_id:parseInt(V)};B&&B.permissionId&&(Z.Permission_id=B.permissionId),this.tronWeb.fullNode.request("wallet/proposaldelete",Z,"post").then(function(se){return Sr(se,L)}).catch(function(se){return L(se)})}}},{key:"voteProposal",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0&&arguments[1],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.tronWeb.defaultAddress.hex,L=arguments.length>3?arguments[3]:void 0,Z=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(ve.isFunction(L)&&(Z=L,L={}),ve.isFunction(B)?(Z=B,B=this.tronWeb.defaultAddress.hex):ve.isObject(B)&&(L=B,B=this.tronWeb.defaultAddress.hex),!Z)return this.injectPromise(this.voteProposal,V,T,B,L);if(!this.validator.notValid([{name:"voter",type:"address",value:B},{name:"proposalID",type:"integer",value:V,gte:0},{name:"has approval",type:"boolean",value:T}],Z)){var se={owner_address:Tt(B),proposal_id:parseInt(V),is_add_approval:T};L&&L.permissionId&&(se.Permission_id=L.permissionId),this.tronWeb.fullNode.request("wallet/proposalapprove",se,"post").then(function(De){return Sr(De,Z)}).catch(function(De){return Z(De)})}}},{key:"createTRXExchange",value:function(V,T,B){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.tronWeb.defaultAddress.hex,Z=arguments.length>4?arguments[4]:void 0,se=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(ve.isFunction(Z)&&(se=Z,Z={}),ve.isFunction(L)?(se=L,L=this.tronWeb.defaultAddress.hex):ve.isObject(L)&&(Z=L,L=this.tronWeb.defaultAddress.hex),!se)return this.injectPromise(this.createTRXExchange,V,T,B,L,Z);if(!this.validator.notValid([{name:"owner",type:"address",value:L},{name:"token name",type:"not-empty-string",value:V},{name:"token balance",type:"positive-integer",value:T},{name:"trx balance",type:"positive-integer",value:B}],se)){var De={owner_address:Tt(L),first_token_id:Rn(V),first_token_balance:T,second_token_id:"5f",second_token_balance:B};Z&&Z.permissionId&&(De.Permission_id=Z.permissionId),this.tronWeb.fullNode.request("wallet/exchangecreate",De,"post").then(function(We){se(null,We)}).catch(function(We){return se(We)})}}},{key:"createTokenExchange",value:function(V,T,B,L){var Z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.tronWeb.defaultAddress.hex,se=arguments.length>5?arguments[5]:void 0,De=arguments.length>6&&arguments[6]!==void 0&&arguments[6];if(ve.isFunction(se)&&(De=se,se={}),ve.isFunction(Z)?(De=Z,Z=this.tronWeb.defaultAddress.hex):ve.isObject(Z)&&(se=Z,Z=this.tronWeb.defaultAddress.hex),!De)return this.injectPromise(this.createTokenExchange,V,T,B,L,Z,se);if(!this.validator.notValid([{name:"owner",type:"address",value:Z},{name:"first token name",type:"not-empty-string",value:V},{name:"second token name",type:"not-empty-string",value:B},{name:"first token balance",type:"positive-integer",value:T},{name:"second token balance",type:"positive-integer",value:L}],De)){var We={owner_address:Tt(Z),first_token_id:Rn(V),first_token_balance:T,second_token_id:Rn(B),second_token_balance:L};se&&se.permissionId&&(We.Permission_id=se.permissionId),this.tronWeb.fullNode.request("wallet/exchangecreate",We,"post").then(function(He){De(null,He)}).catch(function(He){return De(He)})}}},{key:"injectExchangeTokens",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0&&arguments[1],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.tronWeb.defaultAddress.hex,Z=arguments.length>4?arguments[4]:void 0,se=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(ve.isFunction(Z)&&(se=Z,Z={}),ve.isFunction(L)?(se=L,L=this.tronWeb.defaultAddress.hex):ve.isObject(L)&&(Z=L,L=this.tronWeb.defaultAddress.hex),!se)return this.injectPromise(this.injectExchangeTokens,V,T,B,L,Z);if(!this.validator.notValid([{name:"owner",type:"address",value:L},{name:"token name",type:"not-empty-string",value:T},{name:"token amount",type:"integer",value:B,gte:1},{name:"exchangeID",type:"integer",value:V,gte:0}],se)){var De={owner_address:Tt(L),exchange_id:parseInt(V),token_id:Rn(T),quant:parseInt(B)};Z&&Z.permissionId&&(De.Permission_id=Z.permissionId),this.tronWeb.fullNode.request("wallet/exchangeinject",De,"post").then(function(We){return Sr(We,se)}).catch(function(We){return se(We)})}}},{key:"withdrawExchangeTokens",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0&&arguments[1],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.tronWeb.defaultAddress.hex,Z=arguments.length>4?arguments[4]:void 0,se=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(ve.isFunction(Z)&&(se=Z,Z={}),ve.isFunction(L)?(se=L,L=this.tronWeb.defaultAddress.hex):ve.isObject(L)&&(Z=L,L=this.tronWeb.defaultAddress.hex),!se)return this.injectPromise(this.withdrawExchangeTokens,V,T,B,L,Z);if(!this.validator.notValid([{name:"owner",type:"address",value:L},{name:"token name",type:"not-empty-string",value:T},{name:"token amount",type:"integer",value:B,gte:1},{name:"exchangeID",type:"integer",value:V,gte:0}],se)){var De={owner_address:Tt(L),exchange_id:parseInt(V),token_id:Rn(T),quant:parseInt(B)};Z&&Z.permissionId&&(De.Permission_id=Z.permissionId),this.tronWeb.fullNode.request("wallet/exchangewithdraw",De,"post").then(function(We){return Sr(We,se)}).catch(function(We){return se(We)})}}},{key:"tradeExchangeTokens",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0&&arguments[1],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.tronWeb.defaultAddress.hex,se=arguments.length>5?arguments[5]:void 0,De=arguments.length>6&&arguments[6]!==void 0&&arguments[6];if(ve.isFunction(se)&&(De=se,se={}),ve.isFunction(Z)?(De=Z,Z=this.tronWeb.defaultAddress.hex):ve.isObject(Z)&&(se=Z,Z=this.tronWeb.defaultAddress.hex),!De)return this.injectPromise(this.tradeExchangeTokens,V,T,B,L,Z,se);if(!this.validator.notValid([{name:"owner",type:"address",value:Z},{name:"token name",type:"not-empty-string",value:T},{name:"tokenAmountSold",type:"integer",value:B,gte:1},{name:"tokenAmountExpected",type:"integer",value:L,gte:1},{name:"exchangeID",type:"integer",value:V,gte:0}],De)){var We={owner_address:Tt(Z),exchange_id:parseInt(V),token_id:this.tronWeb.fromAscii(T),quant:parseInt(B),expected:parseInt(L)};se&&se.permissionId&&(We.Permission_id=se.permissionId),this.tronWeb.fullNode.request("wallet/exchangetransaction",We,"post").then(function(He){return Sr(He,De)}).catch(function(He){return De(He)})}}},{key:"updateSetting",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0&&arguments[1],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.tronWeb.defaultAddress.hex,L=arguments.length>3?arguments[3]:void 0,Z=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(ve.isFunction(L)&&(Z=L,L={}),ve.isFunction(B)?(Z=B,B=this.tronWeb.defaultAddress.hex):ve.isObject(B)&&(L=B,B=this.tronWeb.defaultAddress.hex),!Z)return this.injectPromise(this.updateSetting,V,T,B,L);if(!this.validator.notValid([{name:"owner",type:"address",value:B},{name:"contract",type:"address",value:V},{name:"userFeePercentage",type:"integer",value:T,gte:0,lte:100}],Z)){var se={owner_address:Tt(B),contract_address:Tt(V),consume_user_resource_percent:T};L&&L.permissionId&&(se.Permission_id=L.permissionId),this.tronWeb.fullNode.request("wallet/updatesetting",se,"post").then(function(De){return Sr(De,Z)}).catch(function(De){return Z(De)})}}},{key:"updateEnergyLimit",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0&&arguments[1],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.tronWeb.defaultAddress.hex,L=arguments.length>3?arguments[3]:void 0,Z=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(ve.isFunction(L)&&(Z=L,L={}),ve.isFunction(B)?(Z=B,B=this.tronWeb.defaultAddress.hex):ve.isObject(B)&&(L=B,B=this.tronWeb.defaultAddress.hex),!Z)return this.injectPromise(this.updateEnergyLimit,V,T,B,L);if(!this.validator.notValid([{name:"owner",type:"address",value:B},{name:"contract",type:"address",value:V},{name:"originEnergyLimit",type:"integer",value:T,gte:0,lte:1e7}],Z)){var se={owner_address:Tt(B),contract_address:Tt(V),origin_energy_limit:T};L&&L.permissionId&&(se.Permission_id=L.permissionId),this.tronWeb.fullNode.request("wallet/updateenergylimit",se,"post").then(function(De){return Sr(De,Z)}).catch(function(De){return Z(De)})}}},{key:"checkPermissions",value:function(V,T){if(V){if(V.type!==T||!V.permission_name||!ve.isString(V.permission_name)||!ve.isInteger(V.threshold)||V.threshold<1||!V.keys)return!1;var B,L=y0(V.keys);try{for(L.s();!(B=L.n()).done;){var Z=B.value;if(!this.tronWeb.isAddress(Z.address)||!ve.isInteger(Z.weight)||Z.weight>V.threshold||Z.weight<1||T===2&&!V.operations)return!1}}catch(se){L.e(se)}finally{L.f()}}return!0}},{key:"updateAccountPermissions",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,T=arguments.length>1&&arguments[1]!==void 0&&arguments[1],B=arguments.length>2&&arguments[2]!==void 0&&arguments[2],L=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Z=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(ve.isFunction(L)&&(Z=L,L=!1),ve.isFunction(B)&&(Z=B,B=L=!1),ve.isFunction(T)&&(Z=T,T=B=L=!1),!Z)return this.injectPromise(this.updateAccountPermissions,V,T,B,L);if(!this.tronWeb.isAddress(V))return Z("Invalid ownerAddress provided");if(!this.checkPermissions(T,0))return Z("Invalid ownerPermissions provided");if(!this.checkPermissions(B,1))return Z("Invalid witnessPermissions provided");Array.isArray(L)||(L=[L]);var se,De=y0(L);try{for(De.s();!(se=De.n()).done;){var We=se.value;if(!this.checkPermissions(We,2))return Z("Invalid activesPermissions provided")}}catch(Ge){De.e(Ge)}finally{De.f()}var He={owner_address:V};T&&(He.owner=T),B&&(He.witness=B),L&&(He.actives=L.length===1?L[0]:L),this.tronWeb.fullNode.request("wallet/accountpermissionupdate",He,"post").then(function(Ge){return Sr(Ge,Z)}).catch(function(Ge){return Z(Ge)})}},{key:"newTxID",value:(_e=h()(d.a.mark(function V(T,B){return d.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(B){L.next=2;break}return L.abrupt("return",this.injectPromise(this.newTxID,T));case 2:this.tronWeb.fullNode.request("wallet/getsignweight",T,"post").then(function(Z){Z=Z.transaction.transaction,typeof T.visible=="boolean"&&(Z.visible=T.visible),B(null,Z)}).catch(function(Z){return B("Error generating a new transaction id.")});case 3:case"end":return L.stop()}},V,this)})),function(V,T){return _e.apply(this,arguments)})},{key:"alterTransaction",value:(pe=h()(d.a.mark(function V(T){var B,L,Z=arguments;return d.a.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(B=Z.length>1&&Z[1]!==void 0?Z[1]:{},L=Z.length>2&&Z[2]!==void 0&&Z[2]){se.next=4;break}return se.abrupt("return",this.injectPromise(this.alterTransaction,T,B));case 4:if(!T.signature){se.next=6;break}return se.abrupt("return",L("You can not extend the expiration of a signed transaction."));case 6:if(!B.data){se.next=12;break}if(B.dataFormat!=="hex"&&(B.data=this.tronWeb.toHex(B.data)),B.data=B.data.replace(/^0x/,""),B.data.length!==0){se.next=11;break}return se.abrupt("return",L("Invalid data provided"));case 11:T.raw_data.data=B.data;case 12:if(!B.extension){se.next=17;break}if(B.extension=parseInt(1e3*B.extension),!(isNaN(B.extension)||T.raw_data.expiration+B.extension<=Date.now()+3e3)){se.next=16;break}return se.abrupt("return",L("Invalid extension provided"));case 16:T.raw_data.expiration+=B.extension;case 17:this.newTxID(T,L);case 18:case"end":return se.stop()}},V,this)})),function(V){return pe.apply(this,arguments)})},{key:"extendExpiration",value:(ie=h()(d.a.mark(function V(T,B){var L,Z=arguments;return d.a.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(L=Z.length>2&&Z[2]!==void 0&&Z[2]){se.next=3;break}return se.abrupt("return",this.injectPromise(this.extendExpiration,T,B));case 3:this.alterTransaction(T,{extension:B},L);case 4:case"end":return se.stop()}},V,this)})),function(V,T){return ie.apply(this,arguments)})},{key:"addUpdateData",value:(H=h()(d.a.mark(function V(T,B){var L,Z,se=arguments;return d.a.wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(L=se.length>2&&se[2]!==void 0?se[2]:"utf8",Z=se.length>3&&se[3]!==void 0&&se[3],ve.isFunction(L)&&(Z=L,L="utf8"),Z){De.next=5;break}return De.abrupt("return",this.injectPromise(this.addUpdateData,T,B,L));case 5:this.alterTransaction(T,{data:B,dataFormat:L},Z);case 6:case"end":return De.stop()}},V,this)})),function(V,T){return H.apply(this,arguments)})}]),q}();function Rb(q,H){var ie=Object.keys(q);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(q);H&&(pe=pe.filter(function(_e){return Object.getOwnPropertyDescriptor(q,_e).enumerable})),ie.push.apply(ie,pe)}return ie}function Ys(q){for(var H=1;H<arguments.length;H++){var ie=arguments[H]!=null?arguments[H]:{};H%2?Rb(Object(ie),!0).forEach(function(pe){g()(q,pe,ie[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(ie)):Rb(Object(ie)).forEach(function(pe){Object.defineProperty(q,pe,Object.getOwnPropertyDescriptor(ie,pe))})}return q}function kb(q){return ar.address.toHex(q)}var Nb=function(){function q(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(v()(this,q),!ue||!ue instanceof ar)throw new Error("Expected instance of TronWeb");this.tronWeb=ue,this.injectPromise=Js()(this),this.cache={contracts:{}},this.validator=new v0(ue)}var H,ie,pe,_e,V,T,B,L,Z,se,De,We,He,Ge,lt,Rt,Bt;return k()(q,[{key:"_parseToken",value:function(ue){return Ys(Ys({},ue),{},{name:this.tronWeb.toUtf8(ue.name),abbr:ue.abbr&&this.tronWeb.toUtf8(ue.abbr),description:ue.description&&this.tronWeb.toUtf8(ue.description),url:ue.url&&this.tronWeb.toUtf8(ue.url)})}},{key:"getCurrentBlock",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!ue)return this.injectPromise(this.getCurrentBlock);this.tronWeb.fullNode.request("wallet/getnowblock").then(function(J){ue(null,J)}).catch(function(J){return ue(J)})}},{key:"getConfirmedCurrentBlock",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!ue)return this.injectPromise(this.getConfirmedCurrentBlock);this.tronWeb.solidityNode.request("walletsolidity/getnowblock").then(function(J){ue(null,J)}).catch(function(J){return ue(J)})}},{key:"getBlock",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultBlock,J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return ve.isFunction(ue)&&(J=ue,ue=this.tronWeb.defaultBlock),J?ue===!1?J("No block identifier provided"):(ue=="earliest"&&(ue=0),ue=="latest"?this.getCurrentBlock(J):isNaN(ue)&&ve.isHex(ue)?this.getBlockByHash(ue,J):void this.getBlockByNumber(ue,J)):this.injectPromise(this.getBlock,ue)}},{key:"getBlockByHash",value:function(ue){var J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!J)return this.injectPromise(this.getBlockByHash,ue);this.tronWeb.fullNode.request("wallet/getblockbyid",{value:ue},"post").then(function(Y){if(!Object.keys(Y).length)return J("Block not found");J(null,Y)}).catch(function(Y){return J(Y)})}},{key:"getBlockByNumber",value:function(ue){var J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return J?!ve.isInteger(ue)||ue<0?J("Invalid block number provided"):void this.tronWeb.fullNode.request("wallet/getblockbynum",{num:parseInt(ue)},"post").then(function(Y){if(!Object.keys(Y).length)return J("Block not found");J(null,Y)}).catch(function(Y){return J(Y)}):this.injectPromise(this.getBlockByNumber,ue)}},{key:"getBlockTransactionCount",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultBlock,J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(ve.isFunction(ue)&&(J=ue,ue=this.tronWeb.defaultBlock),!J)return this.injectPromise(this.getBlockTransactionCount,ue);this.getBlock(ue).then(function(Y){var me=Y.transactions;J(null,(me===void 0?[]:me).length)}).catch(function(Y){return J(Y)})}},{key:"getTransactionFromBlock",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultBlock,J=arguments.length>1?arguments[1]:void 0,Y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(ve.isFunction(J)&&(Y=J,J=0),ve.isFunction(ue)&&(Y=ue,ue=this.tronWeb.defaultBlock),!Y)return this.injectPromise(this.getTransactionFromBlock,ue,J);this.getBlock(ue).then(function(me){var ce=me.transactions,he=ce!==void 0&&ce;he?typeof J=="number"?J>=0&&J<he.length?Y(null,he[J]):Y("Invalid transaction index provided"):Y(null,he):Y("Transaction not found in block")}).catch(function(me){return Y(me)})}},{key:"getTransaction",value:function(ue){var J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!J)return this.injectPromise(this.getTransaction,ue);this.tronWeb.fullNode.request("wallet/gettransactionbyid",{value:ue},"post").then(function(Y){if(!Object.keys(Y).length)return J("Transaction not found");J(null,Y)}).catch(function(Y){return J(Y)})}},{key:"getConfirmedTransaction",value:function(ue){var J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!J)return this.injectPromise(this.getConfirmedTransaction,ue);this.tronWeb.solidityNode.request("walletsolidity/gettransactionbyid",{value:ue},"post").then(function(Y){if(!Object.keys(Y).length)return J("Transaction not found");J(null,Y)}).catch(function(Y){return J(Y)})}},{key:"getUnconfirmedTransactionInfo",value:function(ue){var J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this._getTransactionInfoById(ue,{confirmed:!1},J)}},{key:"getTransactionInfo",value:function(ue){var J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this._getTransactionInfoById(ue,{confirmed:!0},J)}},{key:"_getTransactionInfoById",value:function(ue,J){var Y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!Y)return this.injectPromise(this._getTransactionInfoById,ue,J);this.tronWeb[J.confirmed?"solidityNode":"fullNode"].request("wallet".concat(J.confirmed?"solidity":"","/gettransactioninfobyid"),{value:ue},"post").then(function(me){Y(null,me)}).catch(function(me){return Y(me)})}},{key:"getTransactionsToAddress",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,me=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return ve.isFunction(Y)&&(me=Y,Y=0),ve.isFunction(J)&&(me=J,J=30),me?(ue=this.tronWeb.address.toHex(ue),this.getTransactionsRelated(ue,"to",J,Y,me)):this.injectPromise(this.getTransactionsToAddress,ue,J,Y)}},{key:"getTransactionsFromAddress",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,me=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return ve.isFunction(Y)&&(me=Y,Y=0),ve.isFunction(J)&&(me=J,J=30),me?(ue=this.tronWeb.address.toHex(ue),this.getTransactionsRelated(ue,"from",J,Y,me)):this.injectPromise(this.getTransactionsFromAddress,ue,J,Y)}},{key:"getTransactionsRelated",value:(Bt=h()(d.a.mark(function ue(){var J,Y,me,ce,he,Ee,qe,Be,Se,Te=arguments;return d.a.wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(J=Te.length>0&&Te[0]!==void 0?Te[0]:this.tronWeb.defaultAddress.hex,Y=Te.length>1&&Te[1]!==void 0?Te[1]:"all",me=Te.length>2&&Te[2]!==void 0?Te[2]:30,ce=Te.length>3&&Te[3]!==void 0?Te[3]:0,he=Te.length>4&&Te[4]!==void 0&&Te[4],ve.isFunction(ce)&&(he=ce,ce=0),ve.isFunction(me)&&(he=me,me=30),ve.isFunction(Y)&&(he=Y,Y="all"),ve.isFunction(J)&&(he=J,J=this.tronWeb.defaultAddress.hex),he){Fe.next=11;break}return Fe.abrupt("return",this.injectPromise(this.getTransactionsRelated,J,Y,me,ce));case 11:if(["to","from","all"].includes(Y)){Fe.next=13;break}return Fe.abrupt("return",he('Invalid direction provided: Expected "to", "from" or "all"'));case 13:if(Y!="all"){Fe.next=27;break}return Fe.prev=14,Fe.next=17,Promise.all([this.getTransactionsRelated(J,"from",me,ce),this.getTransactionsRelated(J,"to",me,ce)]);case 17:return Ee=Fe.sent,qe=Ac()(Ee,2),Be=qe[0],Se=qe[1],Fe.abrupt("return",he(null,[].concat(P()(Be.map(function(Ce){return Ce.direction="from",Ce})),P()(Se.map(function(Ce){return Ce.direction="to",Ce}))).sort(function(Ce,ze){return ze.raw_data.timestamp-Ce.raw_data.timestamp})));case 24:return Fe.prev=24,Fe.t0=Fe.catch(14),Fe.abrupt("return",he(Fe.t0));case 27:if(this.tronWeb.isAddress(J)){Fe.next=29;break}return Fe.abrupt("return",he("Invalid address provided"));case 29:if(!(!ve.isInteger(me)||me<0||ce&&me<1)){Fe.next=31;break}return Fe.abrupt("return",he("Invalid limit provided"));case 31:if(ve.isInteger(ce)&&!(ce<0)){Fe.next=33;break}return Fe.abrupt("return",he("Invalid offset provided"));case 33:J=this.tronWeb.address.toHex(J),this.tronWeb.solidityNode.request("walletextension/gettransactions".concat(Y,"this"),{account:{address:J},offset:ce,limit:me},"post").then(function(Ce){var ze=Ce.transaction;he(null,ze)}).catch(function(Ce){return he(Ce)});case 35:case"end":return Fe.stop()}},ue,this,[[14,24]])})),function(){return Bt.apply(this,arguments)})},{key:"getAccount",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return ve.isFunction(ue)&&(J=ue,ue=this.tronWeb.defaultAddress.hex),J?this.tronWeb.isAddress(ue)?(ue=this.tronWeb.address.toHex(ue),void this.tronWeb.solidityNode.request("walletsolidity/getaccount",{address:ue},"post").then(function(Y){J(null,Y)}).catch(function(Y){return J(Y)})):J("Invalid address provided"):this.injectPromise(this.getAccount,ue)}},{key:"getAccountById",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0],J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!J)return this.injectPromise(this.getAccountById,ue);this.getAccountInfoById(ue,{confirmed:!0},J)}},{key:"getAccountInfoById",value:function(ue,J,Y){this.validator.notValid([{name:"accountId",type:"hex",value:ue},{name:"accountId",type:"string",lte:32,gte:8,value:ue}],Y)||(ue.startsWith("0x")&&(ue=ue.slice(2)),this.tronWeb[J.confirmed?"solidityNode":"fullNode"].request("wallet".concat(J.confirmed?"solidity":"","/getaccountbyid"),{account_id:ue},"post").then(function(me){Y(null,me)}).catch(function(me){return Y(me)}))}},{key:"getBalance",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(ve.isFunction(ue)&&(J=ue,ue=this.tronWeb.defaultAddress.hex),!J)return this.injectPromise(this.getBalance,ue);this.getAccount(ue).then(function(Y){var me=Y.balance;J(null,me===void 0?0:me)}).catch(function(Y){return J(Y)})}},{key:"getUnconfirmedAccount",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return ve.isFunction(ue)&&(J=ue,ue=this.tronWeb.defaultAddress.hex),J?this.tronWeb.isAddress(ue)?(ue=this.tronWeb.address.toHex(ue),void this.tronWeb.fullNode.request("wallet/getaccount",{address:ue},"post").then(function(Y){J(null,Y)}).catch(function(Y){return J(Y)})):J("Invalid address provided"):this.injectPromise(this.getUnconfirmedAccount,ue)}},{key:"getUnconfirmedAccountById",value:function(ue){var J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!J)return this.injectPromise(this.getUnconfirmedAccountById,ue);this.getAccountInfoById(ue,{confirmed:!1},J)}},{key:"getUnconfirmedBalance",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(ve.isFunction(ue)&&(J=ue,ue=this.tronWeb.defaultAddress.hex),!J)return this.injectPromise(this.getUnconfirmedBalance,ue);this.getUnconfirmedAccount(ue).then(function(Y){var me=Y.balance;J(null,me===void 0?0:me)}).catch(function(Y){return J(Y)})}},{key:"getBandwidth",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return ve.isFunction(ue)&&(J=ue,ue=this.tronWeb.defaultAddress.hex),J?this.tronWeb.isAddress(ue)?(ue=this.tronWeb.address.toHex(ue),void this.tronWeb.fullNode.request("wallet/getaccountnet",{address:ue},"post").then(function(Y){var me=Y.freeNetUsed,ce=me===void 0?0:me,he=Y.freeNetLimit,Ee=he===void 0?0:he,qe=Y.NetUsed,Be=qe===void 0?0:qe,Se=Y.NetLimit;J(null,Ee-ce+((Se===void 0?0:Se)-Be))}).catch(function(Y){return J(Y)})):J("Invalid address provided"):this.injectPromise(this.getBandwidth,ue)}},{key:"getTokensIssuedByAddress",value:function(){var ue=this,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,Y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return ve.isFunction(J)&&(Y=J,J=this.tronWeb.defaultAddress.hex),Y?this.tronWeb.isAddress(J)?(J=this.tronWeb.address.toHex(J),void this.tronWeb.fullNode.request("wallet/getassetissuebyaccount",{address:J},"post").then(function(me){var ce=me.assetIssue,he=ce!==void 0&&ce;if(!he)return Y(null,{});var Ee=he.map(function(qe){return ue._parseToken(qe)}).reduce(function(qe,Be){return qe[Be.name]=Be,qe},{});Y(null,Ee)}).catch(function(me){return Y(me)})):Y("Invalid address provided"):this.injectPromise(this.getTokensIssuedByAddress,J)}},{key:"getTokenFromID",value:function(){var ue=this,J=arguments.length>0&&arguments[0]!==void 0&&arguments[0],Y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Y?(ve.isInteger(J)&&(J=J.toString()),ve.isString(J)&&J.length?void this.tronWeb.fullNode.request("wallet/getassetissuebyname",{value:this.tronWeb.fromUtf8(J)},"post").then(function(me){if(!me.name)return Y("Token does not exist");Y(null,ue._parseToken(me))}).catch(function(me){return Y(me)}):Y("Invalid token ID provided")):this.injectPromise(this.getTokenFromID,J)}},{key:"listNodes",value:function(){var ue=this,J=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!J)return this.injectPromise(this.listNodes);this.tronWeb.fullNode.request("wallet/listnodes").then(function(Y){var me=Y.nodes;J(null,(me===void 0?[]:me).map(function(ce){var he=ce.address,Ee=he.host,qe=he.port;return"".concat(ue.tronWeb.toUtf8(Ee),":").concat(qe)}))}).catch(function(Y){return J(Y)})}},{key:"getBlockRange",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,Y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return ve.isFunction(J)&&(Y=J,J=30),ve.isFunction(ue)&&(Y=ue,ue=0),Y?!ve.isInteger(ue)||ue<0?Y("Invalid start of range provided"):!ve.isInteger(J)||J<=ue?Y("Invalid end of range provided"):void this.tronWeb.fullNode.request("wallet/getblockbylimitnext",{startNum:parseInt(ue),endNum:parseInt(J)+1},"post").then(function(me){var ce=me.block;Y(null,ce===void 0?[]:ce)}).catch(function(me){return Y(me)}):this.injectPromise(this.getBlockRange,ue,J)}},{key:"listSuperRepresentatives",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!ue)return this.injectPromise(this.listSuperRepresentatives);this.tronWeb.fullNode.request("wallet/listwitnesses").then(function(J){var Y=J.witnesses;ue(null,Y===void 0?[]:Y)}).catch(function(J){return ue(J)})}},{key:"listTokens",value:function(){var ue=this,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,me=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return ve.isFunction(Y)&&(me=Y,Y=0),ve.isFunction(J)&&(me=J,J=0),me?!ve.isInteger(J)||J<0||Y&&J<1?me("Invalid limit provided"):!ve.isInteger(Y)||Y<0?me("Invalid offset provided"):J?void this.tronWeb.fullNode.request("wallet/getpaginatedassetissuelist",{offset:parseInt(Y),limit:parseInt(J)},"post").then(function(ce){var he=ce.assetIssue;me(null,(he===void 0?[]:he).map(function(Ee){return ue._parseToken(Ee)}))}).catch(function(ce){return me(ce)}):this.tronWeb.fullNode.request("wallet/getassetissuelist").then(function(ce){var he=ce.assetIssue;me(null,(he===void 0?[]:he).map(function(Ee){return ue._parseToken(Ee)}))}).catch(function(ce){return me(ce)}):this.injectPromise(this.listTokens,J,Y)}},{key:"timeUntilNextVoteCycle",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!ue)return this.injectPromise(this.timeUntilNextVoteCycle);this.tronWeb.fullNode.request("wallet/getnextmaintenancetime").then(function(J){var Y=J.num,me=Y===void 0?-1:Y;if(me==-1)return ue("Failed to get time until next vote cycle");ue(null,Math.floor(me/1e3))}).catch(function(J){return ue(J)})}},{key:"getContract",value:function(ue){var J=this,Y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Y?this.tronWeb.isAddress(ue)?void(this.cache.contracts[ue]?Y(null,this.cache.contracts[ue]):(ue=this.tronWeb.address.toHex(ue),this.tronWeb.fullNode.request("wallet/getcontract",{value:ue}).then(function(me){if(me.Error)return Y("Contract does not exist");J.cache.contracts[ue]=me,Y(null,me)}).catch(function(me){return Y(me)}))):Y("Invalid contract address provided"):this.injectPromise(this.getContract,ue)}},{key:"verifyMessage",value:(Rt=h()(d.a.mark(function ue(){var J,Y,me,ce,he,Ee=arguments;return d.a.wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(J=Ee.length>0&&Ee[0]!==void 0&&Ee[0],Y=Ee.length>1&&Ee[1]!==void 0&&Ee[1],me=Ee.length>2&&Ee[2]!==void 0?Ee[2]:this.tronWeb.defaultAddress.base58,ce=!(Ee.length>3&&Ee[3]!==void 0)||Ee[3],he=Ee.length>4&&Ee[4]!==void 0&&Ee[4],ve.isFunction(me)&&(he=me,me=this.tronWeb.defaultAddress.base58,ce=!0),ve.isFunction(ce)&&(he=ce,ce=!0),he){qe.next=9;break}return qe.abrupt("return",this.injectPromise(this.verifyMessage,J,Y,me,ce));case 9:if(ve.isHex(J)){qe.next=11;break}return qe.abrupt("return",he("Expected hex message input"));case 11:if(!q.verifySignature(J,me,Y,ce)){qe.next=13;break}return qe.abrupt("return",he(null,!0));case 13:he("Signature does not match");case 14:case"end":return qe.stop()}},ue,this)})),function(){return Rt.apply(this,arguments)})},{key:"verifyMessageV2",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0],J=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},me=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ve.isFunction(Y)&&(me=Y,Y={}),!me)return this.injectPromise(this.verifyMessageV2,ue,J,Y);try{var ce=q.verifyMessageV2(ue,J);me(null,ce)}catch(he){me(he)}}},{key:"verifyTypedData",value:function(ue,J,Y,me){var ce=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.tronWeb.defaultAddress.base58,he=arguments.length>5&&arguments[5]!==void 0&&arguments[5];return ve.isFunction(ce)&&(he=ce,ce=this.tronWeb.defaultAddress.base58),he?q.verifyTypedData(ue,J,Y,me,ce)?he(null,!0):void he("Signature does not match"):this.injectPromise(this.verifyTypedData,ue,J,Y,me,ce)}},{key:"sign",value:(lt=h()(d.a.mark(function ue(){var J,Y,me,ce,he,Ee,qe=arguments;return d.a.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(J=qe.length>0&&qe[0]!==void 0&&qe[0],Y=qe.length>1&&qe[1]!==void 0?qe[1]:this.tronWeb.defaultPrivateKey,me=!(qe.length>2&&qe[2]!==void 0)||qe[2],ce=qe.length>3&&qe[3]!==void 0&&qe[3],he=qe.length>4&&qe[4]!==void 0&&qe[4],ve.isFunction(ce)&&(he=ce,ce=!1),ve.isFunction(me)&&(he=me,me=!0,ce=!1),ve.isFunction(Y)&&(he=Y,Y=this.tronWeb.defaultPrivateKey,me=!0,ce=!1),he){Be.next=10;break}return Be.abrupt("return",this.injectPromise(this.sign,J,Y,me,ce));case 10:if(!ve.isString(J)){Be.next=21;break}if(ve.isHex(J)){Be.next=13;break}return Be.abrupt("return",he("Expected hex message input"));case 13:return Be.prev=13,Ee=q.signString(J,Y,me),Be.abrupt("return",he(null,Ee));case 18:Be.prev=18,Be.t0=Be.catch(13),he(Be.t0);case 21:if(ve.isObject(J)){Be.next=23;break}return Be.abrupt("return",he("Invalid transaction provided"));case 23:if(ce||!J.signature){Be.next=25;break}return Be.abrupt("return",he("Transaction is already signed"));case 25:if(Be.prev=25,ce){Be.next=30;break}if(this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(Y)).toLowerCase()===this.tronWeb.address.toHex(J.raw_data.contract[0].parameter.value.owner_address)){Be.next=30;break}return Be.abrupt("return",he("Private key does not match address in transaction"));case 30:return Be.abrupt("return",he(null,ve.crypto.signTransaction(Y,J)));case 33:Be.prev=33,Be.t1=Be.catch(25),he(Be.t1);case 36:case"end":return Be.stop()}},ue,this,[[13,18],[25,33]])})),function(){return lt.apply(this,arguments)})},{key:"signMessageV2",value:function(ue){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.tronWeb.defaultPrivateKey,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},me=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ve.isFunction(Y)&&(me=Y,Y={}),ve.isFunction(J)&&(me=J,J=this.tronWeb.defaultPrivateKey),!me)return this.injectPromise(this.signMessageV2,ue,J);try{var ce=q.signMessageV2(ue,J);return me(null,ce)}catch(he){me(he)}}},{key:"_signTypedData",value:function(ue,J,Y){var me=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.tronWeb.defaultPrivateKey,ce=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(ve.isFunction(me)&&(ce=me,me=this.tronWeb.defaultPrivateKey),!ce)return this.injectPromise(this._signTypedData,ue,J,Y,me);try{var he=q._signTypedData(ue,J,Y,me);return ce(null,he)}catch(Ee){ce(Ee)}}},{key:"multiSign",value:(Ge=h()(d.a.mark(function ue(){var J,Y,me,ce,he,Ee,qe,Be=arguments;return d.a.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(J=Be.length>0&&Be[0]!==void 0&&Be[0],Y=Be.length>1&&Be[1]!==void 0?Be[1]:this.tronWeb.defaultPrivateKey,me=Be.length>2&&Be[2]!==void 0&&Be[2],ce=Be.length>3&&Be[3]!==void 0&&Be[3],ve.isFunction(me)&&(ce=me,me=0),ve.isFunction(Y)&&(ce=Y,Y=this.tronWeb.defaultPrivateKey,me=0),ce){Se.next=8;break}return Se.abrupt("return",this.injectPromise(this.multiSign,J,Y,me));case 8:if(ve.isObject(J)&&J.raw_data&&J.raw_data.contract){Se.next=10;break}return Se.abrupt("return",ce("Invalid transaction provided"));case 10:if(J.raw_data.contract[0].Permission_id||!(me>0)){Se.next=30;break}return J.raw_data.contract[0].Permission_id=me,he=this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(Y)).toLowerCase(),Se.next=15,this.getSignWeight(J,me);case 15:if((Ee=Se.sent).result.code!=="PERMISSION_ERROR"){Se.next=18;break}return Se.abrupt("return",ce(Ee.result.message));case 18:if(qe=!1,Ee.permission.keys.map(function(Te){Te.address===he&&(qe=!0)}),qe){Se.next=22;break}return Se.abrupt("return",ce(Y+" has no permission to sign"));case 22:if(!Ee.approved_list||Ee.approved_list.indexOf(he)==-1){Se.next=24;break}return Se.abrupt("return",ce(Y+" already sign transaction"));case 24:if(!Ee.transaction||!Ee.transaction.transaction){Se.next=29;break}J=Ee.transaction.transaction,me>0&&(J.raw_data.contract[0].Permission_id=me),Se.next=30;break;case 29:return Se.abrupt("return",ce("Invalid transaction provided"));case 30:return Se.prev=30,Se.abrupt("return",ce(null,ve.crypto.signTransaction(Y,J)));case 34:Se.prev=34,Se.t0=Se.catch(30),ce(Se.t0);case 37:case"end":return Se.stop()}},ue,this,[[30,34]])})),function(){return Ge.apply(this,arguments)})},{key:"getApprovedList",value:(He=h()(d.a.mark(function ue(J){var Y,me=arguments;return d.a.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(Y=me.length>1&&me[1]!==void 0&&me[1]){ce.next=3;break}return ce.abrupt("return",this.injectPromise(this.getApprovedList,J));case 3:if(ve.isObject(J)){ce.next=5;break}return ce.abrupt("return",Y("Invalid transaction provided"));case 5:this.tronWeb.fullNode.request("wallet/getapprovedlist",J,"post").then(function(he){Y(null,he)}).catch(function(he){return Y(he)});case 6:case"end":return ce.stop()}},ue,this)})),function(ue){return He.apply(this,arguments)})},{key:"getSignWeight",value:(We=h()(d.a.mark(function ue(J,Y){var me,ce=arguments;return d.a.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(me=ce.length>2&&ce[2]!==void 0&&ce[2],ve.isFunction(Y)&&(me=Y,Y=void 0),me){he.next=4;break}return he.abrupt("return",this.injectPromise(this.getSignWeight,J,Y));case 4:if(ve.isObject(J)&&J.raw_data&&J.raw_data.contract){he.next=6;break}return he.abrupt("return",me("Invalid transaction provided"));case 6:if(ve.isInteger(Y)?J.raw_data.contract[0].Permission_id=parseInt(Y):typeof J.raw_data.contract[0].Permission_id!="number"&&(J.raw_data.contract[0].Permission_id=0),ve.isObject(J)){he.next=9;break}return he.abrupt("return",me("Invalid transaction provided"));case 9:this.tronWeb.fullNode.request("wallet/getsignweight",J,"post").then(function(Ee){me(null,Ee)}).catch(function(Ee){return me(Ee)});case 10:case"end":return he.stop()}},ue,this)})),function(ue,J){return We.apply(this,arguments)})},{key:"sendRawTransaction",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0],J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return ve.isFunction(J)&&(Y=J,J={}),Y?ve.isObject(ue)?ve.isObject(J)?ue.signature&&ve.isArray(ue.signature)?void this.tronWeb.fullNode.request("wallet/broadcasttransaction",ue,"post").then(function(me){me.result&&(me.transaction=ue),Y(null,me)}).catch(function(me){return Y(me)}):Y("Transaction is not signed"):Y("Invalid options provided"):Y("Invalid transaction provided"):this.injectPromise(this.sendRawTransaction,ue,J)}},{key:"sendHexTransaction",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0],J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(ve.isFunction(J)&&(Y=J,J={}),!Y)return this.injectPromise(this.sendHexTransaction,ue,J);if(!ve.isHex(ue))return Y("Invalid hex transaction provided");if(!ve.isObject(J))return Y("Invalid options provided");var me={transaction:ue};this.tronWeb.fullNode.request("wallet/broadcasthex",me,"post").then(function(ce){ce.result&&(ce.transaction=JSON.parse(ce.transaction),ce.hexTransaction=ue),Y(null,ce)}).catch(function(ce){return Y(ce)})}},{key:"sendTransaction",value:(De=h()(d.a.mark(function ue(){var J,Y,me,ce,he,Ee,qe,Be,Se=arguments;return d.a.wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(J=Se.length>0&&Se[0]!==void 0&&Se[0],Y=Se.length>1&&Se[1]!==void 0&&Se[1],me=Se.length>2&&Se[2]!==void 0?Se[2]:{},ce=Se.length>3&&Se[3]!==void 0&&Se[3],ve.isFunction(me)&&(ce=me,me={}),typeof me=="string"&&(me={privateKey:me}),ce){Te.next=8;break}return Te.abrupt("return",this.injectPromise(this.sendTransaction,J,Y,me));case 8:if(this.tronWeb.isAddress(J)){Te.next=10;break}return Te.abrupt("return",ce("Invalid recipient provided"));case 10:if(ve.isInteger(Y)&&!(Y<=0)){Te.next=12;break}return Te.abrupt("return",ce("Invalid amount provided"));case 12:if((me=Ys({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},me)).privateKey||me.address){Te.next=15;break}return Te.abrupt("return",ce("Function requires either a private key or address to be set"));case 15:return Te.prev=15,he=me.privateKey?this.tronWeb.address.fromPrivateKey(me.privateKey):me.address,Te.next=19,this.tronWeb.transactionBuilder.sendTrx(J,Y,he);case 19:return Ee=Te.sent,Te.next=22,this.sign(Ee,me.privateKey||void 0);case 22:return qe=Te.sent,Te.next=25,this.sendRawTransaction(qe);case 25:return Be=Te.sent,Te.abrupt("return",ce(null,Be));case 29:return Te.prev=29,Te.t0=Te.catch(15),Te.abrupt("return",ce(Te.t0));case 32:case"end":return Te.stop()}},ue,this,[[15,29]])})),function(){return De.apply(this,arguments)})},{key:"sendToken",value:(se=h()(d.a.mark(function ue(){var J,Y,me,ce,he,Ee,qe,Be,Se,Te=arguments;return d.a.wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(J=Te.length>0&&Te[0]!==void 0&&Te[0],Y=Te.length>1&&Te[1]!==void 0&&Te[1],me=Te.length>2&&Te[2]!==void 0&&Te[2],ce=Te.length>3&&Te[3]!==void 0?Te[3]:{},he=Te.length>4&&Te[4]!==void 0&&Te[4],ve.isFunction(ce)&&(he=ce,ce={}),typeof ce=="string"&&(ce={privateKey:ce}),he){Fe.next=9;break}return Fe.abrupt("return",this.injectPromise(this.sendToken,J,Y,me,ce));case 9:if(this.tronWeb.isAddress(J)){Fe.next=11;break}return Fe.abrupt("return",he("Invalid recipient provided"));case 11:if(ve.isInteger(Y)&&!(Y<=0)){Fe.next=13;break}return Fe.abrupt("return",he("Invalid amount provided"));case 13:if(ve.isInteger(me)&&(me=me.toString()),ve.isString(me)){Fe.next=16;break}return Fe.abrupt("return",he("Invalid token ID provided"));case 16:if((ce=Ys({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},ce)).privateKey||ce.address){Fe.next=19;break}return Fe.abrupt("return",he("Function requires either a private key or address to be set"));case 19:return Fe.prev=19,Ee=ce.privateKey?this.tronWeb.address.fromPrivateKey(ce.privateKey):ce.address,Fe.next=23,this.tronWeb.transactionBuilder.sendToken(J,Y,me,Ee);case 23:return qe=Fe.sent,Fe.next=26,this.sign(qe,ce.privateKey||void 0);case 26:return Be=Fe.sent,Fe.next=29,this.sendRawTransaction(Be);case 29:return Se=Fe.sent,Fe.abrupt("return",he(null,Se));case 33:return Fe.prev=33,Fe.t0=Fe.catch(19),Fe.abrupt("return",he(Fe.t0));case 36:case"end":return Fe.stop()}},ue,this,[[19,33]])})),function(){return se.apply(this,arguments)})},{key:"freezeBalance",value:(Z=h()(d.a.mark(function ue(){var J,Y,me,ce,he,Ee,qe,Be,Se,Te,Fe=arguments;return d.a.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(J=Fe.length>0&&Fe[0]!==void 0?Fe[0]:0,Y=Fe.length>1&&Fe[1]!==void 0?Fe[1]:3,me=Fe.length>2&&Fe[2]!==void 0?Fe[2]:"BANDWIDTH",ce=Fe.length>3&&Fe[3]!==void 0?Fe[3]:{},he=Fe.length>4&&Fe[4]!==void 0?Fe[4]:void 0,Ee=Fe.length>5&&Fe[5]!==void 0&&Fe[5],ve.isFunction(he)&&(Ee=he,he=void 0),ve.isFunction(Y)&&(Ee=Y,Y=3),ve.isFunction(me)&&(Ee=me,me="BANDWIDTH"),ve.isFunction(ce)&&(Ee=ce,ce={}),typeof ce=="string"&&(ce={privateKey:ce}),Ee){Ce.next=13;break}return Ce.abrupt("return",this.injectPromise(this.freezeBalance,J,Y,me,ce,he));case 13:if(["BANDWIDTH","ENERGY"].includes(me)){Ce.next=15;break}return Ce.abrupt("return",Ee('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'));case 15:if(ve.isInteger(J)&&!(J<=0)){Ce.next=17;break}return Ce.abrupt("return",Ee("Invalid amount provided"));case 17:if(ve.isInteger(Y)&&!(Y<3)){Ce.next=19;break}return Ce.abrupt("return",Ee("Invalid duration provided, minimum of 3 days"));case 19:if((ce=Ys({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},ce)).privateKey||ce.address){Ce.next=22;break}return Ce.abrupt("return",Ee("Function requires either a private key or address to be set"));case 22:return Ce.prev=22,qe=ce.privateKey?this.tronWeb.address.fromPrivateKey(ce.privateKey):ce.address,Ce.next=26,this.tronWeb.transactionBuilder.freezeBalance(J,Y,me,qe,he);case 26:return Be=Ce.sent,Ce.next=29,this.sign(Be,ce.privateKey||void 0);case 29:return Se=Ce.sent,Ce.next=32,this.sendRawTransaction(Se);case 32:return Te=Ce.sent,Ce.abrupt("return",Ee(null,Te));case 36:return Ce.prev=36,Ce.t0=Ce.catch(22),Ce.abrupt("return",Ee(Ce.t0));case 39:case"end":return Ce.stop()}},ue,this,[[22,36]])})),function(){return Z.apply(this,arguments)})},{key:"unfreezeBalance",value:(L=h()(d.a.mark(function ue(){var J,Y,me,ce,he,Ee,qe,Be,Se=arguments;return d.a.wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(J=Se.length>0&&Se[0]!==void 0?Se[0]:"BANDWIDTH",Y=Se.length>1&&Se[1]!==void 0?Se[1]:{},me=Se.length>2&&Se[2]!==void 0?Se[2]:void 0,ce=Se.length>3&&Se[3]!==void 0&&Se[3],ve.isFunction(me)&&(ce=me,me=void 0),ve.isFunction(J)&&(ce=J,J="BANDWIDTH"),ve.isFunction(Y)&&(ce=Y,Y={}),typeof Y=="string"&&(Y={privateKey:Y}),ce){Te.next=10;break}return Te.abrupt("return",this.injectPromise(this.unfreezeBalance,J,Y,me));case 10:if(["BANDWIDTH","ENERGY"].includes(J)){Te.next=12;break}return Te.abrupt("return",ce('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'));case 12:if((Y=Ys({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},Y)).privateKey||Y.address){Te.next=15;break}return Te.abrupt("return",ce("Function requires either a private key or address to be set"));case 15:return Te.prev=15,he=Y.privateKey?this.tronWeb.address.fromPrivateKey(Y.privateKey):Y.address,Te.next=19,this.tronWeb.transactionBuilder.unfreezeBalance(J,he,me);case 19:return Ee=Te.sent,Te.next=22,this.sign(Ee,Y.privateKey||void 0);case 22:return qe=Te.sent,Te.next=25,this.sendRawTransaction(qe);case 25:return Be=Te.sent,Te.abrupt("return",ce(null,Be));case 29:return Te.prev=29,Te.t0=Te.catch(15),Te.abrupt("return",ce(Te.t0));case 32:case"end":return Te.stop()}},ue,this,[[15,29]])})),function(){return L.apply(this,arguments)})},{key:"updateAccount",value:(B=h()(d.a.mark(function ue(){var J,Y,me,ce,he,Ee,qe,Be=arguments;return d.a.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(J=Be.length>0&&Be[0]!==void 0&&Be[0],Y=Be.length>1&&Be[1]!==void 0?Be[1]:{},me=Be.length>2&&Be[2]!==void 0&&Be[2],ve.isFunction(Y)&&(me=Y,Y={}),typeof Y=="string"&&(Y={privateKey:Y}),me){Se.next=7;break}return Se.abrupt("return",this.injectPromise(this.updateAccount,J,Y));case 7:if(ve.isString(J)&&J.length){Se.next=9;break}return Se.abrupt("return",me("Name must be a string"));case 9:if((Y=Ys({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},Y)).privateKey||Y.address){Se.next=12;break}return Se.abrupt("return",me("Function requires either a private key or address to be set"));case 12:return Se.prev=12,ce=Y.privateKey?this.tronWeb.address.fromPrivateKey(Y.privateKey):Y.address,Se.next=16,this.tronWeb.transactionBuilder.updateAccount(J,ce);case 16:return he=Se.sent,Se.next=19,this.sign(he,Y.privateKey||void 0);case 19:return Ee=Se.sent,Se.next=22,this.sendRawTransaction(Ee);case 22:return qe=Se.sent,Se.abrupt("return",me(null,qe));case 26:return Se.prev=26,Se.t0=Se.catch(12),Se.abrupt("return",me(Se.t0));case 29:case"end":return Se.stop()}},ue,this,[[12,26]])})),function(){return B.apply(this,arguments)})},{key:"signMessage",value:function(){return this.sign.apply(this,arguments)}},{key:"sendAsset",value:function(){return this.sendToken.apply(this,arguments)}},{key:"send",value:function(){return this.sendTransaction.apply(this,arguments)}},{key:"sendTrx",value:function(){return this.sendTransaction.apply(this,arguments)}},{key:"broadcast",value:function(){return this.sendRawTransaction.apply(this,arguments)}},{key:"broadcastHex",value:function(){return this.sendHexTransaction.apply(this,arguments)}},{key:"signTransaction",value:function(){return this.sign.apply(this,arguments)}},{key:"getProposal",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0],J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return J?!ve.isInteger(ue)||ue<0?J("Invalid proposalID provided"):void this.tronWeb.fullNode.request("wallet/getproposalbyid",{id:parseInt(ue)},"post").then(function(Y){J(null,Y)}).catch(function(Y){return J(Y)}):this.injectPromise(this.getProposal,ue)}},{key:"listProposals",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!ue)return this.injectPromise(this.listProposals);this.tronWeb.fullNode.request("wallet/listproposals",{},"post").then(function(J){var Y=J.proposals;ue(null,Y===void 0?[]:Y)}).catch(function(J){return ue(J)})}},{key:"getChainParameters",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!ue)return this.injectPromise(this.getChainParameters);this.tronWeb.fullNode.request("wallet/getchainparameters",{},"post").then(function(J){var Y=J.chainParameter;ue(null,Y===void 0?[]:Y)}).catch(function(J){return ue(J)})}},{key:"getAccountResources",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.tronWeb.defaultAddress.hex,J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return J?this.tronWeb.isAddress(ue)?void this.tronWeb.fullNode.request("wallet/getaccountresource",{address:this.tronWeb.address.toHex(ue)},"post").then(function(Y){J(null,Y)}).catch(function(Y){return J(Y)}):J("Invalid address provided"):this.injectPromise(this.getAccountResources,ue)}},{key:"getExchangeByID",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0],J=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return J?!ve.isInteger(ue)||ue<0?J("Invalid exchangeID provided"):void this.tronWeb.fullNode.request("wallet/getexchangebyid",{id:ue},"post").then(function(Y){J(null,Y)}).catch(function(Y){return J(Y)}):this.injectPromise(this.getExchangeByID,ue)}},{key:"listExchanges",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!ue)return this.injectPromise(this.listExchanges);this.tronWeb.fullNode.request("wallet/listexchanges",{},"post").then(function(J){var Y=J.exchanges;ue(null,Y===void 0?[]:Y)},"post").catch(function(J){return ue(J)})}},{key:"listExchangesPaginated",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(ve.isFunction(J)&&(Y=J,J=0),ve.isFunction(ue)&&(Y=ue,ue=10),!Y)return this.injectPromise(this.listExchangesPaginated,ue,J);this.tronWeb.fullNode.request("wallet/getpaginatedexchangelist",{limit:ue,offset:J},"post").then(function(me){var ce=me.exchanges;Y(null,ce===void 0?[]:ce)}).catch(function(me){return Y(me)})}},{key:"getNodeInfo",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!ue)return this.injectPromise(this.getNodeInfo);this.tronWeb.fullNode.request("wallet/getnodeinfo",{},"post").then(function(J){ue(null,J)},"post").catch(function(J){return ue(J)})}},{key:"getTokenListByName",value:function(){var ue=this,J=arguments.length>0&&arguments[0]!==void 0&&arguments[0],Y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Y?(ve.isInteger(J)&&(J=J.toString()),ve.isString(J)&&J.length?void this.tronWeb.fullNode.request("wallet/getassetissuelistbyname",{value:this.tronWeb.fromUtf8(J)},"post").then(function(me){if(Array.isArray(me.assetIssue))Y(null,me.assetIssue.map(function(ce){return ue._parseToken(ce)}));else if(!me.name)return Y("Token does not exist");Y(null,ue._parseToken(me))}).catch(function(me){return Y(me)}):Y("Invalid token ID provided")):this.injectPromise(this.getTokenListByName,J)}},{key:"getTokenByID",value:function(){var ue=this,J=arguments.length>0&&arguments[0]!==void 0&&arguments[0],Y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Y?(ve.isInteger(J)&&(J=J.toString()),ve.isString(J)&&J.length?void this.tronWeb.fullNode.request("wallet/getassetissuebyid",{value:J},"post").then(function(me){if(!me.name)return Y("Token does not exist");Y(null,ue._parseToken(me))}).catch(function(me){return Y(me)}):Y("Invalid token ID provided")):this.injectPromise(this.getTokenByID,J)}},{key:"getReward",value:(T=h()(d.a.mark(function ue(J){var Y,me,ce=arguments;return d.a.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return Y=ce.length>1&&ce[1]!==void 0?ce[1]:{},me=ce.length>2&&ce[2]!==void 0&&ce[2],Y.confirmed=!0,he.abrupt("return",this._getReward(J,Y,me));case 4:case"end":return he.stop()}},ue,this)})),function(ue){return T.apply(this,arguments)})},{key:"getUnconfirmedReward",value:(V=h()(d.a.mark(function ue(J){var Y,me,ce=arguments;return d.a.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return Y=ce.length>1&&ce[1]!==void 0?ce[1]:{},me=ce.length>2&&ce[2]!==void 0&&ce[2],Y.confirmed=!1,he.abrupt("return",this._getReward(J,Y,me));case 4:case"end":return he.stop()}},ue,this)})),function(ue){return V.apply(this,arguments)})},{key:"getBrokerage",value:(_e=h()(d.a.mark(function ue(J){var Y,me,ce=arguments;return d.a.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return Y=ce.length>1&&ce[1]!==void 0?ce[1]:{},me=ce.length>2&&ce[2]!==void 0&&ce[2],Y.confirmed=!0,he.abrupt("return",this._getBrokerage(J,Y,me));case 4:case"end":return he.stop()}},ue,this)})),function(ue){return _e.apply(this,arguments)})},{key:"getUnconfirmedBrokerage",value:(pe=h()(d.a.mark(function ue(J){var Y,me,ce=arguments;return d.a.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return Y=ce.length>1&&ce[1]!==void 0?ce[1]:{},me=ce.length>2&&ce[2]!==void 0&&ce[2],Y.confirmed=!1,he.abrupt("return",this._getBrokerage(J,Y,me));case 4:case"end":return he.stop()}},ue,this)})),function(ue){return pe.apply(this,arguments)})},{key:"_getReward",value:(ie=h()(d.a.mark(function ue(){var J,Y,me,ce,he=arguments;return d.a.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(J=he.length>0&&he[0]!==void 0?he[0]:this.tronWeb.defaultAddress.hex,Y=he.length>1?he[1]:void 0,me=he.length>2&&he[2]!==void 0&&he[2],ve.isFunction(Y)&&(me=Y,Y={}),ve.isFunction(J)?(me=J,J=this.tronWeb.defaultAddress.hex):ve.isObject(J)&&(Y=J,J=this.tronWeb.defaultAddress.hex),me){Ee.next=7;break}return Ee.abrupt("return",this.injectPromise(this._getReward,J,Y));case 7:if(!this.validator.notValid([{name:"origin",type:"address",value:J}],me)){Ee.next=9;break}return Ee.abrupt("return");case 9:ce={address:kb(J)},this.tronWeb[Y.confirmed?"solidityNode":"fullNode"].request("wallet".concat(Y.confirmed?"solidity":"","/getReward"),ce,"post").then(function(){var qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(qe.reward===void 0)return me("Not found.");me(null,qe.reward)}).catch(function(qe){return me(qe)});case 11:case"end":return Ee.stop()}},ue,this)})),function(){return ie.apply(this,arguments)})},{key:"_getBrokerage",value:(H=h()(d.a.mark(function ue(){var J,Y,me,ce,he=arguments;return d.a.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(J=he.length>0&&he[0]!==void 0?he[0]:this.tronWeb.defaultAddress.hex,Y=he.length>1?he[1]:void 0,me=he.length>2&&he[2]!==void 0&&he[2],ve.isFunction(Y)&&(me=Y,Y={}),ve.isFunction(J)?(me=J,J=this.tronWeb.defaultAddress.hex):ve.isObject(J)&&(Y=J,J=this.tronWeb.defaultAddress.hex),me){Ee.next=7;break}return Ee.abrupt("return",this.injectPromise(this._getBrokerage,J,Y));case 7:if(!this.validator.notValid([{name:"origin",type:"address",value:J}],me)){Ee.next=9;break}return Ee.abrupt("return");case 9:ce={address:kb(J)},this.tronWeb[Y.confirmed?"solidityNode":"fullNode"].request("wallet".concat(Y.confirmed?"solidity":"","/getBrokerage"),ce,"post").then(function(){var qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(qe.brokerage===void 0)return me("Not found.");me(null,qe.brokerage)}).catch(function(qe){return me(qe)});case 11:case"end":return Ee.stop()}},ue,this)})),function(){return H.apply(this,arguments)})}],[{key:"verifySignature",value:function(ue,J,Y){var me=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];ue=ue.replace(/^0x/,""),Y=Y.replace(/^0x/,"");var ce=[].concat(P()(Ze(me?`TRON Signed Message:
32`:`Ethereum Signed Message:
32`)),P()(ve.code.hexStr2byteArray(ue))),he=ke(ce),Ee=U(he,{recoveryParam:Y.substring(128,130)=="1c"?1:0,r:"0x"+Y.substring(0,64),s:"0x"+Y.substring(64,128)}),qe="41"+Ee.substr(2),Be=ar.address.fromHex(qe);return Be==ar.address.fromHex(J)}},{key:"verifyMessageV2",value:function(ue,J){return ve.message.verifyMessage(ue,J)}},{key:"verifyTypedData",value:function(ue,J,Y,me,ce){me=me.replace(/^0x/,"");var he=ve._TypedDataEncoder.hash(ue,J,Y),Ee="41"+U(he,{recoveryParam:me.substring(128,130)=="1c"?1:0,r:"0x"+me.substring(0,64),s:"0x"+me.substring(64,128)}).substr(2);return ar.address.fromHex(Ee)==ar.address.fromHex(ce)}},{key:"signString",value:function(ue,J){var Y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];ue=ue.replace(/^0x/,"");var me={toHexString:function(){return"0x"+J},value:J},ce=new R(me),he=[].concat(P()(Ze(Y?`TRON Signed Message:
32`:`Ethereum Signed Message:
32`)),P()(ve.code.hexStr2byteArray(ue))),Ee=ke(he),qe=ce.signDigest(Ee),Be=["0x",qe.r.substring(2),qe.s.substring(2),Number(qe.v).toString(16)].join("");return Be}},{key:"signMessageV2",value:function(ue,J){return ve.message.signMessage(ue,J)}},{key:"_signTypedData",value:function(ue,J,Y,me){return ve.crypto._signTypedData(ue,J,Y,me)}}]),q}();function Ob(q,H){var ie=Object.keys(q);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(q);H&&(pe=pe.filter(function(_e){return Object.getOwnPropertyDescriptor(q,_e).enumerable})),ie.push.apply(ie,pe)}return ie}function ns(q){for(var H=1;H<arguments.length;H++){var ie=arguments[H]!=null?arguments[H]:{};H%2?Ob(Object(ie),!0).forEach(function(pe){g()(q,pe,ie[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(ie)):Ob(Object(ie)).forEach(function(pe){Object.defineProperty(q,pe,Object.getOwnPropertyDescriptor(ie,pe))})}return q}var x0=function(q,H){return wb(q,H)},S7=function(){function q(_e,V){v()(this,q),this.tronWeb=_e.tronWeb,this.contract=_e,this.abi=V,this.name=V.name||(V.name=V.type),this.inputs=V.inputs||[],this.outputs=V.outputs||[],this.functionSelector=function(T){if(T.stateMutability=T.stateMutability?T.stateMutability.toLowerCase():"nonpayable",T.type=T.type?T.type.toLowerCase():"",T.type==="fallback"||T.type==="receive")return"0x";var B=new ve.ethersUtils.Interface([T]);return T.type==="event"?B.getEvent(T.name).format(ve.ethersUtils.FormatTypes.sighash):B.getFunction(T.name).format(ve.ethersUtils.FormatTypes.sighash)}(V),this.signature=this.tronWeb.sha3(this.functionSelector,!1).slice(0,8),this.injectPromise=Js()(this),this.defaultOptions={feeLimit:this.tronWeb.feeLimit,callValue:0,userFeePercentage:100,shouldPollResponse:!1}}var H,ie,pe;return k()(q,[{key:"decodeInput",value:function(_e){return x0(this.inputs,"0x"+_e)}},{key:"onMethod",value:function(){var _e=this,V="";if(this.abi&&!/event/i.test(this.abi.type)){for(var T=arguments.length,B=new Array(T),L=0;L<T;L++)B[L]=arguments[L];V=wc(this.abi,B)}return{call:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return ve.isFunction(Z)&&(se=Z,Z={}),Z=ns(ns({},Z),{},{rawParameter:V}),_e._call([],[],Z,se)},send:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e.tronWeb.defaultPrivateKey,De=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return ve.isFunction(se)&&(De=se,se=_e.tronWeb.defaultPrivateKey),ve.isFunction(Z)&&(De=Z,Z={}),Z=ns(ns({},Z),{},{rawParameter:V}),_e._send([],[],Z,se,De)},watch:function(){return _e._watch.apply(_e,arguments)}}}},{key:"_call",value:(pe=h()(d.a.mark(function _e(V,T){var B,L,Z,se,De=this,We=arguments;return d.a.wrap(function(He){for(;;)switch(He.prev=He.next){case 0:if(B=We.length>2&&We[2]!==void 0?We[2]:{},L=We.length>3&&We[3]!==void 0&&We[3],ve.isFunction(B)&&(L=B,B={}),L){He.next=5;break}return He.abrupt("return",this.injectPromise(this._call,V,T,B));case 5:if(V.length===T.length){He.next=7;break}return He.abrupt("return",L("Invalid argument count provided"));case 7:if(this.contract.address){He.next=9;break}return He.abrupt("return",L("Smart contract is missing address"));case 9:if(this.contract.deployed){He.next=11;break}return He.abrupt("return",L("Calling smart contracts requires you to load the contract first"));case 11:if(Z=this.abi.stateMutability,["pure","view"].includes(Z.toLowerCase())){He.next=14;break}return He.abrupt("return",L('Methods with state mutability "'.concat(Z,'" must use send()')));case 14:B=ns(ns(ns({},this.defaultOptions),{},{from:this.tronWeb.defaultAddress.hex},B),{},{_isConstant:!0}),se=T.map(function(Ge,lt){return{type:V[lt],value:Ge}}),this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,B,se,!!B.from&&this.tronWeb.address.toHex(B.from),function(Ge,lt){if(Ge)return L(Ge);if(!ve.hasProperty(lt,"constant_result"))return L("Failed to execute");try{var Rt=lt.constant_result[0].length;if(Rt===0||Rt%64==8){var Bt="The call has been reverted or has thrown an error.";if(Rt!==0){Bt+=" Error message: ";for(var ue="",J=lt.constant_result[0].substring(8),Y=0;Y<Rt-8;Y+=64)ue+=De.tronWeb.toUtf8(J.substring(Y,Y+64));Bt+=ue.replace(/(\u0000|\u000b|\f)+/g," ").replace(/ +/g," ").replace(/\s+$/g,"")}return L(Bt)}var me=x0(De.abi,"0x"+lt.constant_result[0]);return me.length===1&&Object.keys(me).length===1&&(me=me[0]),L(null,me)}catch(ce){return L(ce)}});case 17:case"end":return He.stop()}},_e,this)})),function(_e,V){return pe.apply(this,arguments)})},{key:"_send",value:(ie=h()(d.a.mark(function _e(V,T){var B,L,Z,se,De,We,He,Ge,lt,Rt,Bt,ue=this,J=arguments;return d.a.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(B=J.length>2&&J[2]!==void 0?J[2]:{},L=J.length>3&&J[3]!==void 0?J[3]:this.tronWeb.defaultPrivateKey,Z=J.length>4&&J[4]!==void 0&&J[4],ve.isFunction(L)&&(Z=L,L=this.tronWeb.defaultPrivateKey),ve.isFunction(B)&&(Z=B,B={}),Z){Y.next=7;break}return Y.abrupt("return",this.injectPromise(this._send,V,T,B,L));case 7:if(V.length===T.length){Y.next=9;break}throw new Error("Invalid argument count provided");case 9:if(this.contract.address){Y.next=11;break}return Y.abrupt("return",Z("Smart contract is missing address"));case 11:if(this.contract.deployed){Y.next=13;break}return Y.abrupt("return",Z("Calling smart contracts requires you to load the contract first"));case 13:if(se=this.abi.stateMutability,!["pure","view"].includes(se.toLowerCase())){Y.next=16;break}return Y.abrupt("return",Z('Methods with state mutability "'.concat(se,'" must use call()')));case 16:return["payable"].includes(se.toLowerCase())||(B.callValue=0),B=ns(ns({},this.defaultOptions),{},{from:this.tronWeb.defaultAddress.hex},B),De=T.map(function(me,ce){return{type:V[ce],value:me}}),Y.prev=19,We=L?this.tronWeb.address.fromPrivateKey(L):this.tronWeb.defaultAddress.base58,Y.next=23,this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,B,De,this.tronWeb.address.toHex(We));case 23:if((He=Y.sent).result&&He.result.result){Y.next=26;break}return Y.abrupt("return",Z("Unknown error: "+JSON.stringify(He,null,2)));case 26:return Y.next=28,this.tronWeb.trx.sign(He.transaction,L);case 28:if((Ge=Y.sent).signature){Y.next=33;break}if(L){Y.next=32;break}return Y.abrupt("return",Z("Transaction was not signed properly"));case 32:return Y.abrupt("return",Z("Invalid private key provided"));case 33:return Y.next=35,this.tronWeb.trx.sendRawTransaction(Ge);case 35:if(!(lt=Y.sent).code){Y.next=40;break}return Rt={error:lt.code,message:lt.code},lt.message&&(Rt.message=this.tronWeb.toUtf8(lt.message)),Y.abrupt("return",Z(Rt));case 40:if(B.shouldPollResponse){Y.next=42;break}return Y.abrupt("return",Z(null,Ge.txID));case 42:(Bt=function(){var me=h()(d.a.mark(function ce(){var he,Ee,qe,Be=arguments;return d.a.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if((he=Be.length>0&&Be[0]!==void 0?Be[0]:0)!==20){Se.next=3;break}return Se.abrupt("return",Z({error:"Cannot find result in solidity node",transaction:Ge}));case 3:return Se.next=5,ue.tronWeb.trx.getTransactionInfo(Ge.txID);case 5:if(Ee=Se.sent,Object.keys(Ee).length){Se.next=8;break}return Se.abrupt("return",setTimeout(function(){Bt(he+1)},3e3));case 8:if(!Ee.result||Ee.result!=="FAILED"){Se.next=10;break}return Se.abrupt("return",Z({error:ue.tronWeb.toUtf8(Ee.resMessage),transaction:Ge,output:Ee}));case 10:if(ve.hasProperty(Ee,"contractResult")){Se.next=12;break}return Se.abrupt("return",Z({error:"Failed to execute: "+JSON.stringify(Ee,null,2),transaction:Ge,output:Ee}));case 12:if(!B.rawResponse){Se.next=14;break}return Se.abrupt("return",Z(null,Ee));case 14:if((qe=x0(ue.abi,"0x"+Ee.contractResult[0])).length===1&&Object.keys(qe).length===1&&(qe=qe[0]),!B.keepTxID){Se.next=18;break}return Se.abrupt("return",Z(null,[Ge.txID,qe]));case 18:return Se.abrupt("return",Z(null,qe));case 19:case"end":return Se.stop()}},ce)}));return function(){return me.apply(this,arguments)}}())(),Y.next=49;break;case 46:return Y.prev=46,Y.t0=Y.catch(19),Y.abrupt("return",Z(Y.t0));case 49:case"end":return Y.stop()}},_e,this,[[19,46]])})),function(_e,V){return ie.apply(this,arguments)})},{key:"_watch",value:(H=h()(d.a.mark(function _e(){var V,T,B,L,Z,se,De,We=this,He=arguments;return d.a.wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:if(V=He.length>0&&He[0]!==void 0?He[0]:{},T=He.length>1&&He[1]!==void 0&&He[1],ve.isFunction(V)&&(T=V,V={}),ve.isFunction(T)){Ge.next=5;break}throw new Error("Expected callback to be provided");case 5:if(this.contract.address){Ge.next=7;break}return Ge.abrupt("return",T("Smart contract is missing address"));case 7:if(this.abi.type&&/event/i.test(this.abi.type)){Ge.next=9;break}return Ge.abrupt("return",T("Invalid method type for event watching"));case 9:if(this.tronWeb.eventServer){Ge.next=11;break}return Ge.abrupt("return",T("No event server configured"));case 11:return B=!1,L=!1,Z=Date.now()-1e3,se=function(){var lt=h()(d.a.mark(function Rt(){var Bt,ue,J,Y,me,ce;return d.a.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.prev=0,Bt={since:Z,eventName:We.name,sort:"block_timestamp",blockNumber:"latest",filters:V.filters},V.size&&(Bt.size=V.size),V.resourceNode&&(/full/i.test(V.resourceNode)?Bt.onlyUnconfirmed=!0:Bt.onlyConfirmed=!0),he.next=6,We.tronWeb.event.getEventsByContractAddress(We.contract.address,Bt);case 6:return ue=he.sent,J=ue.sort(function(Ee,qe){return qe.block-Ee.block}),Y=Ac()(J,1),me=Y[0],ce=ue.filter(function(Ee,qe){return!(V.resourceNode&&Ee.resourceNode&&V.resourceNode.toLowerCase()!==Ee.resourceNode.toLowerCase()||ue.slice(0,qe).some(function(Be){return JSON.stringify(Be)==JSON.stringify(Ee)})||L&&!(Ee.block>L))}),me&&(L=me.block),he.abrupt("return",ce);case 13:return he.prev=13,he.t0=he.catch(0),he.abrupt("return",Promise.reject(he.t0));case 16:case"end":return he.stop()}},Rt,null,[[0,13]])}));return function(){return lt.apply(this,arguments)}}(),De=function(){B&&clearInterval(B),B=setInterval(function(){se().then(function(lt){return lt.forEach(function(Rt){T(null,ve.parseEvent(Rt,We.abi))})}).catch(function(lt){return T(lt)})},3e3)},Ge.next=18,se();case 18:return De(),Ge.abrupt("return",{start:De,stop:function(){B&&(clearInterval(B),B=!1)}});case 20:case"end":return Ge.stop()}},_e,this)})),function(){return H.apply(this,arguments)})}]),q}(),Cb=function(){function q(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(v()(this,q),!V||!V instanceof ar)throw new Error("Expected instance of TronWeb");this.tronWeb=V,this.injectPromise=Js()(this),this.address=B,this.abi=T,this.eventListener=!1,this.bytecode=!1,this.deployed=!1,this.lastBlock=!1,this.methods={},this.methodInstances={},this.props=[],this.tronWeb.isAddress(B)?this.deployed=!0:this.address=!1,this.loadAbi(T)}var H,ie,pe,_e;return k()(q,[{key:"_getEvents",value:(_e=h()(d.a.mark(function V(){var T,B,L,Z,se,De,We=this,He=arguments;return d.a.wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return T=He.length>0&&He[0]!==void 0?He[0]:{},Ge.next=3,this.tronWeb.event.getEventsByContractAddress(this.address,T);case 3:return B=Ge.sent,L=B.sort(function(lt,Rt){return Rt.block-lt.block}),Z=Ac()(L,1),se=Z[0],De=B.filter(function(lt,Rt){return!(T.resourceNode&&lt.resourceNode&&T.resourceNode.toLowerCase()!==lt.resourceNode.toLowerCase()||B.slice(0,Rt).some(function(Bt){return JSON.stringify(Bt)==JSON.stringify(lt)})||We.lastBlock&&!(lt.block>We.lastBlock))}),se&&(this.lastBlock=se.block),Ge.abrupt("return",De);case 8:case"end":return Ge.stop()}},V,this)})),function(){return _e.apply(this,arguments)})},{key:"_startEventListener",value:(pe=h()(d.a.mark(function V(){var T,B,L=this,Z=arguments;return d.a.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(T=Z.length>0&&Z[0]!==void 0?Z[0]:{},B=Z.length>1?Z[1]:void 0,ve.isFunction(T)&&(B=T,T={}),this.eventListener&&clearInterval(this.eventListener),this.tronWeb.eventServer){se.next=6;break}throw new Error("Event server is not configured");case 6:if(this.address){se.next=8;break}throw new Error("Contract is not configured with an address");case 8:return this.eventCallback=B,se.next=11,this._getEvents(T);case 11:this.eventListener=setInterval(function(){L._getEvents(T).then(function(De){return De.forEach(function(We){L.eventCallback&&L.eventCallback(We)})}).catch(function(De){console.error("Failed to get event list",De)})},3e3);case 12:case"end":return se.stop()}},V,this)})),function(){return pe.apply(this,arguments)})},{key:"_stopEventListener",value:function(){this.eventListener&&(clearInterval(this.eventListener),this.eventListener=!1,this.eventCallback=!1)}},{key:"hasProperty",value:function(V){return this.hasOwnProperty(V)||this.__proto__.hasOwnProperty(V)}},{key:"loadAbi",value:function(V){var T=this;this.abi=V,this.methods={},this.props.forEach(function(B){return delete T[B]}),V.forEach(function(B){if(B.type&&!/constructor/i.test(B.type)){var L=new S7(T,B),Z=L.onMethod.bind(L),se=L.name,De=L.functionSelector,We=L.signature;T.methods[se]=Z,T.methods[De]=Z,T.methods[We]=Z,T.methodInstances[se]=L,T.methodInstances[De]=L,T.methodInstances[We]=L,T.hasProperty(se)||(T[se]=Z,T.props.push(se)),T.hasProperty(De)||(T[De]=Z,T.props.push(De)),T.hasProperty(We)||(T[We]=Z,T.props.push(We))}})}},{key:"decodeInput",value:function(V){var T=V.substring(0,8),B=V.substring(8);if(!this.methodInstances[T])throw new Error("Contract method "+T+" not found");return{name:this.methodInstances[T].name,params:this.methodInstances[T].decodeInput(B)}}},{key:"new",value:(ie=h()(d.a.mark(function V(T){var B,L,Z,se,De,We,He=arguments;return d.a.wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:if(B=He.length>1&&He[1]!==void 0?He[1]:this.tronWeb.defaultPrivateKey,L=He.length>2&&He[2]!==void 0&&He[2],ve.isFunction(B)&&(L=B,B=this.tronWeb.defaultPrivateKey),L){Ge.next=5;break}return Ge.abrupt("return",this.injectPromise(this.new,T,B));case 5:return Ge.prev=5,Z=this.tronWeb.address.fromPrivateKey(B),Ge.next=9,this.tronWeb.transactionBuilder.createSmartContract(T,Z);case 9:return se=Ge.sent,Ge.next=12,this.tronWeb.trx.sign(se,B);case 12:return De=Ge.sent,Ge.next=15,this.tronWeb.trx.sendRawTransaction(De);case 15:if(!(We=Ge.sent).code){Ge.next=18;break}return Ge.abrupt("return",L({error:We.code,message:this.tronWeb.toUtf8(We.message)}));case 18:return Ge.next=20,ve.sleep(3e3);case 20:return Ge.abrupt("return",this.at(De.contract_address,L));case 23:return Ge.prev=23,Ge.t0=Ge.catch(5),Ge.abrupt("return",L(Ge.t0));case 26:case"end":return Ge.stop()}},V,this,[[5,23]])})),function(V){return ie.apply(this,arguments)})},{key:"at",value:(H=h()(d.a.mark(function V(T){var B,L,Z=arguments;return d.a.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(B=Z.length>1&&Z[1]!==void 0&&Z[1]){se.next=3;break}return se.abrupt("return",this.injectPromise(this.at,T));case 3:return se.prev=3,se.next=6,this.tronWeb.trx.getContract(T);case 6:if((L=se.sent).contract_address){se.next=9;break}return se.abrupt("return",B("Unknown error: "+JSON.stringify(L,null,2)));case 9:return this.address=L.contract_address,this.bytecode=L.bytecode,this.deployed=!0,this.loadAbi(L.abi&&L.abi.entrys?L.abi.entrys:[]),se.abrupt("return",B(null,this));case 16:if(se.prev=16,se.t0=se.catch(3),!se.t0.toString().includes("does not exist")){se.next=20;break}return se.abrupt("return",B("Contract has not been deployed on the network"));case 20:return se.abrupt("return",B(se.t0));case 21:case"end":return se.stop()}},V,this,[[3,16]])})),function(V){return H.apply(this,arguments)})},{key:"events",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(ve.isFunction(V)&&(T=V,V={}),!ve.isFunction(T))throw new Error("Callback function expected");var B=this;return{start:function(){var L=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return L?(B._startEventListener(V,T).then(function(){L()}).catch(function(Z){L(Z)}),this):(B._startEventListener(V,T),this)},stop:function(){B._stopEventListener()}}}}]),q}(),Tb=function(){function q(){var H=arguments.length>0&&arguments[0]!==void 0&&arguments[0],ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(v()(this,q),!H||!H instanceof ar)throw new Error("Expected instance of TronWeb");this.tronWeb=H,this.pluginNoOverride=["register"],this.disablePlugins=ie.disablePlugins}return k()(q,[{key:"register",value:function(H,ie){var pe={requires:"0.0.0",components:{}},_e={libs:[],plugged:[],skipped:[]};if(this.disablePlugins)return _e.error="This instance of TronWeb has plugins disabled.",_e;var V=new H(this.tronWeb);if(ve.isFunction(V.pluginInterface)&&(pe=V.pluginInterface(ie)),!Sb.a.satisfies(ar.version,pe.requires))throw new Error("The plugin is not compatible with this version of TronWeb");if(pe.fullClass){var T=V.constructor.name,B=T.substring(0,1).toLowerCase()+T.substring(1);T!==B&&(ar[T]=H,this.tronWeb[B]=V,_e.libs.push(T))}else for(var L in pe.components)if(this.tronWeb.hasOwnProperty(L)){var Z=pe.components[L],se=this.tronWeb[L].pluginNoOverride||[];for(var De in Z)De==="constructor"||this.tronWeb[L][De]&&(se.includes(De)||/^_/.test(De))?_e.skipped.push(De):(this.tronWeb[L][De]=Z[De].bind(this.tronWeb[L]),_e.plugged.push(De))}return _e}}]),q}(),I7=t(27),M7=t.n(I7),Db=function(){function q(){var H=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(v()(this,q),!(H&&H instanceof ar))throw new Error("Expected instance of TronWeb");this.tronWeb=H,this.injectPromise=Js()(this)}return k()(q,[{key:"setServer",value:function(){var H=this,ie=arguments.length>0&&arguments[0]!==void 0&&arguments[0],pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"healthcheck";if(!ie)return this.tronWeb.eventServer=!1;if(ve.isString(ie)&&(ie=new Pn.HttpProvider(ie)),!this.tronWeb.isValidProvider(ie))throw new Error("Invalid event server provided");this.tronWeb.eventServer=ie,this.tronWeb.eventServer.isConnected=function(){return H.tronWeb.eventServer.request(pe).then(function(){return!0}).catch(function(){return!1})}}},{key:"getEventsByContractAddress",value:function(){var H=arguments.length>0&&arguments[0]!==void 0&&arguments[0],ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_e=Object.assign({sinceTimestamp:0,eventName:!1,blockNumber:!1,size:20,page:1},ie),V=_e.sinceTimestamp,T=_e.since,B=_e.fromTimestamp,L=_e.eventName,Z=_e.blockNumber,se=_e.size,De=_e.page,We=_e.onlyConfirmed,He=_e.onlyUnconfirmed,Ge=_e.previousLastEventFingerprint,lt=_e.previousFingerprint,Rt=_e.fingerprint,Bt=_e.rawResponse,ue=_e.sort,J=_e.filters;if(!pe)return this.injectPromise(this.getEventsByContractAddress,H,ie);if(B=B||V||T,!this.tronWeb.eventServer)return pe("No event server configured");var Y=[];if(!this.tronWeb.isAddress(H))return pe("Invalid contract address provided");if(L&&!H)return pe("Usage of event name filtering requires a contract address");if(B!==void 0&&!ve.isInteger(B))return pe("Invalid fromTimestamp provided");if(!ve.isInteger(se))return pe("Invalid size provided");if(se>200&&(console.warn("Defaulting to maximum accepted size: 200"),se=200),!ve.isInteger(De))return pe("Invalid page provided");if(Z&&!L)return pe("Usage of block number filtering requires an event name");H&&Y.push(this.tronWeb.address.fromHex(H)),L&&Y.push(L),Z&&Y.push(Z);var me={size:se,page:De};return w()(J)==="object"&&Object.keys(J).length>0&&(me.filters=JSON.stringify(J)),B&&(me.fromTimestamp=me.since=B),We&&(me.only_confirmed=We),He&&!We&&(me.only_unconfirmed=He),ue&&(me.sort=ue),(Rt=Rt||lt||Ge)&&(me.fingerprint=Rt),this.tronWeb.eventServer.request("event/contract/".concat(Y.join("/"),"?").concat(M7.a.stringify(me))).then(function(){var ce=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return ce?ve.isArray(ce)?pe(null,Bt===!0?ce:ce.map(function(he){return ve.mapEvent(he)})):pe(ce):pe("Unknown error occurred")}).catch(function(ce){return pe(ce.response&&ce.response.data||ce)})}},{key:"getEventsByTransactionID",value:function(){var H=arguments.length>0&&arguments[0]!==void 0&&arguments[0],ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return ve.isFunction(ie)&&(pe=ie,ie={}),pe?this.tronWeb.eventServer?this.tronWeb.eventServer.request("event/transaction/".concat(H)).then(function(){var _e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return _e?ve.isArray(_e)?pe(null,ie.rawResponse===!0?_e:_e.map(function(V){return ve.mapEvent(V)})):pe(_e):pe("Unknown error occurred")}).catch(function(_e){return pe(_e.response&&_e.response.data||_e)}):pe("No event server configured"):this.injectPromise(this.getEventsByTransactionID,H,ie)}}]),q}();function Bb(q,H){var ie=Object.keys(q);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(q);H&&(pe=pe.filter(function(_e){return Object.getOwnPropertyDescriptor(q,_e).enumerable})),ie.push.apply(ie,pe)}return ie}function hi(q){for(var H=1;H<arguments.length;H++){var ie=arguments[H]!=null?arguments[H]:{};H%2?Bb(Object(ie),!0).forEach(function(pe){g()(q,pe,ie[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(ie)):Bb(Object(ie)).forEach(function(pe){Object.defineProperty(q,pe,Object.getOwnPropertyDescriptor(ie,pe))})}return q}var P7=function(){function q(ce){var he=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ee=arguments.length>2&&arguments[2]!==void 0&&arguments[2],qe=arguments.length>3&&arguments[3]!==void 0&&arguments[3];v()(this,q),this.mainchain=Ee;var Be=ce.fullHost,Se=ce.fullNode,Te=ce.solidityNode,Fe=ce.eventServer,Ce=ce.mainGatewayAddress,ze=ce.sideGatewayAddress,Ye=ce.sideChainId;this.sidechain=new he(Be||Se,Be||Te,Be||Fe,qe),this.isAddress=this.mainchain.isAddress,this.utils=this.mainchain.utils,this.setMainGatewayAddress(Ce),this.setSideGatewayAddress(ze),this.setChainId(Ye),this.injectPromise=Js()(this),this.validator=new v0(this.sidechain);var ut=this;this.sidechain.trx.sign=function(){return ut.sign.apply(ut,arguments)},this.sidechain.trx.multiSign=function(){return ut.multiSign.apply(ut,arguments)}}var H,ie,pe,_e,V,T,B,L,Z,se,De,We,He,Ge,lt,Rt,Bt,ue,J,Y,me;return k()(q,[{key:"setMainGatewayAddress",value:function(ce){if(!this.isAddress(ce))throw new Error("Invalid main gateway address provided");this.mainGatewayAddress=ce}},{key:"setSideGatewayAddress",value:function(ce){if(!this.isAddress(ce))throw new Error("Invalid side gateway address provided");this.sideGatewayAddress=ce}},{key:"setChainId",value:function(ce){if(!this.utils.isString(ce)||!ce)throw new Error("Invalid side chainId provided");this.chainId=ce}},{key:"signTransaction",value:function(ce,he){typeof ce=="string"&&(ce=this.utils.code.hexStr2byteArray(ce));var Ee=this.utils.code.hexStr2byteArray(this.chainId),qe=this.utils.code.hexStr2byteArray(he.txID).concat(Ee),Be=this.sidechain.utils.ethersUtils.sha256(qe),Se=this.utils.crypto.ECKeySign(this.utils.code.hexStr2byteArray(Be.replace(/^0x/,"")),ce);return Array.isArray(he.signature)?he.signature.includes(Se)||he.signature.push(Se):he.signature=[Se],he}},{key:"multiSign",value:(me=h()(d.a.mark(function ce(){var he,Ee,qe,Be,Se,Te,Fe,Ce=arguments;return d.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(he=Ce.length>0&&Ce[0]!==void 0&&Ce[0],Ee=Ce.length>1&&Ce[1]!==void 0?Ce[1]:this.sidechain.defaultPrivateKey,qe=Ce.length>2&&Ce[2]!==void 0&&Ce[2],Be=Ce.length>3&&Ce[3]!==void 0&&Ce[3],this.utils.isFunction(qe)&&(Be=qe,qe=0),this.utils.isFunction(Ee)&&(Be=Ee,Ee=this.mainchain.defaultPrivateKey,qe=0),Be){ze.next=8;break}return ze.abrupt("return",this.injectPromise(this.multiSign,he,Ee,qe));case 8:if(this.utils.isObject(he)&&he.raw_data&&he.raw_data.contract){ze.next=10;break}return ze.abrupt("return",Be("Invalid transaction provided"));case 10:if(he.raw_data.contract[0].Permission_id||!(qe>0)){ze.next=30;break}return he.raw_data.contract[0].Permission_id=qe,Se=this.sidechain.address.toHex(this.sidechain.address.fromPrivateKey(Ee)).toLowerCase(),ze.next=15,this.sidechain.trx.getSignWeight(he,qe);case 15:if((Te=ze.sent).result.code!=="PERMISSION_ERROR"){ze.next=18;break}return ze.abrupt("return",Be(Te.result.message));case 18:if(Fe=!1,Te.permission.keys.map(function(Ye){Ye.address===Se&&(Fe=!0)}),Fe){ze.next=22;break}return ze.abrupt("return",Be(Ee+" has no permission to sign"));case 22:if(!Te.approved_list||Te.approved_list.indexOf(Se)==-1){ze.next=24;break}return ze.abrupt("return",Be(Ee+" already sign transaction"));case 24:if(!Te.transaction||!Te.transaction.transaction){ze.next=29;break}(he=Te.transaction.transaction).raw_data.contract[0].Permission_id=qe,ze.next=30;break;case 29:return ze.abrupt("return",Be("Invalid transaction provided"));case 30:return ze.prev=30,ze.abrupt("return",Be(null,this.signTransaction(Ee,he)));case 34:ze.prev=34,ze.t0=ze.catch(30),Be(ze.t0);case 37:case"end":return ze.stop()}},ce,this,[[30,34]])})),function(){return me.apply(this,arguments)})},{key:"sign",value:(Y=h()(d.a.mark(function ce(){var he,Ee,qe,Be,Se,Te,Fe=arguments;return d.a.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(he=Fe.length>0&&Fe[0]!==void 0&&Fe[0],Ee=Fe.length>1&&Fe[1]!==void 0?Fe[1]:this.sidechain.defaultPrivateKey,qe=!(Fe.length>2&&Fe[2]!==void 0)||Fe[2],Be=Fe.length>3&&Fe[3]!==void 0&&Fe[3],Se=Fe.length>4&&Fe[4]!==void 0&&Fe[4],this.utils.isFunction(Be)&&(Se=Be,Be=!1),this.utils.isFunction(qe)&&(Se=qe,qe=!0,Be=!1),this.utils.isFunction(Ee)&&(Se=Ee,Ee=this.sidechain.defaultPrivateKey,qe=!0,Be=!1),Se){Ce.next=10;break}return Ce.abrupt("return",this.injectPromise(this.sign,he,Ee,qe,Be));case 10:if(!this.utils.isString(he)){Ce.next=21;break}if(this.utils.isHex(he)){Ce.next=13;break}return Ce.abrupt("return",Se("Expected hex message input"));case 13:return Ce.prev=13,Te=this.sidechain.trx.signString(he,Ee,qe),Ce.abrupt("return",Se(null,Te));case 18:Ce.prev=18,Ce.t0=Ce.catch(13),Se(Ce.t0);case 21:if(this.utils.isObject(he)){Ce.next=23;break}return Ce.abrupt("return",Se("Invalid transaction provided"));case 23:if(Be||!he.signature){Ce.next=25;break}return Ce.abrupt("return",Se("Transaction is already signed"));case 25:if(Ce.prev=25,Be){Ce.next=30;break}if(this.sidechain.address.toHex(this.sidechain.address.fromPrivateKey(Ee)).toLowerCase()===this.sidechain.address.toHex(he.raw_data.contract[0].parameter.value.owner_address)){Ce.next=30;break}return Ce.abrupt("return",Se("Private key does not match address in transaction"));case 30:return Ce.abrupt("return",Se(null,this.signTransaction(Ee,he)));case 33:Ce.prev=33,Ce.t1=Ce.catch(25),Se(Ce.t1);case 36:case"end":return Ce.stop()}},ce,this,[[13,18],[25,33]])})),function(){return Y.apply(this,arguments)})},{key:"depositTrx",value:(J=h()(d.a.mark(function ce(he,Ee,qe){var Be,Se,Te,Fe,Ce,ze=arguments;return d.a.wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(Be=ze.length>3&&ze[3]!==void 0?ze[3]:{},Se=ze.length>4&&ze[4]!==void 0?ze[4]:this.mainchain.defaultPrivateKey,Te=ze.length>5&&ze[5]!==void 0&&ze[5],this.utils.isFunction(Se)&&(Te=Se,Se=this.mainchain.defaultPrivateKey),this.utils.isFunction(Be)&&(Te=Be,Be={}),Te){Ye.next=7;break}return Ye.abrupt("return",this.injectPromise(this.depositTrx,he,Ee,qe,Be,Se));case 7:if(!this.validator.notValid([{name:"callValue",type:"integer",value:he,gte:0},{name:"depositFee",type:"integer",value:Ee,gte:0},{name:"feeLimit",type:"integer",value:qe,gte:0}],Te)){Ye.next=9;break}return Ye.abrupt("return");case 9:return Be=hi({callValue:Number(he)+Number(Ee),feeLimit:qe},Be),Ye.prev=10,Ye.next=13,this.mainchain.contract().at(this.mainGatewayAddress);case 13:return Fe=Ye.sent,Ye.next=16,Fe.depositTRX().send(Be,Se);case 16:return Ce=Ye.sent,Ye.abrupt("return",Te(null,Ce));case 20:return Ye.prev=20,Ye.t0=Ye.catch(10),Ye.abrupt("return",Te(Ye.t0));case 23:case"end":return Ye.stop()}},ce,this,[[10,20]])})),function(ce,he,Ee){return J.apply(this,arguments)})},{key:"depositTrc10",value:(ue=h()(d.a.mark(function ce(he,Ee,qe,Be){var Se,Te,Fe,Ce,ze,Ye=arguments;return d.a.wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(Se=Ye.length>4&&Ye[4]!==void 0?Ye[4]:{},Te=Ye.length>5&&Ye[5]!==void 0?Ye[5]:this.mainchain.defaultPrivateKey,Fe=Ye.length>6&&Ye[6]!==void 0&&Ye[6],this.utils.isFunction(Te)&&(Fe=Te,Te=this.mainchain.defaultPrivateKey),this.utils.isFunction(Se)&&(Fe=Se,Se={}),Fe){ut.next=7;break}return ut.abrupt("return",this.injectPromise(this.depositTrc10,he,Ee,qe,Be,Se,Te));case 7:if(!this.validator.notValid([{name:"tokenValue",type:"integer",value:Ee,gte:0},{name:"depositFee",type:"integer",value:qe,gte:0},{name:"feeLimit",type:"integer",value:Be,gte:0},{name:"tokenId",type:"integer",value:he,gte:0}],Fe)){ut.next=9;break}return ut.abrupt("return");case 9:return Se=hi(hi({tokenId:he,tokenValue:Ee,feeLimit:Be},Se),{},{callValue:qe}),ut.prev=10,ut.next=13,this.mainchain.contract().at(this.mainGatewayAddress);case 13:return Ce=ut.sent,ut.next=16,Ce.depositTRC10(he,Ee).send(Se,Te);case 16:ze=ut.sent,Fe(null,ze),ut.next=23;break;case 20:return ut.prev=20,ut.t0=ut.catch(10),ut.abrupt("return",Fe(ut.t0));case 23:case"end":return ut.stop()}},ce,this,[[10,20]])})),function(ce,he,Ee,qe){return ue.apply(this,arguments)})},{key:"depositTrc",value:(Bt=h()(d.a.mark(function ce(he,Ee,qe,Be,Se){var Te,Fe,Ce,ze,Ye,ut,or=arguments;return d.a.wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if(Te=or.length>5&&or[5]!==void 0?or[5]:{},Fe=or.length>6&&or[6]!==void 0?or[6]:this.mainchain.defaultPrivateKey,Ce=or.length>7&&or[7]!==void 0&&or[7],this.utils.isFunction(Fe)&&(Ce=Fe,Fe=this.mainchain.defaultPrivateKey),this.utils.isFunction(Te)&&(Ce=Te,Te={}),Ce){dt.next=7;break}return dt.abrupt("return",this.injectPromise(this.depositTrc,he,Ee,qe,Be,Se,Te,Fe));case 7:if(!this.validator.notValid([{name:"functionSelector",type:"not-empty-string",value:he},{name:"num",type:"integer",value:Ee,gte:0},{name:"fee",type:"integer",value:qe,gte:0},{name:"feeLimit",type:"integer",value:Be,gte:0},{name:"contractAddress",type:"address",value:Se}],Ce)){dt.next=9;break}return dt.abrupt("return");case 9:if(Te=hi(hi({feeLimit:Be},Te),{},{callValue:qe,tokenId:"",tokenValue:0}),dt.prev=10,ze=null,he!=="approve"){dt.next=21;break}return dt.next=15,this.mainchain.contract().at(Se);case 15:return Ye=dt.sent,dt.next=18,Ye.approve(this.mainGatewayAddress,Ee).send(Te,Fe);case 18:ze=dt.sent,dt.next=44;break;case 21:return dt.next=23,this.mainchain.contract().at(this.mainGatewayAddress);case 23:ut=dt.sent,dt.t0=he,dt.next=dt.t0==="depositTRC20"?27:dt.t0==="depositTRC721"?31:dt.t0==="retryDeposit"?35:dt.t0==="retryMapping"?39:43;break;case 27:return dt.next=29,ut.depositTRC20(Se,Ee).send(Te,Fe);case 29:return ze=dt.sent,dt.abrupt("break",44);case 31:return dt.next=33,ut.depositTRC721(Se,Ee).send(Te,Fe);case 33:return ze=dt.sent,dt.abrupt("break",44);case 35:return dt.next=37,ut.retryDeposit(Ee).send(Te,Fe);case 37:return ze=dt.sent,dt.abrupt("break",44);case 39:return dt.next=41,ut.retryMapping(Ee).send(Te,Fe);case 41:return ze=dt.sent,dt.abrupt("break",44);case 43:return dt.abrupt("break",44);case 44:Ce(null,ze),dt.next=50;break;case 47:return dt.prev=47,dt.t1=dt.catch(10),dt.abrupt("return",Ce(dt.t1));case 50:case"end":return dt.stop()}},ce,this,[[10,47]])})),function(ce,he,Ee,qe,Be){return Bt.apply(this,arguments)})},{key:"approveTrc20",value:(Rt=h()(d.a.mark(function ce(he,Ee,qe){var Be,Se,Te,Fe,Ce=arguments;return d.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return Be=Ce.length>3&&Ce[3]!==void 0?Ce[3]:{},Se=Ce.length>4&&Ce[4]!==void 0?Ce[4]:this.mainchain.defaultPrivateKey,Te=Ce.length>5&&Ce[5]!==void 0&&Ce[5],Fe="approve",ze.abrupt("return",this.depositTrc(Fe,he,0,Ee,qe,Be,Se,Te));case 5:case"end":return ze.stop()}},ce,this)})),function(ce,he,Ee){return Rt.apply(this,arguments)})},{key:"approveTrc721",value:(lt=h()(d.a.mark(function ce(he,Ee,qe){var Be,Se,Te,Fe,Ce=arguments;return d.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return Be=Ce.length>3&&Ce[3]!==void 0?Ce[3]:{},Se=Ce.length>4&&Ce[4]!==void 0?Ce[4]:this.mainchain.defaultPrivateKey,Te=Ce.length>5&&Ce[5]!==void 0&&Ce[5],Fe="approve",ze.abrupt("return",this.depositTrc(Fe,he,0,Ee,qe,Be,Se,Te));case 5:case"end":return ze.stop()}},ce,this)})),function(ce,he,Ee){return lt.apply(this,arguments)})},{key:"depositTrc20",value:(Ge=h()(d.a.mark(function ce(he,Ee,qe,Be){var Se,Te,Fe,Ce,ze=arguments;return d.a.wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Se=ze.length>4&&ze[4]!==void 0?ze[4]:{},Te=ze.length>5&&ze[5]!==void 0?ze[5]:this.mainchain.defaultPrivateKey,Fe=ze.length>6&&ze[6]!==void 0&&ze[6],Ce="depositTRC20",Ye.abrupt("return",this.depositTrc(Ce,he,Ee,qe,Be,Se,Te,Fe));case 5:case"end":return Ye.stop()}},ce,this)})),function(ce,he,Ee,qe){return Ge.apply(this,arguments)})},{key:"depositTrc721",value:(He=h()(d.a.mark(function ce(he,Ee,qe,Be){var Se,Te,Fe,Ce,ze=arguments;return d.a.wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Se=ze.length>4&&ze[4]!==void 0?ze[4]:{},Te=ze.length>5&&ze[5]!==void 0?ze[5]:this.mainchain.defaultPrivateKey,Fe=ze.length>6&&ze[6]!==void 0&&ze[6],Ce="depositTRC721",Ye.abrupt("return",this.depositTrc(Ce,he,Ee,qe,Be,Se,Te,Fe));case 5:case"end":return Ye.stop()}},ce,this)})),function(ce,he,Ee,qe){return He.apply(this,arguments)})},{key:"mappingTrc",value:(We=h()(d.a.mark(function ce(he,Ee,qe,Be){var Se,Te,Fe,Ce,ze,Ye=arguments;return d.a.wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(Se=Ye.length>4&&Ye[4]!==void 0?Ye[4]:{},Te=Ye.length>5&&Ye[5]!==void 0?Ye[5]:this.mainchain.defaultPrivateKey,Fe=Ye.length>6?Ye[6]:void 0,this.utils.isFunction(Te)&&(Fe=Te,Te=this.mainchain.defaultPrivateKey),this.utils.isFunction(Se)&&(Fe=Se,Se={}),Fe){ut.next=7;break}return ut.abrupt("return",this.injectPromise(this.mappingTrc,he,Ee,qe,Be,Se,Te));case 7:if(!this.validator.notValid([{name:"trxHash",type:"not-empty-string",value:he},{name:"mappingFee",type:"integer",value:Ee,gte:0},{name:"feeLimit",type:"integer",value:qe,gte:0}],Fe)){ut.next=9;break}return ut.abrupt("return");case 9:return he=he.startsWith("0x")?he:"0x"+he,Se=hi(hi({feeLimit:qe},Se),{},{callValue:Ee}),ut.prev=11,ut.next=14,this.mainchain.contract().at(this.mainGatewayAddress);case 14:if(Ce=ut.sent,ze=null,Be!=="mappingTRC20"){ut.next=22;break}return ut.next=19,Ce.mappingTRC20(he).send(Se,Te);case 19:ze=ut.sent,ut.next=29;break;case 22:if(Be!=="mappingTRC721"){ut.next=28;break}return ut.next=25,Ce.mappingTRC721(he).send(Se,Te);case 25:ze=ut.sent,ut.next=29;break;case 28:Fe(new Error("type must be trc20 or trc721"));case 29:Fe(null,ze),ut.next=35;break;case 32:return ut.prev=32,ut.t0=ut.catch(11),ut.abrupt("return",Fe(ut.t0));case 35:case"end":return ut.stop()}},ce,this,[[11,32]])})),function(ce,he,Ee,qe){return We.apply(this,arguments)})},{key:"mappingTrc20",value:(De=h()(d.a.mark(function ce(he,Ee,qe){var Be,Se,Te,Fe,Ce=arguments;return d.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return Be=Ce.length>3&&Ce[3]!==void 0?Ce[3]:{},Se=Ce.length>4&&Ce[4]!==void 0?Ce[4]:this.mainchain.defaultPrivateKey,Te=Ce.length>5&&Ce[5]!==void 0&&Ce[5],Fe="mappingTRC20",ze.abrupt("return",this.mappingTrc(he,Ee,qe,Fe,Be,Se,Te));case 5:case"end":return ze.stop()}},ce,this)})),function(ce,he,Ee){return De.apply(this,arguments)})},{key:"mappingTrc721",value:(se=h()(d.a.mark(function ce(he,Ee,qe){var Be,Se,Te,Fe,Ce=arguments;return d.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return Be=Ce.length>3&&Ce[3]!==void 0?Ce[3]:{},Se=Ce.length>4&&Ce[4]!==void 0?Ce[4]:this.mainchain.defaultPrivateKey,Te=Ce.length>5&&Ce[5]!==void 0&&Ce[5],Fe="mappingTRC721",ze.abrupt("return",this.mappingTrc(he,Ee,qe,Fe,Be,Se,Te));case 5:case"end":return ze.stop()}},ce,this)})),function(ce,he,Ee){return se.apply(this,arguments)})},{key:"withdrawTrx",value:(Z=h()(d.a.mark(function ce(he,Ee,qe){var Be,Se,Te,Fe,Ce,ze=arguments;return d.a.wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(Be=ze.length>3&&ze[3]!==void 0?ze[3]:{},Se=ze.length>4&&ze[4]!==void 0?ze[4]:this.mainchain.defaultPrivateKey,Te=ze.length>5&&ze[5]!==void 0&&ze[5],this.utils.isFunction(Se)&&(Te=Se,Se=this.mainchain.defaultPrivateKey),this.utils.isFunction(Be)&&(Te=Be,Be={}),Te){Ye.next=7;break}return Ye.abrupt("return",this.injectPromise(this.withdrawTrx,he,Ee,qe,Be,Se));case 7:if(!this.validator.notValid([{name:"callValue",type:"integer",value:he,gte:0},{name:"withdrawFee",type:"integer",value:Ee,gte:0},{name:"feeLimit",type:"integer",value:qe,gte:0}],Te)){Ye.next=9;break}return Ye.abrupt("return");case 9:return Be=hi({callValue:Number(he)+Number(Ee),feeLimit:qe},Be),Ye.prev=10,Ye.next=13,this.sidechain.contract().at(this.sideGatewayAddress);case 13:return Fe=Ye.sent,Ye.next=16,Fe.withdrawTRX().send(Be,Se);case 16:return Ce=Ye.sent,Ye.abrupt("return",Te(null,Ce));case 20:return Ye.prev=20,Ye.t0=Ye.catch(10),Ye.abrupt("return",Te(Ye.t0));case 23:case"end":return Ye.stop()}},ce,this,[[10,20]])})),function(ce,he,Ee){return Z.apply(this,arguments)})},{key:"withdrawTrc10",value:(L=h()(d.a.mark(function ce(he,Ee,qe,Be){var Se,Te,Fe,Ce,ze,Ye=arguments;return d.a.wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(Se=Ye.length>4&&Ye[4]!==void 0?Ye[4]:{},Te=Ye.length>5&&Ye[5]!==void 0?Ye[5]:this.mainchain.defaultPrivateKey,Fe=Ye.length>6&&Ye[6]!==void 0&&Ye[6],this.utils.isFunction(Te)&&(Fe=Te,Te=this.mainchain.defaultPrivateKey),this.utils.isFunction(Se)&&(Fe=Se,Se={}),Fe){ut.next=7;break}return ut.abrupt("return",this.injectPromise(this.withdrawTrc10,he,Ee,qe,Be,Se,Te));case 7:if(!this.validator.notValid([{name:"tokenId",type:"integer",value:he,gte:0},{name:"tokenValue",type:"integer",value:Ee,gte:0},{name:"withdrawFee",type:"integer",value:qe,gte:0},{name:"feeLimit",type:"integer",value:Be,gte:0}],Fe)){ut.next=9;break}return ut.abrupt("return");case 9:return Se=hi({tokenValue:Ee,tokenId:he,callValue:qe,feeLimit:Be},Se),ut.prev=10,ut.next=13,this.sidechain.contract().at(this.sideGatewayAddress);case 13:return Ce=ut.sent,ut.next=16,Ce.withdrawTRC10(he,Ee).send(Se,Te);case 16:return ze=ut.sent,ut.abrupt("return",Fe(null,ze));case 20:return ut.prev=20,ut.t0=ut.catch(10),ut.abrupt("return",Fe(ut.t0));case 23:case"end":return ut.stop()}},ce,this,[[10,20]])})),function(ce,he,Ee,qe){return L.apply(this,arguments)})},{key:"withdrawTrc",value:(B=h()(d.a.mark(function ce(he,Ee,qe,Be,Se){var Te,Fe,Ce,ze,Ye,ut,or,dt,is,$a,_c=this,ss=arguments;return d.a.wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:if(Te=ss.length>5&&ss[5]!==void 0?ss[5]:{},Fe=ss.length>6&&ss[6]!==void 0?ss[6]:this.mainchain.defaultPrivateKey,Ce=ss.length>7&&ss[7]!==void 0&&ss[7],this.utils.isFunction(Fe)&&(Ce=Fe,Fe=this.mainchain.defaultPrivateKey),this.utils.isFunction(Te)&&(Ce=Te,Te={}),Ce){ur.next=7;break}return ur.abrupt("return",this.injectPromise(this.withdrawTrc,he,Ee,qe,Be,Se,Te,Fe));case 7:if(!this.validator.notValid([{name:"functionSelector",type:"not-empty-string",value:he},{name:"numOrId",type:"integer",value:Ee,gte:0},{name:"withdrawFee",type:"integer",value:qe,gte:0},{name:"feeLimit",type:"integer",value:Be,gte:0},{name:"contractAddress",type:"address",value:Se}],Ce)){ur.next=9;break}return ur.abrupt("return");case 9:return Te=hi(hi({feeLimit:Be},Te),{},{callValue:qe}),ze=[{type:"uint256",value:Ee}],ur.prev=11,Ye=Fe?this.sidechain.address.fromPrivateKey(Fe):this.sidechain.defaultAddress.base58,ur.next=15,this.sidechain.transactionBuilder.triggerSmartContract(Se,he,Te,ze,this.sidechain.address.toHex(Ye));case 15:if((ut=ur.sent).result&&ut.result.result){ur.next=18;break}return ur.abrupt("return",Ce("Unknown error: "+JSON.stringify(ut.transaction,null,2)));case 18:return ur.next=20,this.sidechain.trx.sign(ut.transaction,Fe);case 20:if((or=ur.sent).signature){ur.next=25;break}if(Fe){ur.next=24;break}return ur.abrupt("return",Ce("Transaction was not signed properly"));case 24:return ur.abrupt("return",Ce("Invalid private key provided"));case 25:return ur.next=27,this.sidechain.trx.sendRawTransaction(or);case 27:if(!(dt=ur.sent).code){ur.next=32;break}return is={error:dt.code,message:dt.code},dt.message&&(is.message=this.sidechain.toUtf8(dt.message)),ur.abrupt("return",Ce(is));case 32:if(Te.shouldPollResponse){ur.next=34;break}return ur.abrupt("return",Ce(null,or.txID));case 34:($a=function(){var k7=h()(d.a.mark(function N7(){var Lb,pi,Ec,w0=arguments;return d.a.wrap(function(yn){for(;;)switch(yn.prev=yn.next){case 0:if((Lb=w0.length>0&&w0[0]!==void 0?w0[0]:0)!=20){yn.next=3;break}return yn.abrupt("return",Ce({error:"Cannot find result in solidity node",transaction:or}));case 3:return yn.next=5,_c.sidechain.trx.getTransactionInfo(or.txID);case 5:if(pi=yn.sent,Object.keys(pi).length){yn.next=8;break}return yn.abrupt("return",setTimeout(function(){$a(Lb+1)},3e3));case 8:if(!pi.result||pi.result!="FAILED"){yn.next=10;break}return yn.abrupt("return",Ce({error:_c.sidechain.toUtf8(pi.resMessage),transaction:or,output:pi}));case 10:if(_c.utils.hasProperty(pi,"contractResult")){yn.next=12;break}return yn.abrupt("return",Ce({error:"Failed to execute: "+JSON.stringify(pi,null,2),transaction:or,output:pi}));case 12:if(!Te.rawResponse){yn.next=14;break}return yn.abrupt("return",Ce(null,pi));case 14:return(Ec=decodeOutput(_c.outputs,"0x"+pi.contractResult[0])).length===1&&(Ec=Ec[0]),yn.abrupt("return",Ce(null,Ec));case 17:case"end":return yn.stop()}},N7)}));return function(){return k7.apply(this,arguments)}}())(),ur.next=41;break;case 38:return ur.prev=38,ur.t0=ur.catch(11),ur.abrupt("return",Ce(ur.t0));case 41:case"end":return ur.stop()}},ce,this,[[11,38]])})),function(ce,he,Ee,qe,Be){return B.apply(this,arguments)})},{key:"withdrawTrc20",value:(T=h()(d.a.mark(function ce(he,Ee,qe,Be,Se){var Te,Fe,Ce,ze=arguments;return d.a.wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Te=ze.length>5&&ze[5]!==void 0?ze[5]:this.mainchain.defaultPrivateKey,Fe=ze.length>6&&ze[6]!==void 0&&ze[6],Ce="withdrawal(uint256)",Ye.abrupt("return",this.withdrawTrc(Ce,he,Ee,qe,Be,Se,Te,Fe));case 4:case"end":return Ye.stop()}},ce,this)})),function(ce,he,Ee,qe,Be){return T.apply(this,arguments)})},{key:"withdrawTrc721",value:(V=h()(d.a.mark(function ce(he,Ee,qe,Be,Se){var Te,Fe,Ce,ze=arguments;return d.a.wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Te=ze.length>5&&ze[5]!==void 0?ze[5]:this.mainchain.defaultPrivateKey,Fe=ze.length>6&&ze[6]!==void 0&&ze[6],Ce="withdrawal(uint256)",Ye.abrupt("return",this.withdrawTrc(Ce,he,Ee,qe,Be,Se,Te,Fe));case 4:case"end":return Ye.stop()}},ce,this)})),function(ce,he,Ee,qe,Be){return V.apply(this,arguments)})},{key:"injectFund",value:(_e=h()(d.a.mark(function ce(he,Ee,qe){var Be,Se,Te,Fe,Ce,ze,Ye,ut,or=arguments;return d.a.wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if(Be=or.length>3&&or[3]!==void 0?or[3]:this.mainchain.defaultPrivateKey,Se=or.length>4&&or[4]!==void 0&&or[4],this.utils.isFunction(Be)&&(Se=Be,Be=this.mainchain.defaultPrivateKey),this.utils.isFunction(qe)&&(Se=qe,qe={}),Se){dt.next=6;break}return dt.abrupt("return",this.injectPromise(this.injectFund,he,Ee,qe,Be));case 6:if(!this.validator.notValid([{name:"num",type:"integer",value:he,gte:0},{name:"feeLimit",type:"integer",value:Ee,gte:0}],Se)){dt.next=8;break}return dt.abrupt("return");case 8:return dt.prev=8,Te=this.sidechain.address.fromPrivateKey(Be),Fe=this.sidechain.address.toHex(Te),dt.next=13,this.sidechain.fullNode.request("/wallet/fundinject",{owner_address:Fe,amount:he},"post");case 13:return Ce=dt.sent,dt.next=16,this.sidechain.trx.sign(Ce,Be);case 16:if((ze=dt.sent).signature){dt.next=21;break}if(Be){dt.next=20;break}return dt.abrupt("return",Se("Transaction was not signed properly"));case 20:return dt.abrupt("return",Se("Invalid private key provided"));case 21:return dt.next=23,this.sidechain.trx.sendRawTransaction(ze);case 23:if(!(Ye=dt.sent).code){dt.next=28;break}return ut={error:Ye.code,message:Ye.code},Ye.message&&(ut.message=this.mainchain.toUtf8(Ye.message)),dt.abrupt("return",Se(ut));case 28:return dt.abrupt("return",Se(null,ze.txID));case 31:return dt.prev=31,dt.t0=dt.catch(8),dt.abrupt("return",Se(dt.t0));case 34:case"end":return dt.stop()}},ce,this,[[8,31]])})),function(ce,he,Ee){return _e.apply(this,arguments)})},{key:"retryWithdraw",value:(pe=h()(d.a.mark(function ce(he,Ee,qe){var Be,Se,Te,Fe,Ce=arguments;return d.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return Be=Ce.length>3&&Ce[3]!==void 0?Ce[3]:{},Se=Ce.length>4&&Ce[4]!==void 0?Ce[4]:this.sidechain.defaultPrivateKey,Te=Ce.length>5&&Ce[5]!==void 0&&Ce[5],Fe="retryWithdraw(uint256)",ze.abrupt("return",this.withdrawTrc(Fe,he,Ee,qe,this.sideGatewayAddress,Be,Se,Te));case 5:case"end":return ze.stop()}},ce,this)})),function(ce,he,Ee){return pe.apply(this,arguments)})},{key:"retryDeposit",value:(ie=h()(d.a.mark(function ce(he,Ee,qe){var Be,Se,Te,Fe,Ce=arguments;return d.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return Be=Ce.length>3&&Ce[3]!==void 0?Ce[3]:{},Se=Ce.length>4&&Ce[4]!==void 0?Ce[4]:this.mainchain.defaultPrivateKey,Te=Ce.length>5&&Ce[5]!==void 0&&Ce[5],Fe="retryDeposit",ze.abrupt("return",this.depositTrc(Fe,he,Ee,qe,this.mainGatewayAddress,Be,Se,Te));case 5:case"end":return ze.stop()}},ce,this)})),function(ce,he,Ee){return ie.apply(this,arguments)})},{key:"retryMapping",value:(H=h()(d.a.mark(function ce(he,Ee,qe){var Be,Se,Te,Fe,Ce=arguments;return d.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return Be=Ce.length>3&&Ce[3]!==void 0?Ce[3]:{},Se=Ce.length>4&&Ce[4]!==void 0?Ce[4]:this.mainchain.defaultPrivateKey,Te=Ce.length>5&&Ce[5]!==void 0&&Ce[5],Fe="retryMapping",ze.abrupt("return",this.depositTrc(Fe,he,Ee,qe,this.mainGatewayAddress,Be,Se,Te));case 5:case"end":return ze.stop()}},ce,this)})),function(ce,he,Ee){return H.apply(this,arguments)})}]),q}();function R7(q){var H=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ie,pe=fe()(q);if(H){var _e=fe()(this).constructor;ie=Reflect.construct(pe,arguments,_e)}else ie=pe.apply(this,arguments);return ee()(this,ie)}}var ar=function(q){X()(V,q);var H,ie,pe,_e=R7(V);function V(){var T,B,L=arguments.length>0&&arguments[0]!==void 0&&arguments[0],Z=arguments.length>1&&arguments[1]!==void 0&&arguments[1],se=arguments.length>2&&arguments[2]!==void 0&&arguments[2],De=arguments.length>3&&arguments[3]!==void 0&&arguments[3],We=arguments.length>4&&arguments[4]!==void 0&&arguments[4];v()(this,V),T=_e.call(this);var He=!1,Ge=!1;return w()(L)==="object"&&(L.fullNode||L.fullHost)?(B=L.fullNode||L.fullHost,De=Z,Z=L.solidityNode||L.fullHost,se=L.eventServer||L.fullHost,He=L.headers||!1,Ge=L.eventHeaders||He,We=L.privateKey):B=L,ve.isString(B)&&(B=new Pn.HttpProvider(B)),ve.isString(Z)&&(Z=new Pn.HttpProvider(Z)),ve.isString(se)&&(se=new Pn.HttpProvider(se)),T.event=new Db($()(T)),T.transactionBuilder=new Pb($()(T)),T.trx=new Nb($()(T)),T.plugin=new Tb($()(T),L),T.utils=ve,T.setFullNode(B),T.setSolidityNode(Z),T.setEventServer(se),T.providers=Pn,T.BigNumber=Qo.a,T.defaultBlock=!1,T.defaultPrivateKey=!1,T.defaultAddress={hex:!1,base58:!1},["sha3","toHex","toUtf8","fromUtf8","toAscii","fromAscii","toDecimal","fromDecimal","toSun","fromSun","toBigNumber","isAddress","createAccount","address","version","createRandom","fromMnemonic"].forEach(function(lt){T[lt]=V[lt]}),w()(De)==="object"&&(De.fullNode||De.fullHost)?T.sidechain=new P7(De,V,$()(T),We):We=We||De,We&&T.setPrivateKey(We),T.fullnodeVersion="3.5.0",T.feeLimit=15e7,T.injectPromise=Js()($()(T)),He&&T.setFullNodeHeader(He),Ge&&T.setEventHeader(Ge),T}return k()(V,[{key:"getFullnodeVersion",value:(pe=h()(d.a.mark(function T(){var B;return d.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.prev=0,L.next=3,this.trx.getNodeInfo();case 3:B=L.sent,this.fullnodeVersion=B.configNodeInfo.codeVersion,this.fullnodeVersion.split(".").length===2&&(this.fullnodeVersion+=".0"),L.next=11;break;case 8:L.prev=8,L.t0=L.catch(0),this.fullnodeVersion="3.5.0";case 11:case"end":return L.stop()}},T,this,[[0,8]])})),function(){return pe.apply(this,arguments)})},{key:"setDefaultBlock",value:function(){var T=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if([!1,"latest","earliest",0].includes(T))return this.defaultBlock=T;if(!ve.isInteger(T)||!T)throw new Error("Invalid block ID provided");this.defaultBlock=Math.abs(T)}},{key:"setPrivateKey",value:function(T){try{this.setAddress(this.address.fromPrivateKey(T))}catch{throw new Error("Invalid private key provided")}this.defaultPrivateKey=T,this.emit("privateKeyChanged",T)}},{key:"setAddress",value:function(T){if(!this.isAddress(T))throw new Error("Invalid address provided");var B=this.address.toHex(T),L=this.address.fromHex(T);this.defaultPrivateKey&&this.address.fromPrivateKey(this.defaultPrivateKey)!==L&&(this.defaultPrivateKey=!1),this.defaultAddress={hex:B,base58:L},this.emit("addressChanged",{hex:B,base58:L})}},{key:"fullnodeSatisfies",value:function(T){return Sb.a.satisfies(this.fullnodeVersion,T)}},{key:"isValidProvider",value:function(T){return Object.values(Pn).some(function(B){return T instanceof B})}},{key:"setFullNode",value:function(T){if(ve.isString(T)&&(T=new Pn.HttpProvider(T)),!this.isValidProvider(T))throw new Error("Invalid full node provided");this.fullNode=T,this.fullNode.setStatusPage("wallet/getnowblock"),this.getFullnodeVersion()}},{key:"setSolidityNode",value:function(T){if(ve.isString(T)&&(T=new Pn.HttpProvider(T)),!this.isValidProvider(T))throw new Error("Invalid solidity node provided");this.solidityNode=T,this.solidityNode.setStatusPage("walletsolidity/getnowblock")}},{key:"setEventServer",value:function(){var T;(T=this.event).setServer.apply(T,arguments)}},{key:"setHeader",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=new Pn.HttpProvider(this.fullNode.host,3e4,!1,!1,T),L=new Pn.HttpProvider(this.solidityNode.host,3e4,!1,!1,T),Z=new Pn.HttpProvider(this.eventServer.host,3e4,!1,!1,T);this.setFullNode(B),this.setSolidityNode(L),this.setEventServer(Z)}},{key:"setFullNodeHeader",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=new Pn.HttpProvider(this.fullNode.host,3e4,!1,!1,T),L=new Pn.HttpProvider(this.solidityNode.host,3e4,!1,!1,T);this.setFullNode(B),this.setSolidityNode(L)}},{key:"setEventHeader",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=new Pn.HttpProvider(this.eventServer.host,3e4,!1,!1,T);this.setEventServer(B)}},{key:"currentProviders",value:function(){return{fullNode:this.fullNode,solidityNode:this.solidityNode,eventServer:this.eventServer}}},{key:"currentProvider",value:function(){return this.currentProviders()}},{key:"getEventResult",value:function(){for(var T,B=arguments.length,L=new Array(B),Z=0;Z<B;Z++)L[Z]=arguments[Z];return w()(L[1])!=="object"&&(L[1]={sinceTimestamp:L[1]||0,eventName:L[2]||!1,blockNumber:L[3]||!1,size:L[4]||20,page:L[5]||1},L.splice(2,4),ve.isFunction(L[2])||(ve.isFunction(L[1].page)?(L[2]=L[1].page,L[1].page=1):ve.isFunction(L[1].size)&&(L[2]=L[1].size,L[1].size=20,L[1].page=1))),(T=this.event).getEventsByContractAddress.apply(T,L)}},{key:"getEventByTransactionID",value:function(){var T;return(T=this.event).getEventsByTransactionID.apply(T,arguments)}},{key:"contract",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Cb(this,T,B)}},{key:"isConnected",value:(ie=h()(d.a.mark(function T(){var B,L=arguments;return d.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(B=L.length>0&&L[0]!==void 0&&L[0]){Z.next=3;break}return Z.abrupt("return",this.injectPromise(this.isConnected));case 3:return Z.t0=B,Z.next=6,this.fullNode.isConnected();case 6:return Z.t1=Z.sent,Z.next=9,this.solidityNode.isConnected();case 9:if(Z.t2=Z.sent,Z.t3=this.eventServer,!Z.t3){Z.next=15;break}return Z.next=14,this.eventServer.isConnected();case 14:Z.t3=Z.sent;case 15:return Z.t4=Z.t3,Z.t5={fullNode:Z.t1,solidityNode:Z.t2,eventServer:Z.t4},Z.abrupt("return",(0,Z.t0)(null,Z.t5));case 18:case"end":return Z.stop()}},T,this)})),function(){return ie.apply(this,arguments)})}],[{key:"address",get:function(){return{fromHex:function(T){return ve.isHex(T)?ve.crypto.getBase58CheckAddress(ve.code.hexStr2byteArray(T.replace(/^0x/,"41"))):T},toHex:function(T){return ve.isHex(T)?T.toLowerCase().replace(/^0x/,"41"):ve.code.byteArray2hexStr(ve.crypto.decodeBase58Address(T)).toLowerCase()},fromPrivateKey:function(T){var B=arguments.length>1&&arguments[1]!==void 0&&arguments[1];try{return ve.crypto.pkToAddress(T,B)}catch{return!1}}}}},{key:"sha3",value:function(T){var B=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return(B?"0x":"")+ke(Buffer.from(T,"utf-8")).toString().substring(2)}},{key:"toHex",value:function(T){if(ve.isBoolean(T))return V.fromDecimal(+T);if(ve.isBigNumber(T))return V.fromDecimal(T);if(w()(T)==="object")return V.fromUtf8(JSON.stringify(T));if(ve.isString(T)){if(/^(-|)0x/.test(T))return T;if(!isFinite(T)||/^\s*$/.test(T))return V.fromUtf8(T)}var B=V.fromDecimal(T);if(B==="0xNaN")throw new Error("The passed value is not convertible to a hex string");return B}},{key:"toUtf8",value:function(T){if(ve.isHex(T))return T=T.replace(/^0x/,""),Buffer.from(T,"hex").toString("utf8");throw new Error("The passed value is not a valid hex string")}},{key:"fromUtf8",value:function(T){if(!ve.isString(T))throw new Error("The passed value is not a valid utf-8 string");return"0x"+Buffer.from(T,"utf8").toString("hex")}},{key:"toAscii",value:function(T){if(ve.isHex(T)){var B="",L=0,Z=T.length;for(T.substring(0,2)==="0x"&&(L=2);L<Z;L+=2){var se=parseInt(T.substr(L,2),16);B+=String.fromCharCode(se)}return B}throw new Error("The passed value is not a valid hex string")}},{key:"fromAscii",value:function(T,B){if(!ve.isString(T))throw new Error("The passed value is not a valid utf-8 string");return"0x"+Buffer.from(T,"ascii").toString("hex").padEnd(B,"0")}},{key:"toDecimal",value:function(T){return V.toBigNumber(T).toNumber()}},{key:"fromDecimal",value:function(T){var B=V.toBigNumber(T),L=B.toString(16);return B.isLessThan(0)?"-0x"+L.substr(1):"0x"+L}},{key:"fromSun",value:function(T){var B=V.toBigNumber(T).div(1e6);return ve.isBigNumber(T)?B:B.toString(10)}},{key:"toSun",value:function(T){var B=V.toBigNumber(T).times(1e6);return ve.isBigNumber(T)?B:B.toString(10)}},{key:"toBigNumber",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ve.isBigNumber(T)?T:ve.isString(T)&&/^(-|)0x/.test(T)?new Qo.a(T.replace("0x",""),16):new Qo.a(T.toString(10),10)}},{key:"isAddress",value:function(){var T=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!ve.isString(T))return!1;if(T.length===42)try{return V.isAddress(ve.crypto.getBase58CheckAddress(ve.code.hexStr2byteArray(T)))}catch{return!1}try{return ve.crypto.isAddressValid(T)}catch{return!1}}},{key:"createAccount",value:(H=h()(d.a.mark(function T(){var B;return d.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return B=ve.accounts.generateAccount(),L.abrupt("return",B);case 2:case"end":return L.stop()}},T)})),function(){return H.apply(this,arguments)})},{key:"createRandom",value:function(T){return ve.accounts.generateRandom(T)}},{key:"fromMnemonic",value:function(T){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m/44'/195'/0'/0/0",L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",Z=ve.accounts.generateAccountWithMnemonic(T,B,L);return Z}}]),V}(y7.a);g()(ar,"providers",Pn),g()(ar,"BigNumber",Qo.a),g()(ar,"TransactionBuilder",Pb),g()(ar,"Trx",Nb),g()(ar,"Contract",Cb),g()(ar,"Plugin",Tb),g()(ar,"Event",Db),g()(ar,"version",x7.a),g()(ar,"utils",ve)}]).default;const UW=es(FW);var c7={},g0={};g0.byteLength=zW;g0.toByteArray=KW;g0.fromByteArray=GW;var Zi=[],ai=[],qW=typeof Uint8Array<"u"?Uint8Array:Array,eg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ho=0,jW=eg.length;ho<jW;++ho)Zi[ho]=eg[ho],ai[eg.charCodeAt(ho)]=ho;ai[45]=62;ai[95]=63;function f7(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function zW(r){var e=f7(r),t=e[0],n=e[1];return(t+n)*3/4-n}function WW(r,e,t){return(e+t)*3/4-t}function KW(r){var e,t=f7(r),n=t[0],i=t[1],s=new qW(WW(r,n,i)),a=0,o=i>0?n-4:n,u;for(u=0;u<o;u+=4)e=ai[r.charCodeAt(u)]<<18|ai[r.charCodeAt(u+1)]<<12|ai[r.charCodeAt(u+2)]<<6|ai[r.charCodeAt(u+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=ai[r.charCodeAt(u)]<<2|ai[r.charCodeAt(u+1)]>>4,s[a++]=e&255),i===1&&(e=ai[r.charCodeAt(u)]<<10|ai[r.charCodeAt(u+1)]<<4|ai[r.charCodeAt(u+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function HW(r){return Zi[r>>18&63]+Zi[r>>12&63]+Zi[r>>6&63]+Zi[r&63]}function VW(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(HW(n));return i.join("")}function GW(r){for(var e,t=r.length,n=t%3,i=[],s=16383,a=0,o=t-n;a<o;a+=s)i.push(VW(r,a,a+s>o?o:a+s));return n===1?(e=r[t-1],i.push(Zi[e>>2]+Zi[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(Zi[e>>10]+Zi[e>>4&63]+Zi[e<<2&63]+"=")),i.join("")}var mb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */mb.read=function(r,e,t,n,i){var s,a,o=i*8-n-1,u=(1<<o)-1,c=u>>1,f=-7,l=t?i-1:0,h=t?-1:1,y=r[e+l];for(l+=h,s=y&(1<<-f)-1,y>>=-f,f+=o;f>0;s=s*256+r[e+l],l+=h,f-=8);for(a=s&(1<<-f)-1,s>>=-f,f+=n;f>0;a=a*256+r[e+l],l+=h,f-=8);if(s===0)s=1-c;else{if(s===u)return a?NaN:(y?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-c}return(y?-1:1)*a*Math.pow(2,s-n)};mb.write=function(r,e,t,n,i,s){var a,o,u,c=s*8-i-1,f=(1<<c)-1,l=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,w=n?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+l>=1?e+=h/u:e+=h*Math.pow(2,1-l),e*u>=2&&(a++,u/=2),a+l>=f?(o=0,a=f):a+l>=1?(o=(e*u-1)*Math.pow(2,i),a=a+l):(o=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;r[t+y]=o&255,y+=w,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;r[t+y]=a&255,y+=w,a/=256,c-=8);r[t+y-w]|=_*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=g0,t=mb,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=o,r.SlowBuffer=k,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const U=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(U,R),U.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(U){if(U>i)throw new RangeError('The value "'+U+'" is invalid for option "size"');const R=new Uint8Array(U);return Object.setPrototypeOf(R,o.prototype),R}function o(U,R,O){if(typeof U=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(U)}return u(U,R,O)}o.poolSize=8192;function u(U,R,O){if(typeof U=="string")return h(U,R);if(ArrayBuffer.isView(U))return w(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Ne(U,ArrayBuffer)||U&&Ne(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ne(U,SharedArrayBuffer)||U&&Ne(U.buffer,SharedArrayBuffer)))return _(U,R,O);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const oe=U.valueOf&&U.valueOf();if(oe!=null&&oe!==U)return o.from(oe,R,O);const Ie=v(U);if(Ie)return Ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return o.from(U[Symbol.toPrimitive]("string"),R,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}o.from=function(U,R,O){return u(U,R,O)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function f(U,R,O){return c(U),U<=0?a(U):R!==void 0?typeof O=="string"?a(U).fill(R,O):a(U).fill(R):a(U)}o.alloc=function(U,R,O){return f(U,R,O)};function l(U){return c(U),a(U<0?0:S(U)|0)}o.allocUnsafe=function(U){return l(U)},o.allocUnsafeSlow=function(U){return l(U)};function h(U,R){if((typeof R!="string"||R==="")&&(R="utf8"),!o.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const O=C(U,R)|0;let oe=a(O);const Ie=oe.write(U,R);return Ie!==O&&(oe=oe.slice(0,Ie)),oe}function y(U){const R=U.length<0?0:S(U.length)|0,O=a(R);for(let oe=0;oe<R;oe+=1)O[oe]=U[oe]&255;return O}function w(U){if(Ne(U,Uint8Array)){const R=new Uint8Array(U);return _(R.buffer,R.byteOffset,R.byteLength)}return y(U)}function _(U,R,O){if(R<0||U.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<R+(O||0))throw new RangeError('"length" is outside of buffer bounds');let oe;return R===void 0&&O===void 0?oe=new Uint8Array(U):O===void 0?oe=new Uint8Array(U,R):oe=new Uint8Array(U,R,O),Object.setPrototypeOf(oe,o.prototype),oe}function v(U){if(o.isBuffer(U)){const R=S(U.length)|0,O=a(R);return O.length===0||U.copy(O,0,0,R),O}if(U.length!==void 0)return typeof U.length!="number"||ke(U.length)?a(0):y(U);if(U.type==="Buffer"&&Array.isArray(U.data))return y(U.data)}function S(U){if(U>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return U|0}function k(U){return+U!=U&&(U=0),o.alloc(+U)}o.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==o.prototype},o.compare=function(R,O){if(Ne(R,Uint8Array)&&(R=o.from(R,R.offset,R.byteLength)),Ne(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),!o.isBuffer(R)||!o.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===O)return 0;let oe=R.length,Ie=O.length;for(let Le=0,Ue=Math.min(oe,Ie);Le<Ue;++Le)if(R[Le]!==O[Le]){oe=R[Le],Ie=O[Le];break}return oe<Ie?-1:Ie<oe?1:0},o.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(R,O){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return o.alloc(0);let oe;if(O===void 0)for(O=0,oe=0;oe<R.length;++oe)O+=R[oe].length;const Ie=o.allocUnsafe(O);let Le=0;for(oe=0;oe<R.length;++oe){let Ue=R[oe];if(Ne(Ue,Uint8Array))Le+Ue.length>Ie.length?(o.isBuffer(Ue)||(Ue=o.from(Ue)),Ue.copy(Ie,Le)):Uint8Array.prototype.set.call(Ie,Ue,Le);else if(o.isBuffer(Ue))Ue.copy(Ie,Le);else throw new TypeError('"list" argument must be an Array of Buffers');Le+=Ue.length}return Ie};function C(U,R){if(o.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Ne(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const O=U.length,oe=arguments.length>2&&arguments[2]===!0;if(!oe&&O===0)return 0;let Ie=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return Ae(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return ne(U).length;default:if(Ie)return oe?-1:Ae(U).length;R=(""+R).toLowerCase(),Ie=!0}}o.byteLength=C;function $(U,R,O){let oe=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,R>>>=0,O<=R))return"";for(U||(U="utf8");;)switch(U){case"hex":return I(this,R,O);case"utf8":case"utf-8":return d(this,R,O);case"ascii":return M(this,R,O);case"latin1":case"binary":return N(this,R,O);case"base64":return b(this,R,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,R,O);default:if(oe)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),oe=!0}}o.prototype._isBuffer=!0;function W(U,R,O){const oe=U[R];U[R]=U[O],U[O]=oe}o.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<R;O+=2)W(this,O,O+1);return this},o.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<R;O+=4)W(this,O,O+3),W(this,O+1,O+2);return this},o.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<R;O+=8)W(this,O,O+7),W(this,O+1,O+6),W(this,O+2,O+5),W(this,O+3,O+4);return this},o.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?d(this,0,R):$.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(R){if(!o.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:o.compare(this,R)===0},o.prototype.inspect=function(){let R="";const O=r.INSPECT_MAX_BYTES;return R=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(R+=" ... "),"<Buffer "+R+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(R,O,oe,Ie,Le){if(Ne(R,Uint8Array)&&(R=o.from(R,R.offset,R.byteLength)),!o.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(O===void 0&&(O=0),oe===void 0&&(oe=R?R.length:0),Ie===void 0&&(Ie=0),Le===void 0&&(Le=this.length),O<0||oe>R.length||Ie<0||Le>this.length)throw new RangeError("out of range index");if(Ie>=Le&&O>=oe)return 0;if(Ie>=Le)return-1;if(O>=oe)return 1;if(O>>>=0,oe>>>=0,Ie>>>=0,Le>>>=0,this===R)return 0;let Ue=Le-Ie,ct=oe-O;const gt=Math.min(Ue,ct),it=this.slice(Ie,Le),ot=R.slice(O,oe);for(let bt=0;bt<gt;++bt)if(it[bt]!==ot[bt]){Ue=it[bt],ct=ot[bt];break}return Ue<ct?-1:ct<Ue?1:0};function X(U,R,O,oe,Ie){if(U.length===0)return-1;if(typeof O=="string"?(oe=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,ke(O)&&(O=Ie?0:U.length-1),O<0&&(O=U.length+O),O>=U.length){if(Ie)return-1;O=U.length-1}else if(O<0)if(Ie)O=0;else return-1;if(typeof R=="string"&&(R=o.from(R,oe)),o.isBuffer(R))return R.length===0?-1:ae(U,R,O,oe,Ie);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?Ie?Uint8Array.prototype.indexOf.call(U,R,O):Uint8Array.prototype.lastIndexOf.call(U,R,O):ae(U,[R],O,oe,Ie);throw new TypeError("val must be string, number or Buffer")}function ae(U,R,O,oe,Ie){let Le=1,Ue=U.length,ct=R.length;if(oe!==void 0&&(oe=String(oe).toLowerCase(),oe==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(U.length<2||R.length<2)return-1;Le=2,Ue/=2,ct/=2,O/=2}function gt(ot,bt){return Le===1?ot[bt]:ot.readUInt16BE(bt*Le)}let it;if(Ie){let ot=-1;for(it=O;it<Ue;it++)if(gt(U,it)===gt(R,ot===-1?0:it-ot)){if(ot===-1&&(ot=it),it-ot+1===ct)return ot*Le}else ot!==-1&&(it-=it-ot),ot=-1}else for(O+ct>Ue&&(O=Ue-ct),it=O;it>=0;it--){let ot=!0;for(let bt=0;bt<ct;bt++)if(gt(U,it+bt)!==gt(R,bt)){ot=!1;break}if(ot)return it}return-1}o.prototype.includes=function(R,O,oe){return this.indexOf(R,O,oe)!==-1},o.prototype.indexOf=function(R,O,oe){return X(this,R,O,oe,!0)},o.prototype.lastIndexOf=function(R,O,oe){return X(this,R,O,oe,!1)};function ee(U,R,O,oe){O=Number(O)||0;const Ie=U.length-O;oe?(oe=Number(oe),oe>Ie&&(oe=Ie)):oe=Ie;const Le=R.length;oe>Le/2&&(oe=Le/2);let Ue;for(Ue=0;Ue<oe;++Ue){const ct=parseInt(R.substr(Ue*2,2),16);if(ke(ct))return Ue;U[O+Ue]=ct}return Ue}function Q(U,R,O,oe){return ye(Ae(R,U.length-O),U,O,oe)}function fe(U,R,O,oe){return ye(F(R),U,O,oe)}function j(U,R,O,oe){return ye(ne(R),U,O,oe)}function g(U,R,O,oe){return ye(G(R,U.length-O),U,O,oe)}o.prototype.write=function(R,O,oe,Ie){if(O===void 0)Ie="utf8",oe=this.length,O=0;else if(oe===void 0&&typeof O=="string")Ie=O,oe=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(oe)?(oe=oe>>>0,Ie===void 0&&(Ie="utf8")):(Ie=oe,oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Le=this.length-O;if((oe===void 0||oe>Le)&&(oe=Le),R.length>0&&(oe<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");let Ue=!1;for(;;)switch(Ie){case"hex":return ee(this,R,O,oe);case"utf8":case"utf-8":return Q(this,R,O,oe);case"ascii":case"latin1":case"binary":return fe(this,R,O,oe);case"base64":return j(this,R,O,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,R,O,oe);default:if(Ue)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),Ue=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b(U,R,O){return R===0&&O===U.length?e.fromByteArray(U):e.fromByteArray(U.slice(R,O))}function d(U,R,O){O=Math.min(U.length,O);const oe=[];let Ie=R;for(;Ie<O;){const Le=U[Ie];let Ue=null,ct=Le>239?4:Le>223?3:Le>191?2:1;if(Ie+ct<=O){let gt,it,ot,bt;switch(ct){case 1:Le<128&&(Ue=Le);break;case 2:gt=U[Ie+1],(gt&192)===128&&(bt=(Le&31)<<6|gt&63,bt>127&&(Ue=bt));break;case 3:gt=U[Ie+1],it=U[Ie+2],(gt&192)===128&&(it&192)===128&&(bt=(Le&15)<<12|(gt&63)<<6|it&63,bt>2047&&(bt<55296||bt>57343)&&(Ue=bt));break;case 4:gt=U[Ie+1],it=U[Ie+2],ot=U[Ie+3],(gt&192)===128&&(it&192)===128&&(ot&192)===128&&(bt=(Le&15)<<18|(gt&63)<<12|(it&63)<<6|ot&63,bt>65535&&bt<1114112&&(Ue=bt))}}Ue===null?(Ue=65533,ct=1):Ue>65535&&(Ue-=65536,oe.push(Ue>>>10&1023|55296),Ue=56320|Ue&1023),oe.push(Ue),Ie+=ct}return A(oe)}const p=4096;function A(U){const R=U.length;if(R<=p)return String.fromCharCode.apply(String,U);let O="",oe=0;for(;oe<R;)O+=String.fromCharCode.apply(String,U.slice(oe,oe+=p));return O}function M(U,R,O){let oe="";O=Math.min(U.length,O);for(let Ie=R;Ie<O;++Ie)oe+=String.fromCharCode(U[Ie]&127);return oe}function N(U,R,O){let oe="";O=Math.min(U.length,O);for(let Ie=R;Ie<O;++Ie)oe+=String.fromCharCode(U[Ie]);return oe}function I(U,R,O){const oe=U.length;(!R||R<0)&&(R=0),(!O||O<0||O>oe)&&(O=oe);let Ie="";for(let Le=R;Le<O;++Le)Ie+=Ke[U[Le]];return Ie}function m(U,R,O){const oe=U.slice(R,O);let Ie="";for(let Le=0;Le<oe.length-1;Le+=2)Ie+=String.fromCharCode(oe[Le]+oe[Le+1]*256);return Ie}o.prototype.slice=function(R,O){const oe=this.length;R=~~R,O=O===void 0?oe:~~O,R<0?(R+=oe,R<0&&(R=0)):R>oe&&(R=oe),O<0?(O+=oe,O<0&&(O=0)):O>oe&&(O=oe),O<R&&(O=R);const Ie=this.subarray(R,O);return Object.setPrototypeOf(Ie,o.prototype),Ie};function x(U,R,O){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+R>O)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(R,O,oe){R=R>>>0,O=O>>>0,oe||x(R,O,this.length);let Ie=this[R],Le=1,Ue=0;for(;++Ue<O&&(Le*=256);)Ie+=this[R+Ue]*Le;return Ie},o.prototype.readUintBE=o.prototype.readUIntBE=function(R,O,oe){R=R>>>0,O=O>>>0,oe||x(R,O,this.length);let Ie=this[R+--O],Le=1;for(;O>0&&(Le*=256);)Ie+=this[R+--O]*Le;return Ie},o.prototype.readUint8=o.prototype.readUInt8=function(R,O){return R=R>>>0,O||x(R,1,this.length),this[R]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(R,O){return R=R>>>0,O||x(R,2,this.length),this[R]|this[R+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(R,O){return R=R>>>0,O||x(R,2,this.length),this[R]<<8|this[R+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(R,O){return R=R>>>0,O||x(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(R,O){return R=R>>>0,O||x(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},o.prototype.readBigUInt64LE=Ze(function(R){R=R>>>0,we(R,"offset");const O=this[R],oe=this[R+7];(O===void 0||oe===void 0)&&ge(R,this.length-8);const Ie=O+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,Le=this[++R]+this[++R]*2**8+this[++R]*2**16+oe*2**24;return BigInt(Ie)+(BigInt(Le)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ze(function(R){R=R>>>0,we(R,"offset");const O=this[R],oe=this[R+7];(O===void 0||oe===void 0)&&ge(R,this.length-8);const Ie=O*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],Le=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+oe;return(BigInt(Ie)<<BigInt(32))+BigInt(Le)}),o.prototype.readIntLE=function(R,O,oe){R=R>>>0,O=O>>>0,oe||x(R,O,this.length);let Ie=this[R],Le=1,Ue=0;for(;++Ue<O&&(Le*=256);)Ie+=this[R+Ue]*Le;return Le*=128,Ie>=Le&&(Ie-=Math.pow(2,8*O)),Ie},o.prototype.readIntBE=function(R,O,oe){R=R>>>0,O=O>>>0,oe||x(R,O,this.length);let Ie=O,Le=1,Ue=this[R+--Ie];for(;Ie>0&&(Le*=256);)Ue+=this[R+--Ie]*Le;return Le*=128,Ue>=Le&&(Ue-=Math.pow(2,8*O)),Ue},o.prototype.readInt8=function(R,O){return R=R>>>0,O||x(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},o.prototype.readInt16LE=function(R,O){R=R>>>0,O||x(R,2,this.length);const oe=this[R]|this[R+1]<<8;return oe&32768?oe|4294901760:oe},o.prototype.readInt16BE=function(R,O){R=R>>>0,O||x(R,2,this.length);const oe=this[R+1]|this[R]<<8;return oe&32768?oe|4294901760:oe},o.prototype.readInt32LE=function(R,O){return R=R>>>0,O||x(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},o.prototype.readInt32BE=function(R,O){return R=R>>>0,O||x(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},o.prototype.readBigInt64LE=Ze(function(R){R=R>>>0,we(R,"offset");const O=this[R],oe=this[R+7];(O===void 0||oe===void 0)&&ge(R,this.length-8);const Ie=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(oe<<24);return(BigInt(Ie)<<BigInt(32))+BigInt(O+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),o.prototype.readBigInt64BE=Ze(function(R){R=R>>>0,we(R,"offset");const O=this[R],oe=this[R+7];(O===void 0||oe===void 0)&&ge(R,this.length-8);const Ie=(O<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(Ie)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+oe)}),o.prototype.readFloatLE=function(R,O){return R=R>>>0,O||x(R,4,this.length),t.read(this,R,!0,23,4)},o.prototype.readFloatBE=function(R,O){return R=R>>>0,O||x(R,4,this.length),t.read(this,R,!1,23,4)},o.prototype.readDoubleLE=function(R,O){return R=R>>>0,O||x(R,8,this.length),t.read(this,R,!0,52,8)},o.prototype.readDoubleBE=function(R,O){return R=R>>>0,O||x(R,8,this.length),t.read(this,R,!1,52,8)};function E(U,R,O,oe,Ie,Le){if(!o.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>Ie||R<Le)throw new RangeError('"value" argument is out of bounds');if(O+oe>U.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(R,O,oe,Ie){if(R=+R,O=O>>>0,oe=oe>>>0,!Ie){const ct=Math.pow(2,8*oe)-1;E(this,R,O,oe,ct,0)}let Le=1,Ue=0;for(this[O]=R&255;++Ue<oe&&(Le*=256);)this[O+Ue]=R/Le&255;return O+oe},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(R,O,oe,Ie){if(R=+R,O=O>>>0,oe=oe>>>0,!Ie){const ct=Math.pow(2,8*oe)-1;E(this,R,O,oe,ct,0)}let Le=oe-1,Ue=1;for(this[O+Le]=R&255;--Le>=0&&(Ue*=256);)this[O+Le]=R/Ue&255;return O+oe},o.prototype.writeUint8=o.prototype.writeUInt8=function(R,O,oe){return R=+R,O=O>>>0,oe||E(this,R,O,1,255,0),this[O]=R&255,O+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(R,O,oe){return R=+R,O=O>>>0,oe||E(this,R,O,2,65535,0),this[O]=R&255,this[O+1]=R>>>8,O+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(R,O,oe){return R=+R,O=O>>>0,oe||E(this,R,O,2,65535,0),this[O]=R>>>8,this[O+1]=R&255,O+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(R,O,oe){return R=+R,O=O>>>0,oe||E(this,R,O,4,4294967295,0),this[O+3]=R>>>24,this[O+2]=R>>>16,this[O+1]=R>>>8,this[O]=R&255,O+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(R,O,oe){return R=+R,O=O>>>0,oe||E(this,R,O,4,4294967295,0),this[O]=R>>>24,this[O+1]=R>>>16,this[O+2]=R>>>8,this[O+3]=R&255,O+4};function D(U,R,O,oe,Ie){re(R,oe,Ie,U,O,7);let Le=Number(R&BigInt(4294967295));U[O++]=Le,Le=Le>>8,U[O++]=Le,Le=Le>>8,U[O++]=Le,Le=Le>>8,U[O++]=Le;let Ue=Number(R>>BigInt(32)&BigInt(4294967295));return U[O++]=Ue,Ue=Ue>>8,U[O++]=Ue,Ue=Ue>>8,U[O++]=Ue,Ue=Ue>>8,U[O++]=Ue,O}function z(U,R,O,oe,Ie){re(R,oe,Ie,U,O,7);let Le=Number(R&BigInt(4294967295));U[O+7]=Le,Le=Le>>8,U[O+6]=Le,Le=Le>>8,U[O+5]=Le,Le=Le>>8,U[O+4]=Le;let Ue=Number(R>>BigInt(32)&BigInt(4294967295));return U[O+3]=Ue,Ue=Ue>>8,U[O+2]=Ue,Ue=Ue>>8,U[O+1]=Ue,Ue=Ue>>8,U[O]=Ue,O+8}o.prototype.writeBigUInt64LE=Ze(function(R,O=0){return D(this,R,O,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ze(function(R,O=0){return z(this,R,O,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(R,O,oe,Ie){if(R=+R,O=O>>>0,!Ie){const gt=Math.pow(2,8*oe-1);E(this,R,O,oe,gt-1,-gt)}let Le=0,Ue=1,ct=0;for(this[O]=R&255;++Le<oe&&(Ue*=256);)R<0&&ct===0&&this[O+Le-1]!==0&&(ct=1),this[O+Le]=(R/Ue>>0)-ct&255;return O+oe},o.prototype.writeIntBE=function(R,O,oe,Ie){if(R=+R,O=O>>>0,!Ie){const gt=Math.pow(2,8*oe-1);E(this,R,O,oe,gt-1,-gt)}let Le=oe-1,Ue=1,ct=0;for(this[O+Le]=R&255;--Le>=0&&(Ue*=256);)R<0&&ct===0&&this[O+Le+1]!==0&&(ct=1),this[O+Le]=(R/Ue>>0)-ct&255;return O+oe},o.prototype.writeInt8=function(R,O,oe){return R=+R,O=O>>>0,oe||E(this,R,O,1,127,-128),R<0&&(R=255+R+1),this[O]=R&255,O+1},o.prototype.writeInt16LE=function(R,O,oe){return R=+R,O=O>>>0,oe||E(this,R,O,2,32767,-32768),this[O]=R&255,this[O+1]=R>>>8,O+2},o.prototype.writeInt16BE=function(R,O,oe){return R=+R,O=O>>>0,oe||E(this,R,O,2,32767,-32768),this[O]=R>>>8,this[O+1]=R&255,O+2},o.prototype.writeInt32LE=function(R,O,oe){return R=+R,O=O>>>0,oe||E(this,R,O,4,2147483647,-2147483648),this[O]=R&255,this[O+1]=R>>>8,this[O+2]=R>>>16,this[O+3]=R>>>24,O+4},o.prototype.writeInt32BE=function(R,O,oe){return R=+R,O=O>>>0,oe||E(this,R,O,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[O]=R>>>24,this[O+1]=R>>>16,this[O+2]=R>>>8,this[O+3]=R&255,O+4},o.prototype.writeBigInt64LE=Ze(function(R,O=0){return D(this,R,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ze(function(R,O=0){return z(this,R,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function P(U,R,O,oe,Ie,Le){if(O+oe>U.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function de(U,R,O,oe,Ie){return R=+R,O=O>>>0,Ie||P(U,R,O,4),t.write(U,R,O,oe,23,4),O+4}o.prototype.writeFloatLE=function(R,O,oe){return de(this,R,O,!0,oe)},o.prototype.writeFloatBE=function(R,O,oe){return de(this,R,O,!1,oe)};function Pe(U,R,O,oe,Ie){return R=+R,O=O>>>0,Ie||P(U,R,O,8),t.write(U,R,O,oe,52,8),O+8}o.prototype.writeDoubleLE=function(R,O,oe){return Pe(this,R,O,!0,oe)},o.prototype.writeDoubleBE=function(R,O,oe){return Pe(this,R,O,!1,oe)},o.prototype.copy=function(R,O,oe,Ie){if(!o.isBuffer(R))throw new TypeError("argument should be a Buffer");if(oe||(oe=0),!Ie&&Ie!==0&&(Ie=this.length),O>=R.length&&(O=R.length),O||(O=0),Ie>0&&Ie<oe&&(Ie=oe),Ie===oe||R.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),R.length-O<Ie-oe&&(Ie=R.length-O+oe);const Le=Ie-oe;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(O,oe,Ie):Uint8Array.prototype.set.call(R,this.subarray(oe,Ie),O),Le},o.prototype.fill=function(R,O,oe,Ie){if(typeof R=="string"){if(typeof O=="string"?(Ie=O,O=0,oe=this.length):typeof oe=="string"&&(Ie=oe,oe=this.length),Ie!==void 0&&typeof Ie!="string")throw new TypeError("encoding must be a string");if(typeof Ie=="string"&&!o.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if(R.length===1){const Ue=R.charCodeAt(0);(Ie==="utf8"&&Ue<128||Ie==="latin1")&&(R=Ue)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(O<0||this.length<O||this.length<oe)throw new RangeError("Out of range index");if(oe<=O)return this;O=O>>>0,oe=oe===void 0?this.length:oe>>>0,R||(R=0);let Le;if(typeof R=="number")for(Le=O;Le<oe;++Le)this[Le]=R;else{const Ue=o.isBuffer(R)?R:o.from(R,Ie),ct=Ue.length;if(ct===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(Le=0;Le<oe-O;++Le)this[Le+O]=Ue[Le%ct]}return this};const Me={};function Oe(U,R,O){Me[U]=class extends O{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,this.stack,delete this.name}get code(){return U}set code(Ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ie,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}Oe("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Oe("ERR_INVALID_ARG_TYPE",function(U,R){return`The "${U}" argument must be of type number. Received type ${typeof R}`},TypeError),Oe("ERR_OUT_OF_RANGE",function(U,R,O){let oe=`The value of "${U}" is out of range.`,Ie=O;return Number.isInteger(O)&&Math.abs(O)>2**32?Ie=K(String(O)):typeof O=="bigint"&&(Ie=String(O),(O>BigInt(2)**BigInt(32)||O<-(BigInt(2)**BigInt(32)))&&(Ie=K(Ie)),Ie+="n"),oe+=` It must be ${R}. Received ${Ie}`,oe},RangeError);function K(U){let R="",O=U.length;const oe=U[0]==="-"?1:0;for(;O>=oe+4;O-=3)R=`_${U.slice(O-3,O)}${R}`;return`${U.slice(0,O)}${R}`}function te(U,R,O){we(R,"offset"),(U[R]===void 0||U[R+O]===void 0)&&ge(R,U.length-(O+1))}function re(U,R,O,oe,Ie,Le){if(U>O||U<R){const Ue=typeof R=="bigint"?"n":"";let ct;throw R===0||R===BigInt(0)?ct=`>= 0${Ue} and < 2${Ue} ** ${(Le+1)*8}${Ue}`:ct=`>= -(2${Ue} ** ${(Le+1)*8-1}${Ue}) and < 2 ** ${(Le+1)*8-1}${Ue}`,new Me.ERR_OUT_OF_RANGE("value",ct,U)}te(oe,Ie,Le)}function we(U,R){if(typeof U!="number")throw new Me.ERR_INVALID_ARG_TYPE(R,"number",U)}function ge(U,R,O){throw Math.floor(U)!==U?(we(U,O),new Me.ERR_OUT_OF_RANGE("offset","an integer",U)):R<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,U)}const xe=/[^+/0-9A-Za-z-_]/g;function $e(U){if(U=U.split("=")[0],U=U.trim().replace(xe,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function Ae(U,R){R=R||1/0;let O;const oe=U.length;let Ie=null;const Le=[];for(let Ue=0;Ue<oe;++Ue){if(O=U.charCodeAt(Ue),O>55295&&O<57344){if(!Ie){if(O>56319){(R-=3)>-1&&Le.push(239,191,189);continue}else if(Ue+1===oe){(R-=3)>-1&&Le.push(239,191,189);continue}Ie=O;continue}if(O<56320){(R-=3)>-1&&Le.push(239,191,189),Ie=O;continue}O=(Ie-55296<<10|O-56320)+65536}else Ie&&(R-=3)>-1&&Le.push(239,191,189);if(Ie=null,O<128){if((R-=1)<0)break;Le.push(O)}else if(O<2048){if((R-=2)<0)break;Le.push(O>>6|192,O&63|128)}else if(O<65536){if((R-=3)<0)break;Le.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((R-=4)<0)break;Le.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return Le}function F(U){const R=[];for(let O=0;O<U.length;++O)R.push(U.charCodeAt(O)&255);return R}function G(U,R){let O,oe,Ie;const Le=[];for(let Ue=0;Ue<U.length&&!((R-=2)<0);++Ue)O=U.charCodeAt(Ue),oe=O>>8,Ie=O%256,Le.push(Ie),Le.push(oe);return Le}function ne(U){return e.toByteArray($e(U))}function ye(U,R,O,oe){let Ie;for(Ie=0;Ie<oe&&!(Ie+O>=R.length||Ie>=U.length);++Ie)R[Ie+O]=U[Ie];return Ie}function Ne(U,R){return U instanceof R||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===R.name}function ke(U){return U!==U}const Ke=function(){const U="0123456789abcdef",R=new Array(256);for(let O=0;O<16;++O){const oe=O*16;for(let Ie=0;Ie<16;++Ie)R[oe+Ie]=U[O]+U[Ie]}return R}();function Ze(U){return typeof BigInt>"u"?nt:U}function nt(){throw new Error("BigInt not supported")}})(c7);window.adapter||(window.adapter=new UL({network:"Mainnet",options:{relayUrl:"wss://relay.walletconnect.com",projectId:"2fcb14a16795711971a939096779e998",metadata:{name:"Tron Tool",description:"Swap USDT and TRX instantly, plus affordable TRON energy rental.",url:"https://tron-tool.com",icons:["https://tron-tool.com/img/192x192.png"]}},web3ModalConfig:{themeMode:"dark",themeVariables:{"--wcm-z-index":1e3},explorerRecommendedWalletIds:["4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0"]}}));window.wcconnectWallet=async function(){try{const r=window.adapter;r.connected&&await r.disconnect(),r.session&&(r.session=null),await r.connect(),typeof r.onReady=="function"&&await r.onReady(),window.Buffer=c7.Buffer;const e=new UW({fullHost:"https://api.trongrid.io",headers:{"TRON-PRO-API-KEY":"33ab00bc-3f8a-4bdb-942d-17a4406d4fed"}});return e.setAddress(r.address),{connected:!0,address:r.address,tronWeb:e}}catch(r){return console.error("连接失败:",r),{connected:!1,address:null,tronWeb:null}}};window.wcdetectWalletConnection=function(){return adapter.connected&&adapter.address?{connected:!0,address:adapter.address}:{connected:!1,address:null}};window.wcdisconnectWallet=async function(){adapter.connected&&await adapter.disconnect()};export{An as C,ZW as E,uP as H,E0 as M,Ii as O,m6 as R,Zb as T,Io as a,JW as b,J7 as c,IK as d,zm as e,QM as f,SK as g,qd as h,RK as i,PK as j,MK as r,v4 as t,cP as w};
